var Gg=Object.defineProperty;var ud=e=>{throw TypeError(e)};var Wg=(e,r,i)=>r in e?Gg(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i;var Xg=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Yn=(e,r,i)=>Wg(e,typeof r!="symbol"?r+"":r,i),Ql=(e,r,i)=>r.has(e)||ud("Cannot "+i);var le=(e,r,i)=>(Ql(e,r,"read from private field"),i?i.call(e):r.get(e)),Nt=(e,r,i)=>r.has(e)?ud("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,i),ot=(e,r,i,o)=>(Ql(e,r,"write to private field"),o?o.call(e,i):r.set(e,i),i),sr=(e,r,i)=>(Ql(e,r,"access private method"),i);/* empty css              */var J8=Xg((fn,hn)=>{function Yg(e,r){for(var i=0;i<r.length;i++){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in e)){const d=Object.getOwnPropertyDescriptor(o,u);d&&Object.defineProperty(e,u,d.get?d:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();const qg="5";var bf;typeof window<"u"&&((bf=window.__svelte??(window.__svelte={})).v??(bf.v=new Set)).add(qg);let hs=!1,Zg=!1;function Kg(){hs=!0}Kg();const dl=1,fl=2,wf=4,Qg=8,$g=16,Jg=1,ep=2,_f=4,tp=8,rp=16,np=1,ip=2,ap=4,Af=1,sp=2,Ir=Symbol(),op="http://www.w3.org/1999/xhtml",lp="http://www.w3.org/2000/svg",cp="@attach",Ef=!1;var hl=Array.isArray,up=Array.prototype.indexOf,gu=Array.from,Cf=Object.defineProperty,Wi=Object.getOwnPropertyDescriptor,Sf=Object.getOwnPropertyDescriptors,dp=Object.prototype,fp=Array.prototype,pu=Object.getPrototypeOf,dd=Object.isExtensible;function Xa(e){return typeof e=="function"}const Fn=()=>{};function hp(e){return e()}function Oc(e){for(var r=0;r<e.length;r++)e[r]()}function If(){var e,r,i=new Promise((o,u)=>{e=o,r=u});return{promise:i,resolve:e,reject:r}}const Br=2,gl=4,pl=8,ui=16,Ti=32,Ta=64,xl=128,Un=512,Tr=1024,tn=2048,di=4096,gn=8192,Xi=16384,ml=32768,Ai=65536,fd=1<<17,Tf=1<<18,gs=1<<19,kf=1<<20,Qs=32768,Mc=1<<21,xu=1<<22,Yi=1<<23,wi=Symbol("$state"),Nf=Symbol("legacy props"),gp=Symbol(""),qa=new class extends Error{constructor(){super(...arguments);Yn(this,"name","StaleReactionError");Yn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Of(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function pp(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function xp(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function mp(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function yp(e){throw new Error("https://svelte.dev/e/effect_orphan")}function vp(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bp(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function wp(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function _p(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ap(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ep(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Cp(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Sp(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ip=!1;function Mf(e){return e===this.v}function mu(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function Rf(e){return!mu(e,this.v)}let Zt=null;function ns(e){Zt=e}function Xt(e,r=!1,i){Zt={p:Zt,i:!1,c:null,e:null,s:e,x:null,l:hs&&!r?{s:null,u:null,$:[]}:null}}function Yt(e){var r=Zt,i=r.e;if(i!==null){r.e=null;for(var o of i)$f(o)}return r.i=!0,Zt=r.p,{}}function ps(){return!hs||Zt!==null&&Zt.l===null}let da=[];function Df(){var e=da;da=[],Oc(e)}function Ei(e){if(da.length===0&&!zs){var r=da;queueMicrotask(()=>{r===da&&Df()})}da.push(e)}function Tp(){for(;da.length>0;)Df()}function Pf(e){var r=wt;if(r===null)return At.f|=Yi,e;if(r.f&ml)is(e,r);else{if(!(r.f&xl))throw e;r.b.error(e)}}function is(e,r){for(;r!==null;){if(r.f&xl)try{r.b.error(e);return}catch(i){e=i}r=r.parent}throw e}const Co=new Set;let Dt=null,Hs=null,or=null,ai=[],yl=null,Rc=!1,zs=!1;var Ja,es,ga,pa,ao,ts,rs,Pr,Dc,oa,Lf,Bf;const ll=class ll{constructor(){Nt(this,Pr);Yn(this,"committed",!1);Yn(this,"current",new Map);Yn(this,"previous",new Map);Nt(this,Ja,new Set);Nt(this,es,new Set);Nt(this,ga,0);Nt(this,pa,0);Nt(this,ao,null);Nt(this,ts,[]);Nt(this,rs,[]);Yn(this,"skipped_effects",new Set);Yn(this,"is_fork",!1)}process(r){var o;ai=[],Hs=null,this.apply();var i={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const u of r)sr(this,Pr,Dc).call(this,u,i);this.is_fork||sr(this,Pr,Lf).call(this),le(this,pa)>0||this.is_fork?(sr(this,Pr,oa).call(this,i.effects),sr(this,Pr,oa).call(this,i.render_effects),sr(this,Pr,oa).call(this,i.block_effects)):(Hs=this,Dt=null,hd(i.render_effects),hd(i.effects),Hs=null,(o=le(this,ao))==null||o.resolve()),or=null}capture(r,i){this.previous.has(r)||this.previous.set(r,i),r.f&Yi||(this.current.set(r,r.v),or==null||or.set(r,r.v))}activate(){Dt=this,this.apply()}deactivate(){Dt=null,or=null}flush(){if(this.activate(),ai.length>0){if(Ff(),Dt!==null&&Dt!==this)return}else le(this,ga)===0&&this.process([]);this.deactivate()}discard(){for(const r of le(this,es))r(this);le(this,es).clear()}increment(r){ot(this,ga,le(this,ga)+1),r&&ot(this,pa,le(this,pa)+1)}decrement(r){ot(this,ga,le(this,ga)-1),r&&ot(this,pa,le(this,pa)-1),this.revive()}revive(){for(const r of le(this,ts))kr(r,tn),Aa(r);for(const r of le(this,rs))kr(r,di),Aa(r);ot(this,ts,[]),ot(this,rs,[]),this.flush()}oncommit(r){le(this,Ja).add(r)}ondiscard(r){le(this,es).add(r)}settled(){return(le(this,ao)??ot(this,ao,If())).promise}static ensure(){if(Dt===null){const r=Dt=new ll;Co.add(Dt),zs||ll.enqueue(()=>{Dt===r&&r.flush()})}return Dt}static enqueue(r){Ei(r)}apply(){}};Ja=new WeakMap,es=new WeakMap,ga=new WeakMap,pa=new WeakMap,ao=new WeakMap,ts=new WeakMap,rs=new WeakMap,Pr=new WeakSet,Dc=function(r,i){var v;r.f^=Tr;for(var o=r.first;o!==null;){var u=o.f,d=(u&(Ti|Ta))!==0,g=d&&(u&Tr)!==0,m=g||(u&gn)!==0||this.skipped_effects.has(o);if(o.f&xl&&((v=o.b)!=null&&v.is_pending())&&(i={parent:i,effect:o,effects:[],render_effects:[],block_effects:[]}),!m&&o.fn!==null){d?o.f^=Tr:u&gl?i.effects.push(o):vs(o)&&(o.f&ui&&i.block_effects.push(o),as(o));var y=o.first;if(y!==null){o=y;continue}}var p=o.parent;for(o=o.next;o===null&&p!==null;)p===i.effect&&(sr(this,Pr,oa).call(this,i.effects),sr(this,Pr,oa).call(this,i.render_effects),sr(this,Pr,oa).call(this,i.block_effects),i=i.parent),o=p.next,p=p.parent}},oa=function(r){for(const i of r)(i.f&tn?le(this,ts):le(this,rs)).push(i),kr(i,Tr)},Lf=function(){if(le(this,pa)===0){for(const r of le(this,Ja))r();le(this,Ja).clear()}le(this,ga)===0&&sr(this,Pr,Bf).call(this)},Bf=function(){var u;if(Co.size>1){this.previous.clear();var r=or,i=!0,o={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const d of Co){if(d===this){i=!1;continue}const g=[];for(const[y,p]of this.current){if(d.current.has(y))if(i&&p!==d.current.get(y))d.current.set(y,p);else continue;g.push(y)}if(g.length===0)continue;const m=[...d.current.keys()].filter(y=>!this.current.has(y));if(m.length>0){const y=new Set,p=new Map;for(const v of g)Uf(v,m,y,p);if(ai.length>0){Dt=d,d.apply();for(const v of ai)sr(u=d,Pr,Dc).call(u,v,o);ai=[],d.deactivate()}}}Dt=null,or=r}this.committed=!0,Co.delete(this)};let vi=ll;function kp(e){var r=zs;zs=!0;try{for(var i;;){if(Tp(),ai.length===0&&(Dt==null||Dt.flush(),ai.length===0))return yl=null,i;Ff()}}finally{zs=r}}function Ff(){var e=va;Rc=!0;try{var r=0;for(yd(!0);ai.length>0;){var i=vi.ensure();if(r++>1e3){var o,u;Np()}i.process(ai),qi.clear()}}finally{Rc=!1,yd(e),yl=null}}function Np(){try{vp()}catch(e){is(e,yl)}}let Dn=null;function hd(e){var r=e.length;if(r!==0){for(var i=0;i<r;){var o=e[i++];if(!(o.f&(Xi|gn))&&vs(o)&&(Dn=new Set,as(o),o.deps===null&&o.first===null&&o.nodes_start===null&&(o.teardown===null&&o.ac===null?r1(o):o.fn=null),(Dn==null?void 0:Dn.size)>0)){qi.clear();for(const u of Dn){if(u.f&(Xi|gn))continue;const d=[u];let g=u.parent;for(;g!==null;)Dn.has(g)&&(Dn.delete(g),d.push(g)),g=g.parent;for(let m=d.length-1;m>=0;m--){const y=d[m];y.f&(Xi|gn)||as(y)}}Dn.clear()}}Dn=null}}function Uf(e,r,i,o){if(!i.has(e)&&(i.add(e),e.reactions!==null))for(const u of e.reactions){const d=u.f;d&Br?Uf(u,r,i,o):d&(xu|ui)&&!(d&tn)&&jf(u,r,o)&&(kr(u,tn),Aa(u))}}function jf(e,r,i){const o=i.get(e);if(o!==void 0)return o;if(e.deps!==null)for(const u of e.deps){if(r.includes(u))return!0;if(u.f&Br&&jf(u,r,i))return i.set(u,!0),!0}return i.set(e,!1),!1}function Aa(e){for(var r=yl=e;r.parent!==null;){r=r.parent;var i=r.f;if(Rc&&r===wt&&i&ui&&!(i&Tf))return;if(i&(Ta|Ti)){if(!(i&Tr))return;r.f^=Tr}}ai.push(r)}function Op(e){let r=0,i=Zi(0),o;return()=>{bl()&&(w(i),ys(()=>(r===0&&(o=z(()=>e(()=>Vs(i)))),r+=1,()=>{Ei(()=>{r-=1,r===0&&(o==null||o(),o=void 0,Vs(i))})})))}}var Mp=Ai|gs|xl;function Rp(e,r,i){new Dp(e,r,i)}var wn,_n,hu,ei,xa,ti,An,Zr,ri,mi,ji,ma,Hi,ya,zi,cl,_r,Pp,Lp,Pc,Do,Po,Lc;class Dp{constructor(r,i,o){Nt(this,_r);Yn(this,"parent");Nt(this,wn,!1);Nt(this,_n);Nt(this,hu,null);Nt(this,ei);Nt(this,xa);Nt(this,ti);Nt(this,An,null);Nt(this,Zr,null);Nt(this,ri,null);Nt(this,mi,null);Nt(this,ji,null);Nt(this,ma,0);Nt(this,Hi,0);Nt(this,ya,!1);Nt(this,zi,null);Nt(this,cl,Op(()=>(ot(this,zi,Zi(le(this,ma))),()=>{ot(this,zi,null)})));ot(this,_n,r),ot(this,ei,i),ot(this,xa,o),this.parent=wt.b,ot(this,wn,!!le(this,ei).pending),ot(this,ti,ea(()=>{wt.b=this;{var u=sr(this,_r,Pc).call(this);try{ot(this,An,cn(()=>o(u)))}catch(d){this.error(d)}le(this,Hi)>0?sr(this,_r,Po).call(this):ot(this,wn,!1)}return()=>{var d;(d=le(this,ji))==null||d.remove()}},Mp))}is_pending(){return le(this,wn)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!le(this,ei).pending}update_pending_count(r){sr(this,_r,Lc).call(this,r),ot(this,ma,le(this,ma)+r),le(this,zi)&&Ea(le(this,zi),le(this,ma))}get_effect_pending(){return le(this,cl).call(this),w(le(this,zi))}error(r){var i=le(this,ei).onerror;let o=le(this,ei).failed;if(le(this,ya)||!i&&!o)throw r;le(this,An)&&(wr(le(this,An)),ot(this,An,null)),le(this,Zr)&&(wr(le(this,Zr)),ot(this,Zr,null)),le(this,ri)&&(wr(le(this,ri)),ot(this,ri,null));var u=!1,d=!1;const g=()=>{if(u){Sp();return}u=!0,d&&Ep(),vi.ensure(),ot(this,ma,0),le(this,ri)!==null&&Qa(le(this,ri),()=>{ot(this,ri,null)}),ot(this,wn,this.has_pending_snippet()),ot(this,An,sr(this,_r,Do).call(this,()=>(ot(this,ya,!1),cn(()=>le(this,xa).call(this,le(this,_n)))))),le(this,Hi)>0?sr(this,_r,Po).call(this):ot(this,wn,!1)};var m=At;try{Kr(null),d=!0,i==null||i(r,g),d=!1}catch(y){is(y,le(this,ti)&&le(this,ti).parent)}finally{Kr(m)}o&&Ei(()=>{ot(this,ri,sr(this,_r,Do).call(this,()=>{vi.ensure(),ot(this,ya,!0);try{return cn(()=>{o(le(this,_n),()=>r,()=>g)})}catch(y){return is(y,le(this,ti).parent),null}finally{ot(this,ya,!1)}}))})}}wn=new WeakMap,_n=new WeakMap,hu=new WeakMap,ei=new WeakMap,xa=new WeakMap,ti=new WeakMap,An=new WeakMap,Zr=new WeakMap,ri=new WeakMap,mi=new WeakMap,ji=new WeakMap,ma=new WeakMap,Hi=new WeakMap,ya=new WeakMap,zi=new WeakMap,cl=new WeakMap,_r=new WeakSet,Pp=function(){try{ot(this,An,cn(()=>le(this,xa).call(this,le(this,_n))))}catch(r){this.error(r)}ot(this,wn,!1)},Lp=function(){const r=le(this,ei).pending;r&&(ot(this,Zr,cn(()=>r(le(this,_n)))),vi.enqueue(()=>{var i=sr(this,_r,Pc).call(this);ot(this,An,sr(this,_r,Do).call(this,()=>(vi.ensure(),cn(()=>le(this,xa).call(this,i))))),le(this,Hi)>0?sr(this,_r,Po).call(this):(Qa(le(this,Zr),()=>{ot(this,Zr,null)}),ot(this,wn,!1))}))},Pc=function(){var r=le(this,_n);return le(this,wn)&&(ot(this,ji,Ci()),le(this,_n).before(le(this,ji)),r=le(this,ji)),r},Do=function(r){var i=wt,o=At,u=Zt;Cn(le(this,ti)),Kr(le(this,ti)),ns(le(this,ti).ctx);try{return r()}catch(d){return Pf(d),null}finally{Cn(i),Kr(o),ns(u)}},Po=function(){const r=le(this,ei).pending;le(this,An)!==null&&(ot(this,mi,document.createDocumentFragment()),le(this,mi).append(le(this,ji)),a1(le(this,An),le(this,mi))),le(this,Zr)===null&&ot(this,Zr,cn(()=>r(le(this,_n))))},Lc=function(r){var i;if(!this.has_pending_snippet()){this.parent&&sr(i=this.parent,_r,Lc).call(i,r);return}ot(this,Hi,le(this,Hi)+r),le(this,Hi)===0&&(ot(this,wn,!1),le(this,Zr)&&Qa(le(this,Zr),()=>{ot(this,Zr,null)}),le(this,mi)&&(le(this,_n).before(le(this,mi)),ot(this,mi,null)))};function Hf(e,r,i,o){const u=ps()?vl:yu;if(i.length===0&&e.length===0){o(r.map(u));return}var d=Dt,g=wt,m=Bp();function y(){Promise.all(i.map(p=>Fp(p))).then(p=>{m();try{o([...r.map(u),...p])}catch(v){g.f&Xi||is(v,g)}d==null||d.deactivate(),Xo()}).catch(p=>{is(p,g)})}e.length>0?Promise.all(e).then(()=>{m();try{return y()}finally{d==null||d.deactivate(),Xo()}}):y()}function Bp(){var e=wt,r=At,i=Zt,o=Dt;return function(d=!0){Cn(e),Kr(r),ns(i),d&&(o==null||o.activate())}}function Xo(){Cn(null),Kr(null),ns(null)}function vl(e){var r=Br|tn,i=At!==null&&At.f&Br?At:null;return wt!==null&&(wt.f|=gs),{ctx:Zt,deps:null,effects:null,equals:Mf,f:r,fn:e,reactions:null,rv:0,v:Ir,wv:0,parent:i??wt,ac:null}}function Fp(e,r){let i=wt;i===null&&pp();var o=i.b,u=void 0,d=Zi(Ir),g=!At,m=new Map;return qp(()=>{var T;var y=If();u=y.promise;try{Promise.resolve(e()).then(y.resolve,y.reject).then(()=>{p===Dt&&p.committed&&p.deactivate(),Xo()})}catch(O){y.reject(O),Xo()}var p=Dt;if(g){var v=!o.is_pending();o.update_pending_count(1),p.increment(v),(T=m.get(p))==null||T.reject(qa),m.delete(p),m.set(p,y)}const A=(O,k=void 0)=>{if(p.activate(),k)k!==qa&&(d.f|=Yi,Ea(d,k));else{d.f&Yi&&(d.f^=Yi),Ea(d,O);for(const[D,P]of m){if(m.delete(D),D===p)break;P.reject(qa)}}g&&(o.update_pending_count(-1),p.decrement(v))};y.promise.then(A,O=>A(null,O||"unknown"))}),ms(()=>{for(const y of m.values())y.reject(qa)}),new Promise(y=>{function p(v){function A(){v===u?y(d):p(u)}v.then(A,A)}p(u)})}function yu(e){const r=vl(e);return r.equals=Rf,r}function zf(e){var r=e.effects;if(r!==null){e.effects=null;for(var i=0;i<r.length;i+=1)wr(r[i])}}function Up(e){for(var r=e.parent;r!==null;){if(!(r.f&Br))return r;r=r.parent}return null}function vu(e){var r,i=wt;Cn(Up(e));try{e.f&=~Qs,zf(e),r=c1(e)}finally{Cn(i)}return r}function Vf(e){var r=vu(e);if(e.equals(r)||(e.v=r,e.wv=o1()),!ka)if(or!==null)bl()&&or.set(e,e.v);else{var i=e.f&Un?Tr:di;kr(e,i)}}let Bc=new Set;const qi=new Map;let Gf=!1;function Zi(e,r){var i={f:0,v:e,reactions:null,equals:Mf,rv:0,wv:0};return i}function Bi(e,r){const i=Zi(e);return Qp(i),i}function Se(e,r=!1,i=!0){var u;const o=Zi(e);return r||(o.equals=Rf),hs&&i&&Zt!==null&&Zt.l!==null&&((u=Zt.l).s??(u.s=[])).push(o),o}function Rr(e,r){return te(e,z(()=>w(e))),r}function te(e,r,i=!1){At!==null&&(!li||At.f&fd)&&ps()&&At.f&(Br|ui|xu|fd)&&!(zr!=null&&zr.includes(e))&&Ap();let o=i?Za(r):r;return Ea(e,o)}function Ea(e,r){if(!e.equals(r)){var i=e.v;ka?qi.set(e,r):qi.set(e,i),e.v=r;var o=vi.ensure();o.capture(e,i),e.f&Br&&(e.f&tn&&vu(e),kr(e,e.f&Un?Tr:di)),e.wv=o1(),Wf(e,tn),ps()&&wt!==null&&wt.f&Tr&&!(wt.f&(Ti|Ta))&&(bn===null?$p([e]):bn.push(e)),!o.is_fork&&Bc.size>0&&!Gf&&jp()}return r}function jp(){Gf=!1;const e=Array.from(Bc);for(const r of e)r.f&Tr&&kr(r,di),vs(r)&&as(r);Bc.clear()}function gd(e,r=1){var i=w(e),o=r===1?i++:i--;return te(e,i),o}function Vs(e){te(e,e.v+1)}function Wf(e,r){var i=e.reactions;if(i!==null)for(var o=ps(),u=i.length,d=0;d<u;d++){var g=i[d],m=g.f;if(!(!o&&g===wt)){var y=(m&tn)===0;if(y&&kr(g,r),m&Br){var p=g;or==null||or.delete(p),m&Qs||(m&Un&&(g.f|=Qs),Wf(p,di))}else y&&(m&ui&&Dn!==null&&Dn.add(g),Aa(g))}}}function Za(e){if(typeof e!="object"||e===null||wi in e)return e;const r=pu(e);if(r!==dp&&r!==fp)return e;var i=new Map,o=hl(e),u=Bi(0),d=ba,g=m=>{if(ba===d)return m();var y=At,p=ba;Kr(null),bd(d);var v=m();return Kr(y),bd(p),v};return o&&i.set("length",Bi(e.length)),new Proxy(e,{defineProperty(m,y,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&wp();var v=i.get(y);return v===void 0?v=g(()=>{var A=Bi(p.value);return i.set(y,A),A}):te(v,p.value,!0),!0},deleteProperty(m,y){var p=i.get(y);if(p===void 0){if(y in m){const v=g(()=>Bi(Ir));i.set(y,v),Vs(u)}}else te(p,Ir),Vs(u);return!0},get(m,y,p){var O;if(y===wi)return e;var v=i.get(y),A=y in m;if(v===void 0&&(!A||(O=Wi(m,y))!=null&&O.writable)&&(v=g(()=>{var k=Za(A?m[y]:Ir),D=Bi(k);return D}),i.set(y,v)),v!==void 0){var T=w(v);return T===Ir?void 0:T}return Reflect.get(m,y,p)},getOwnPropertyDescriptor(m,y){var p=Reflect.getOwnPropertyDescriptor(m,y);if(p&&"value"in p){var v=i.get(y);v&&(p.value=w(v))}else if(p===void 0){var A=i.get(y),T=A==null?void 0:A.v;if(A!==void 0&&T!==Ir)return{enumerable:!0,configurable:!0,value:T,writable:!0}}return p},has(m,y){var T;if(y===wi)return!0;var p=i.get(y),v=p!==void 0&&p.v!==Ir||Reflect.has(m,y);if(p!==void 0||wt!==null&&(!v||(T=Wi(m,y))!=null&&T.writable)){p===void 0&&(p=g(()=>{var O=v?Za(m[y]):Ir,k=Bi(O);return k}),i.set(y,p));var A=w(p);if(A===Ir)return!1}return v},set(m,y,p,v){var L;var A=i.get(y),T=y in m;if(o&&y==="length")for(var O=p;O<A.v;O+=1){var k=i.get(O+"");k!==void 0?te(k,Ir):O in m&&(k=g(()=>Bi(Ir)),i.set(O+"",k))}if(A===void 0)(!T||(L=Wi(m,y))!=null&&L.writable)&&(A=g(()=>Bi(void 0)),te(A,Za(p)),i.set(y,A));else{T=A.v!==Ir;var D=g(()=>Za(p));te(A,D)}var P=Reflect.getOwnPropertyDescriptor(m,y);if(P!=null&&P.set&&P.set.call(v,p),!T){if(o&&typeof y=="string"){var H=i.get("length"),W=Number(y);Number.isInteger(W)&&W>=H.v&&te(H,W+1)}Vs(u)}return!0},ownKeys(m){w(u);var y=Reflect.ownKeys(m).filter(A=>{var T=i.get(A);return T===void 0||T.v!==Ir});for(var[p,v]of i)v.v!==Ir&&!(p in m)&&y.push(p);return y},setPrototypeOf(){_p()}})}function pd(e){try{if(e!==null&&typeof e=="object"&&wi in e)return e[wi]}catch{}return e}function Xf(e,r){return Object.is(pd(e),pd(r))}var xd,Yf,qf,Zf;function Hp(){if(xd===void 0){xd=window,Yf=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,i=Text.prototype;qf=Wi(r,"firstChild").get,Zf=Wi(r,"nextSibling").get,dd(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),dd(i)&&(i.__t=void 0)}}function Ci(e=""){return document.createTextNode(e)}function un(e){return qf.call(e)}function lo(e){return Zf.call(e)}function _(e,r){return un(e)}function Ct(e,r=!1){{var i=un(e);return i instanceof Comment&&i.data===""?lo(i):i}}function I(e,r=1,i=!1){let o=e;for(;r--;)o=lo(o);return o}function zp(e){e.textContent=""}function Kf(){return!1}function Vp(e,r){if(r){const i=document.body;e.autofocus=!0,Ei(()=>{document.activeElement===i&&e.focus()})}}let md=!1;function Gp(){md||(md=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const i of e.target.elements)(r=i.__on_r)==null||r.call(i)})},{capture:!0}))}function xs(e){var r=At,i=wt;Kr(null),Cn(null);try{return e()}finally{Kr(r),Cn(i)}}function bu(e,r,i,o=i){e.addEventListener(r,()=>xs(i));const u=e.__on_r;u?e.__on_r=()=>{u(),o(!0)}:e.__on_r=()=>o(!0),Gp()}function Qf(e){wt===null&&(At===null&&yp(),mp()),ka&&xp()}function Wp(e,r){var i=r.last;i===null?r.last=r.first=e:(i.next=e,e.prev=i,r.last=e)}function fi(e,r,i,o=!0){var u=wt;u!==null&&u.f&gn&&(e|=gn);var d={ctx:Zt,deps:null,nodes_start:null,nodes_end:null,f:e|tn|Un,first:null,fn:r,last:null,next:null,parent:u,b:u&&u.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(i)try{as(d),d.f|=ml}catch(y){throw wr(d),y}else r!==null&&Aa(d);if(o){var g=d;if(i&&g.deps===null&&g.teardown===null&&g.nodes_start===null&&g.first===g.last&&!(g.f&gs)&&(g=g.first,e&ui&&e&Ai&&g!==null&&(g.f|=Ai)),g!==null&&(g.parent=u,u!==null&&Wp(g,u),At!==null&&At.f&Br&&!(e&Ta))){var m=At;(m.effects??(m.effects=[])).push(g)}}return d}function bl(){return At!==null&&!li}function ms(e){const r=fi(pl,null,!1);return kr(r,Tr),r.teardown=e,r}function Fc(e){Qf();var r=wt.f,i=!At&&(r&Ti)!==0&&(r&ml)===0;if(i){var o=Zt;(o.e??(o.e=[])).push(e)}else return $f(e)}function $f(e){return fi(gl|kf,e,!1)}function Xp(e){return Qf(),fi(pl|kf,e,!0)}function Yp(e){vi.ensure();const r=fi(Ta|gs,e,!0);return(i={})=>new Promise(o=>{i.outro?Qa(r,()=>{wr(r),o(void 0)}):(wr(r),o(void 0))})}function si(e){return fi(gl,e,!1)}function oi(e,r){var i=Zt,o={effect:null,ran:!1,deps:e};i.l.$.push(o),o.effect=ys(()=>{e(),!o.ran&&(o.ran=!0,z(r))})}function wu(){var e=Zt;ys(()=>{for(var r of e.l.$){r.deps();var i=r.effect;i.f&Tr&&kr(i,di),vs(i)&&as(i),r.ran=!1}})}function qp(e){return fi(xu|gs,e,!0)}function ys(e,r=0){return fi(pl|r,e,!0)}function Me(e,r=[],i=[],o=[],u=!1){Hf(o,r,i,d=>{fi(u?gl:pl,()=>e(...d.map(w)),!0)})}function ea(e,r=0){var i=fi(ui|r,e,!0);return i}function cn(e,r=!0){return fi(Ti|gs,e,!0,r)}function Jf(e){var r=e.teardown;if(r!==null){const i=ka,o=At;vd(!0),Kr(null);try{r.call(null)}finally{vd(i),Kr(o)}}}function e1(e,r=!1){var i=e.first;for(e.first=e.last=null;i!==null;){const u=i.ac;u!==null&&xs(()=>{u.abort(qa)});var o=i.next;i.f&Ta?i.parent=null:wr(i,r),i=o}}function Zp(e){for(var r=e.first;r!==null;){var i=r.next;r.f&Ti||wr(r),r=i}}function wr(e,r=!0){var i=!1;(r||e.f&Tf)&&e.nodes_start!==null&&e.nodes_end!==null&&(t1(e.nodes_start,e.nodes_end),i=!0),e1(e,r&&!i),Yo(e,0),kr(e,Xi);var o=e.transitions;if(o!==null)for(const d of o)d.stop();Jf(e);var u=e.parent;u!==null&&u.first!==null&&r1(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function t1(e,r){for(;e!==null;){var i=e===r?null:lo(e);e.remove(),e=i}}function r1(e){var r=e.parent,i=e.prev,o=e.next;i!==null&&(i.next=o),o!==null&&(o.prev=i),r!==null&&(r.first===e&&(r.first=o),r.last===e&&(r.last=i))}function Qa(e,r,i=!0){var o=[];_u(e,o,!0),n1(o,()=>{i&&wr(e),r&&r()})}function n1(e,r){var i=e.length;if(i>0){var o=()=>--i||r();for(var u of e)u.out(o)}else r()}function _u(e,r,i){if(!(e.f&gn)){if(e.f^=gn,e.transitions!==null)for(const g of e.transitions)(g.is_global||i)&&r.push(g);for(var o=e.first;o!==null;){var u=o.next,d=(o.f&Ai)!==0||(o.f&Ti)!==0&&(e.f&ui)!==0;_u(o,r,d?i:!1),o=u}}}function Au(e){i1(e,!0)}function i1(e,r){if(e.f&gn){e.f^=gn,e.f&Tr||(kr(e,tn),Aa(e));for(var i=e.first;i!==null;){var o=i.next,u=(i.f&Ai)!==0||(i.f&Ti)!==0;i1(i,u?r:!1),i=o}if(e.transitions!==null)for(const d of e.transitions)(d.is_global||r)&&d.in()}}function a1(e,r){for(var i=e.nodes_start,o=e.nodes_end;i!==null;){var u=i===o?null:lo(i);r.append(i),i=u}}let Ui=null;function Kp(e){var r=Ui;try{if(Ui=new Set,z(e),r!==null)for(var i of Ui)r.add(i);return Ui}finally{Ui=r}}function Eu(e){for(var r of Kp(e))Ea(r,r.v)}let va=!1;function yd(e){va=e}let ka=!1;function vd(e){ka=e}let At=null,li=!1;function Kr(e){At=e}let wt=null;function Cn(e){wt=e}let zr=null;function Qp(e){At!==null&&(zr===null?zr=[e]:zr.push(e))}let jr=null,an=0,bn=null;function $p(e){bn=e}let s1=1,$s=0,ba=$s;function bd(e){ba=e}function o1(){return++s1}function vs(e){var r=e.f;if(r&tn)return!0;if(r&Br&&(e.f&=~Qs),r&di){var i=e.deps;if(i!==null)for(var o=i.length,u=0;u<o;u++){var d=i[u];if(vs(d)&&Vf(d),d.wv>e.wv)return!0}r&Un&&or===null&&kr(e,Tr)}return!1}function l1(e,r,i=!0){var o=e.reactions;if(o!==null&&!(zr!=null&&zr.includes(e)))for(var u=0;u<o.length;u++){var d=o[u];d.f&Br?l1(d,r,!1):r===d&&(i?kr(d,tn):d.f&Tr&&kr(d,di),Aa(d))}}function c1(e){var k;var r=jr,i=an,o=bn,u=At,d=zr,g=Zt,m=li,y=ba,p=e.f;jr=null,an=0,bn=null,At=p&(Ti|Ta)?null:e,zr=null,ns(e.ctx),li=!1,ba=++$s,e.ac!==null&&(xs(()=>{e.ac.abort(qa)}),e.ac=null);try{e.f|=Mc;var v=e.fn,A=v(),T=e.deps;if(jr!==null){var O;if(Yo(e,an),T!==null&&an>0)for(T.length=an+jr.length,O=0;O<jr.length;O++)T[an+O]=jr[O];else e.deps=T=jr;if(va&&bl()&&e.f&Un)for(O=an;O<T.length;O++)((k=T[O]).reactions??(k.reactions=[])).push(e)}else T!==null&&an<T.length&&(Yo(e,an),T.length=an);if(ps()&&bn!==null&&!li&&T!==null&&!(e.f&(Br|di|tn)))for(O=0;O<bn.length;O++)l1(bn[O],e);return u!==null&&u!==e&&($s++,bn!==null&&(o===null?o=bn:o.push(...bn))),e.f&Yi&&(e.f^=Yi),A}catch(D){return Pf(D)}finally{e.f^=Mc,jr=r,an=i,bn=o,At=u,zr=d,ns(g),li=m,ba=y}}function Jp(e,r){let i=r.reactions;if(i!==null){var o=up.call(i,e);if(o!==-1){var u=i.length-1;u===0?i=r.reactions=null:(i[o]=i[u],i.pop())}}i===null&&r.f&Br&&(jr===null||!jr.includes(r))&&(kr(r,di),r.f&Un&&(r.f^=Un,r.f&=~Qs),zf(r),Yo(r,0))}function Yo(e,r){var i=e.deps;if(i!==null)for(var o=r;o<i.length;o++)Jp(e,i[o])}function as(e){var r=e.f;if(!(r&Xi)){kr(e,Tr);var i=wt,o=va;wt=e,va=!0;try{r&ui?Zp(e):e1(e),Jf(e);var u=c1(e);e.teardown=typeof u=="function"?u:null,e.wv=s1;var d;Ef&&Zg&&e.f&tn&&e.deps}finally{va=o,wt=i}}}async function ex(){await Promise.resolve(),kp()}function w(e){var r=e.f,i=(r&Br)!==0;if(Ui==null||Ui.add(e),At!==null&&!li){var o=wt!==null&&(wt.f&Xi)!==0;if(!o&&!(zr!=null&&zr.includes(e))){var u=At.deps;if(At.f&Mc)e.rv<$s&&(e.rv=$s,jr===null&&u!==null&&u[an]===e?an++:jr===null?jr=[e]:jr.includes(e)||jr.push(e));else{(At.deps??(At.deps=[])).push(e);var d=e.reactions;d===null?e.reactions=[At]:d.includes(At)||d.push(At)}}}if(ka){if(qi.has(e))return qi.get(e);if(i){var g=e,m=g.v;return(!(g.f&Tr)&&g.reactions!==null||d1(g))&&(m=vu(g)),qi.set(g,m),m}}else if(i){if(g=e,or!=null&&or.has(g))return or.get(g);vs(g)&&Vf(g),va&&bl()&&!(g.f&Un)&&u1(g)}else if(or!=null&&or.has(e))return or.get(e);if(e.f&Yi)throw e.v;return e.v}function u1(e){if(e.deps!==null){e.f^=Un;for(const r of e.deps)(r.reactions??(r.reactions=[])).push(e),r.f&Br&&!(r.f&Un)&&u1(r)}}function d1(e){if(e.v===Ir)return!0;if(e.deps===null)return!1;for(const r of e.deps)if(qi.has(r)||r.f&Br&&d1(r))return!0;return!1}function z(e){var r=li;try{return li=!0,e()}finally{li=r}}const tx=-7169;function kr(e,r){e.f=e.f&tx|r}function Ce(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(wi in e)Uc(e);else if(!Array.isArray(e))for(let r in e){const i=e[r];typeof i=="object"&&i&&wi in i&&Uc(i)}}}function Uc(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let o in e)try{Uc(e[o],r)}catch{}const i=pu(e);if(i!==Object.prototype&&i!==Array.prototype&&i!==Map.prototype&&i!==Set.prototype&&i!==Date.prototype){const o=Sf(i);for(let u in o){const d=o[u].get;if(d)try{d.call(e)}catch{}}}}}const f1=new Set,jc=new Set;function h1(e,r,i,o={}){function u(d){if(o.capture||Us.call(r,d),!d.cancelBubble)return xs(()=>i==null?void 0:i.call(this,d))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ei(()=>{r.addEventListener(e,u,o)}):r.addEventListener(e,u,o),u}function Be(e,r,i,o,u){var d={capture:o,passive:u},g=h1(e,r,i,d);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&ms(()=>{r.removeEventListener(e,g,d)})}function rx(e){for(var r=0;r<e.length;r++)f1.add(e[r]);for(var i of jc)i(e)}let wd=null;function Us(e){var P;var r=this,i=r.ownerDocument,o=e.type,u=((P=e.composedPath)==null?void 0:P.call(e))||[],d=u[0]||e.target;wd=e;var g=0,m=wd===e&&e.__root;if(m){var y=u.indexOf(m);if(y!==-1&&(r===document||r===window)){e.__root=r;return}var p=u.indexOf(r);if(p===-1)return;y<=p&&(g=y)}if(d=u[g]||e.target,d!==r){Cf(e,"currentTarget",{configurable:!0,get(){return d||i}});var v=At,A=wt;Kr(null),Cn(null);try{for(var T,O=[];d!==null;){var k=d.assignedSlot||d.parentNode||d.host||null;try{var D=d["__"+o];D!=null&&(!d.disabled||e.target===d)&&D.call(d,e)}catch(H){T?O.push(H):T=H}if(e.cancelBubble||k===r||k===null)break;d=k}if(T){for(let H of O)queueMicrotask(()=>{throw H});throw T}}finally{e.__root=r,delete e.currentTarget,Kr(v),Cn(A)}}}function Cu(e){var r=document.createElement("template");return r.innerHTML=e.replaceAll("<!>","<!---->"),r.content}function Ki(e,r){var i=wt;i.nodes_start===null&&(i.nodes_start=e,i.nodes_end=r)}function ye(e,r){var i=(r&Af)!==0,o=(r&sp)!==0,u,d=!e.startsWith("<!>");return()=>{u===void 0&&(u=Cu(d?e:"<!>"+e),i||(u=un(u)));var g=o||Yf?document.importNode(u,!0):u.cloneNode(!0);if(i){var m=un(g),y=g.lastChild;Ki(m,y)}else Ki(g,g);return g}}function nx(e,r,i="svg"){var o=!e.startsWith("<!>"),u=(r&Af)!==0,d=`<${i}>${o?e:"<!>"+e}</${i}>`,g;return()=>{if(!g){var m=Cu(d),y=un(m);if(u)for(g=document.createDocumentFragment();un(y);)g.appendChild(un(y));else g=un(y)}var p=g.cloneNode(!0);if(u){var v=un(p),A=p.lastChild;Ki(v,A)}else Ki(p,p);return p}}function bs(e,r){return nx(e,r,"svg")}function Bt(e=""){{var r=Ci(e+"");return Ki(r,r),r}}function Dr(){var e=document.createDocumentFragment(),r=document.createComment(""),i=Ci();return e.append(r,i),Ki(r,i),e}function K(e,r){e!==null&&e.before(r)}function ix(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const ax=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function sx(e){return ax.includes(e)}const ox={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function lx(e){return e=e.toLowerCase(),ox[e]??e}const cx=["touchstart","touchmove"];function ux(e){return cx.includes(e)}let qo=!0;function So(e){qo=e}function ae(e,r){var i=r==null?"":typeof r=="object"?r+"":r;i!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=i,e.nodeValue=i+"")}function dx(e,r){return fx(e,r)}const Ha=new Map;function fx(e,{target:r,anchor:i,props:o={},events:u,context:d,intro:g=!0}){Hp();var m=new Set,y=A=>{for(var T=0;T<A.length;T++){var O=A[T];if(!m.has(O)){m.add(O);var k=ux(O);r.addEventListener(O,Us,{passive:k});var D=Ha.get(O);D===void 0?(document.addEventListener(O,Us,{passive:k}),Ha.set(O,1)):Ha.set(O,D+1)}}};y(gu(f1)),jc.add(y);var p=void 0,v=Yp(()=>{var A=i??r.appendChild(Ci());return Rp(A,{pending:()=>{}},T=>{if(d){Xt({});var O=Zt;O.c=d}u&&(o.$$events=u),qo=g,p=e(T,o)||{},qo=!0,d&&Yt()}),()=>{var k;for(var T of m){r.removeEventListener(T,Us);var O=Ha.get(T);--O===0?(document.removeEventListener(T,Us),Ha.delete(T)):Ha.set(T,O)}jc.delete(y),A!==i&&((k=A.parentNode)==null||k.removeChild(A))}});return hx.set(p,v),p}let hx=new WeakMap;var Pn,ni,ln,so,oo,ul;class wl{constructor(r,i=!0){Yn(this,"anchor");Nt(this,Pn,new Map);Nt(this,ni,new Map);Nt(this,ln,new Map);Nt(this,so,!0);Nt(this,oo,()=>{var r=Dt;if(le(this,Pn).has(r)){var i=le(this,Pn).get(r),o=le(this,ni).get(i);if(o)Au(o);else{var u=le(this,ln).get(i);u&&(le(this,ni).set(i,u.effect),le(this,ln).delete(i),u.fragment.lastChild.remove(),this.anchor.before(u.fragment),o=u.effect)}for(const[d,g]of le(this,Pn)){if(le(this,Pn).delete(d),d===r)break;const m=le(this,ln).get(g);m&&(wr(m.effect),le(this,ln).delete(g))}for(const[d,g]of le(this,ni)){if(d===i)continue;const m=()=>{if(Array.from(le(this,Pn).values()).includes(d)){var p=document.createDocumentFragment();a1(g,p),p.append(Ci()),le(this,ln).set(d,{effect:g,fragment:p})}else wr(g);le(this,ni).delete(d)};le(this,so)||!o?Qa(g,m,!1):m()}}});Nt(this,ul,r=>{le(this,Pn).delete(r);const i=Array.from(le(this,Pn).values());for(const[o,u]of le(this,ln))i.includes(o)||(wr(u.effect),le(this,ln).delete(o))});this.anchor=r,ot(this,so,i)}ensure(r,i){var o=Dt,u=Kf();if(i&&!le(this,ni).has(r)&&!le(this,ln).has(r))if(u){var d=document.createDocumentFragment(),g=Ci();d.append(g),le(this,ln).set(r,{effect:cn(()=>i(g)),fragment:d})}else le(this,ni).set(r,cn(()=>i(this.anchor)));if(le(this,Pn).set(o,r),u){for(const[m,y]of le(this,ni))m===r?o.skipped_effects.delete(y):o.skipped_effects.add(y);for(const[m,y]of le(this,ln))m===r?o.skipped_effects.delete(y.effect):o.skipped_effects.add(y.effect);o.oncommit(le(this,oo)),o.ondiscard(le(this,ul))}else le(this,oo).call(this)}}Pn=new WeakMap,ni=new WeakMap,ln=new WeakMap,so=new WeakMap,oo=new WeakMap,ul=new WeakMap;function g1(e){Zt===null&&Of(),hs&&Zt.l!==null?px(Zt).m.push(e):Fc(()=>{const r=z(e);if(typeof r=="function")return r})}function gx(e){Zt===null&&Of(),g1(()=>()=>z(e))}function px(e){var r=e.l;return r.u??(r.u={a:[],b:[],m:[]})}function je(e,r,i=!1){var o=new wl(e),u=i?Ai:0;function d(g,m){o.ensure(g,m)}ea(()=>{var g=!1;r((m,y=!0)=>{g=!0,d(y,m)}),g||d(!1,null)},u)}function xx(e,r,i){var o=new wl(e),u=!ps();ea(()=>{var d=r();u&&d!==null&&typeof d=="object"&&(d={}),o.ensure(d,i)})}function xr(e,r){return r}function mx(e,r,i){for(var o=e.items,u=[],d=r.length,g=0;g<d;g++)_u(r[g].e,u,!0);var m=d>0&&u.length===0&&i!==null;if(m){var y=i.parentNode;zp(y),y.append(i),o.clear(),Kn(e,r[0].prev,r[d-1].next)}n1(u,()=>{for(var p=0;p<d;p++){var v=r[p];m||(o.delete(v.k),Kn(e,v.prev,v.next)),wr(v.e,!m)}})}function cr(e,r,i,o,u,d=null){var g=e,m={flags:r,items:new Map,first:null},y=(r&wf)!==0;if(y){var p=e;g=p.appendChild(Ci())}var v=null,A=!1,T=new Map,O=yu(()=>{var H=i();return hl(H)?H:H==null?[]:gu(H)}),k,D;function P(){yx(D,k,m,T,g,u,r,o,i),d!==null&&(k.length===0?v?Au(v):v=cn(()=>d(g)):v!==null&&Qa(v,()=>{v=null}))}ea(()=>{D??(D=wt),k=w(O);var H=k.length;if(!(A&&H===0)){A=H===0;var W,L,V,q;if(Kf()){var Y=new Set,B=Dt;for(L=0;L<H;L+=1){V=k[L],q=o(V,L);var ee=m.items.get(q)??T.get(q);ee?r&(dl|fl)&&p1(ee,V,L,r):(W=x1(null,m,null,null,V,q,L,u,r,i,!0),T.set(q,W)),Y.add(q)}for(const[U,ge]of m.items)Y.has(U)||B.skipped_effects.add(ge.e);B.oncommit(P)}else P();w(O)}})}function yx(e,r,i,o,u,d,g,m,y){var He,Ye,qe,_e;var p=(g&Qg)!==0,v=(g&(dl|fl))!==0,A=r.length,T=i.items,O=i.first,k=O,D,P=null,H,W=[],L=[],V,q,Y,B;if(p)for(B=0;B<A;B+=1)V=r[B],q=m(V,B),Y=T.get(q),Y!==void 0&&((He=Y.a)==null||He.measure(),(H??(H=new Set)).add(Y));for(B=0;B<A;B+=1){if(V=r[B],q=m(V,B),Y=T.get(q),Y===void 0){var ee=o.get(q);if(ee!==void 0){o.delete(q),T.set(q,ee);var U=P?P.next:k;Kn(i,P,ee),Kn(i,ee,U),$l(ee,U,u),P=ee}else{var ge=k?k.e.nodes_start:u;P=x1(ge,i,P,P===null?i.first:P.next,V,q,B,d,g,y)}T.set(q,P),W=[],L=[],k=P.next;continue}if(v&&p1(Y,V,B,g),Y.e.f&gn&&(Au(Y.e),p&&((Ye=Y.a)==null||Ye.unfix(),(H??(H=new Set)).delete(Y))),Y!==k){if(D!==void 0&&D.has(Y)){if(W.length<L.length){var oe=L[0],re;P=oe.prev;var ne=W[0],ce=W[W.length-1];for(re=0;re<W.length;re+=1)$l(W[re],oe,u);for(re=0;re<L.length;re+=1)D.delete(L[re]);Kn(i,ne.prev,ce.next),Kn(i,P,ne),Kn(i,ce,oe),k=oe,P=ce,B-=1,W=[],L=[]}else D.delete(Y),$l(Y,k,u),Kn(i,Y.prev,Y.next),Kn(i,Y,P===null?i.first:P.next),Kn(i,P,Y),P=Y;continue}for(W=[],L=[];k!==null&&k.k!==q;)k.e.f&gn||(D??(D=new Set)).add(k),L.push(k),k=k.next;if(k===null)continue;Y=k}W.push(Y),P=Y,k=Y.next}if(k!==null||D!==void 0){for(var R=D===void 0?[]:gu(D);k!==null;)k.e.f&gn||R.push(k),k=k.next;var pe=R.length;if(pe>0){var se=g&wf&&A===0?u:null;if(p){for(B=0;B<pe;B+=1)(qe=R[B].a)==null||qe.measure();for(B=0;B<pe;B+=1)(_e=R[B].a)==null||_e.fix()}mx(i,R,se)}}p&&Ei(()=>{var Ze;if(H!==void 0)for(Y of H)(Ze=Y.a)==null||Ze.apply()}),e.first=i.first&&i.first.e,e.last=P&&P.e;for(var Oe of o.values())wr(Oe.e);o.clear()}function p1(e,r,i,o){o&dl&&Ea(e.v,r),o&fl?Ea(e.i,i):e.i=i}function x1(e,r,i,o,u,d,g,m,y,p,v){var A=(y&dl)!==0,T=(y&$g)===0,O=A?T?Se(u,!1,!1):Zi(u):u,k=y&fl?Zi(g):g,D={i:k,v:O,k:d,a:null,e:null,prev:i,next:o};try{if(e===null){var P=document.createDocumentFragment();P.append(e=Ci())}return D.e=cn(()=>m(e,O,k,p),Ip),D.e.prev=i&&i.e,D.e.next=o&&o.e,i===null?v||(r.first=D):(i.next=D,i.e.next=D.e),o!==null&&(o.prev=D,o.e.prev=D.e),D}finally{}}function $l(e,r,i){for(var o=e.next?e.next.e.nodes_start:i,u=r?r.e.nodes_start:i,d=e.e.nodes_start;d!==null&&d!==o;){var g=lo(d);u.before(d),d=g}}function Kn(e,r,i){r===null?e.first=i:(r.next=i,r.e.next=i&&i.e),i!==null&&(i.prev=r,i.e.prev=r&&r.e)}function vx(e,r,i=!1,o=!1,u=!1){var d=e,g="";Me(()=>{var m=wt;if(g!==(g=r()??"")&&(m.nodes_start!==null&&(t1(m.nodes_start,m.nodes_end),m.nodes_start=m.nodes_end=null),g!=="")){var y=g+"";i?y=`<svg>${y}</svg>`:o&&(y=`<math>${y}</math>`);var p=Cu(y);if((i||o)&&(p=un(p)),Ki(un(p),p.lastChild),i||o)for(;un(p);)d.before(un(p));else d.before(p)}})}function bx(e,r,i,o,u){var m;var d=(m=r.$$slots)==null?void 0:m[i],g=!1;d===!0&&(d=r.children,g=!0),d===void 0||d(e,g?()=>o:o)}function _d(e,r,i){var o=new wl(e);ea(()=>{var u=r()??null;o.ensure(u,u&&(d=>i(d,u)))},Ai)}function wx(e,r,i,o,u,d){var g=null,m=e,y=new wl(m,!1);ea(()=>{const p=r()||null;var v=p==="svg"?lp:null;if(p===null){y.ensure(null,null),So(!0);return}return y.ensure(p,A=>{if(p){if(g=v?document.createElementNS(v,p):document.createElement(p),Ki(g,g),o){var T=g.appendChild(Ci());o(g,T)}wt.nodes_end=g,A.before(g)}}),So(!0),()=>{p&&So(!1)}},Ai),ms(()=>{So(!0)})}function pr(e,r,i){si(()=>{var o=z(()=>r(e,i==null?void 0:i())||{});if(i&&(o!=null&&o.update)){var u=!1,d={};ys(()=>{var g=i();Ce(g),u&&mu(d,g)&&(d=g,o.update(g))}),u=!0}if(o!=null&&o.destroy)return()=>o.destroy()})}function _x(e,r){var i=void 0,o;ea(()=>{i!==(i=r())&&(o&&(wr(o),o=null),i&&(o=cn(()=>{si(()=>i(e))})))})}function m1(e){var r,i,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var u=e.length;for(r=0;r<u;r++)e[r]&&(i=m1(e[r]))&&(o&&(o+=" "),o+=i)}else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function Ax(){for(var e,r,i=0,o="",u=arguments.length;i<u;i++)(e=arguments[i])&&(r=m1(e))&&(o&&(o+=" "),o+=r);return o}function Ex(e){return typeof e=="object"?Ax(e):e??""}const Ad=[...` 	
\r\fÂ \v\uFEFF`];function Cx(e,r,i){var o=e==null?"":""+e;if(r&&(o=o?o+" "+r:r),i){for(var u in i)if(i[u])o=o?o+" "+u:u;else if(o.length)for(var d=u.length,g=0;(g=o.indexOf(u,g))>=0;){var m=g+d;(g===0||Ad.includes(o[g-1]))&&(m===o.length||Ad.includes(o[m]))?o=(g===0?"":o.substring(0,g))+o.substring(m+1):g=m}}return o===""?null:o}function Ed(e,r=!1){var i=r?" !important;":";",o="";for(var u in e){var d=e[u];d!=null&&d!==""&&(o+=" "+u+": "+d+i)}return o}function Jl(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Sx(e,r){if(r){var i="",o,u;if(Array.isArray(r)?(o=r[0],u=r[1]):o=r,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var d=!1,g=0,m=!1,y=[];o&&y.push(...Object.keys(o).map(Jl)),u&&y.push(...Object.keys(u).map(Jl));var p=0,v=-1;const D=e.length;for(var A=0;A<D;A++){var T=e[A];if(m?T==="/"&&e[A-1]==="*"&&(m=!1):d?d===T&&(d=!1):T==="/"&&e[A+1]==="*"?m=!0:T==='"'||T==="'"?d=T:T==="("?g++:T===")"&&g--,!m&&d===!1&&g===0){if(T===":"&&v===-1)v=A;else if(T===";"||A===D-1){if(v!==-1){var O=Jl(e.substring(p,v).trim());if(!y.includes(O)){T!==";"&&A++;var k=e.substring(p,A).trim();i+=" "+k+";"}}p=A+1,v=-1}}}}return o&&(i+=Ed(o)),u&&(i+=Ed(u,!0)),i=i.trim(),i===""?null:i}return e==null?null:String(e)}function Si(e,r,i,o,u,d){var g=e.__className;if(g!==i||g===void 0){var m=Cx(i,o,d);m==null?e.removeAttribute("class"):r?e.className=m:e.setAttribute("class",m),e.__className=i}else if(d&&u!==d)for(var y in d){var p=!!d[y];(u==null||p!==!!u[y])&&e.classList.toggle(y,p)}return d}function ec(e,r={},i,o){for(var u in i){var d=i[u];r[u]!==d&&(i[u]==null?e.style.removeProperty(u):e.style.setProperty(u,d,o))}}function Ix(e,r,i,o){var u=e.__style;if(u!==r){var d=Sx(r,o);d==null?e.removeAttribute("style"):e.style.cssText=d,e.__style=r}else o&&(Array.isArray(o)?(ec(e,i==null?void 0:i[0],o[0]),ec(e,i==null?void 0:i[1],o[1],"important")):ec(e,i,o));return o}function Zo(e,r,i=!1){if(e.multiple){if(r==null)return;if(!hl(r))return Cp();for(var o of e.options)o.selected=r.includes(Gs(o));return}for(o of e.options){var u=Gs(o);if(Xf(u,r)){o.selected=!0;return}}(!i||r!==void 0)&&(e.selectedIndex=-1)}function y1(e){var r=new MutationObserver(()=>{Zo(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ms(()=>{r.disconnect()})}function Su(e,r,i=r){var o=new WeakSet,u=!0;bu(e,"change",d=>{var g=d?"[selected]":":checked",m;if(e.multiple)m=[].map.call(e.querySelectorAll(g),Gs);else{var y=e.querySelector(g)??e.querySelector("option:not([disabled])");m=y&&Gs(y)}i(m),Dt!==null&&o.add(Dt)}),si(()=>{var d=r();if(e===document.activeElement){var g=Hs??Dt;if(o.has(g))return}if(Zo(e,d,u),u&&d===void 0){var m=e.querySelector(":checked");m!==null&&(d=Gs(m),i(d))}e.__value=d,u=!1}),y1(e)}function Gs(e){return"__value"in e?e.__value:e.value}const Rs=Symbol("class"),Ds=Symbol("style"),v1=Symbol("is custom element"),b1=Symbol("is html");function Tx(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function kt(e,r,i,o){var u=w1(e);u[r]!==(u[r]=i)&&(r==="loading"&&(e[gp]=i),i==null?e.removeAttribute(r):typeof i!="string"&&_1(e).includes(r)?e[r]=i:e.setAttribute(r,i))}function kx(e,r,i,o,u=!1,d=!1){var g=w1(e),m=g[v1],y=!g[b1],p=r||{},v=e.tagName==="OPTION";for(var A in r)A in i||(i[A]=null);i.class?i.class=Ex(i.class):i[Rs]&&(i.class=null),i[Ds]&&(i.style??(i.style=null));var T=_1(e);for(const L in i){let V=i[L];if(v&&L==="value"&&V==null){e.value=e.__value="",p[L]=V;continue}if(L==="class"){var O=e.namespaceURI==="http://www.w3.org/1999/xhtml";Si(e,O,V,o,r==null?void 0:r[Rs],i[Rs]),p[L]=V,p[Rs]=i[Rs];continue}if(L==="style"){Ix(e,V,r==null?void 0:r[Ds],i[Ds]),p[L]=V,p[Ds]=i[Ds];continue}var k=p[L];if(!(V===k&&!(V===void 0&&e.hasAttribute(L)))){p[L]=V;var D=L[0]+L[1];if(D!=="$$")if(D==="on"){const q={},Y="$$"+L;let B=L.slice(2);var P=sx(B);if(ix(B)&&(B=B.slice(0,-7),q.capture=!0),!P&&k){if(V!=null)continue;e.removeEventListener(B,p[Y],q),p[Y]=null}if(V!=null)if(P)e[`__${B}`]=V,rx([B]);else{let ee=function(U){p[L].call(this,U)};p[Y]=h1(B,e,ee,q)}else P&&(e[`__${B}`]=void 0)}else if(L==="style")kt(e,L,V);else if(L==="autofocus")Vp(e,!!V);else if(!m&&(L==="__value"||L==="value"&&V!=null))e.value=e.__value=V;else if(L==="selected"&&v)Tx(e,V);else{var H=L;y||(H=lx(H));var W=H==="defaultValue"||H==="defaultChecked";if(V==null&&!m&&!W)if(g[L]=null,H==="value"||H==="checked"){let q=e;const Y=r===void 0;if(H==="value"){let B=q.defaultValue;q.removeAttribute(H),q.defaultValue=B,q.value=q.__value=Y?B:null}else{let B=q.defaultChecked;q.removeAttribute(H),q.defaultChecked=B,q.checked=Y?B:!1}}else e.removeAttribute(L);else W||T.includes(H)&&(m||typeof V!="string")?(e[H]=V,H in g&&(g[H]=Ir)):typeof V!="function"&&kt(e,H,V)}}}return p}function Nx(e,r,i=[],o=[],u=[],d,g=!1,m=!1){Hf(u,i,o,y=>{var p=void 0,v={},A=e.nodeName==="SELECT",T=!1;if(ea(()=>{var k=r(...y.map(w)),D=kx(e,p,k,d,g,m);T&&A&&"value"in k&&Zo(e,k.value);for(let H of Object.getOwnPropertySymbols(v))k[H]||wr(v[H]);for(let H of Object.getOwnPropertySymbols(k)){var P=k[H];H.description===cp&&(!p||P!==p[H])&&(v[H]&&wr(v[H]),v[H]=cn(()=>_x(e,()=>P))),D[H]=P}p=D}),A){var O=e;si(()=>{Zo(O,p.value,!0),y1(O)})}T=!0})}function w1(e){return e.__attributes??(e.__attributes={[v1]:e.nodeName.includes("-"),[b1]:e.namespaceURI===op})}var Cd=new Map;function _1(e){var r=e.getAttribute("is")||e.nodeName,i=Cd.get(r);if(i)return i;Cd.set(r,i=[]);for(var o,u=e,d=Element.prototype;d!==u;){o=Sf(u);for(var g in o)o[g].set&&i.push(g);u=pu(u)}return i}const Ox=()=>performance.now(),yi={tick:e=>requestAnimationFrame(e),now:()=>Ox(),tasks:new Set};function A1(){const e=yi.now();yi.tasks.forEach(r=>{r.c(e)||(yi.tasks.delete(r),r.f())}),yi.tasks.size!==0&&yi.tick(A1)}function Mx(e){let r;return yi.tasks.size===0&&yi.tick(A1),{promise:new Promise(i=>{yi.tasks.add(r={c:e,f:i})}),abort(){yi.tasks.delete(r)}}}function Io(e,r){xs(()=>{e.dispatchEvent(new CustomEvent(r))})}function Rx(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const r=e.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function Sd(e){const r={},i=e.split(";");for(const o of i){const[u,d]=o.split(":");if(!u||d===void 0)break;const g=Rx(u.trim());r[g]=d.trim()}return r}const Dx=e=>e;function Qn(e,r,i,o){var u=(e&np)!==0,d=(e&ip)!==0,g=u&&d,m=(e&ap)!==0,y=g?"both":u?"in":"out",p,v=r.inert,A=r.style.overflow,T,O;function k(){return xs(()=>p??(p=i()(r,(o==null?void 0:o())??{},{direction:y})))}var D={is_global:m,in(){var L;if(r.inert=v,!u){O==null||O.abort(),(L=O==null?void 0:O.reset)==null||L.call(O);return}d||T==null||T.abort(),Io(r,"introstart"),T=Hc(r,k(),O,1,()=>{Io(r,"introend"),T==null||T.abort(),T=p=void 0,r.style.overflow=A})},out(L){if(!d){L==null||L(),p=void 0;return}r.inert=!0,Io(r,"outrostart"),O=Hc(r,k(),T,0,()=>{Io(r,"outroend"),L==null||L()})},stop:()=>{T==null||T.abort(),O==null||O.abort()}},P=wt;if((P.transitions??(P.transitions=[])).push(D),u&&qo){var H=m;if(!H){for(var W=P.parent;W&&W.f&Ai;)for(;(W=W.parent)&&!(W.f&ui););H=!W||(W.f&ml)!==0}H&&si(()=>{z(()=>D.in())})}}function Hc(e,r,i,o,u){var d=o===1;if(Xa(r)){var g,m=!1;return Ei(()=>{if(!m){var P=r({direction:d?"in":"out"});g=Hc(e,P,i,o,u)}}),{abort:()=>{m=!0,g==null||g.abort()},deactivate:()=>g.deactivate(),reset:()=>g.reset(),t:()=>g.t()}}if(i==null||i.deactivate(),!(r!=null&&r.duration))return u(),{abort:Fn,deactivate:Fn,reset:Fn,t:()=>o};const{delay:y=0,css:p,tick:v,easing:A=Dx}=r;var T=[];if(d&&i===void 0&&(v&&v(0,1),p)){var O=Sd(p(0,1));T.push(O,O)}var k=()=>1-o,D=e.animate(T,{duration:y,fill:"forwards"});return D.onfinish=()=>{D.cancel();var P=(i==null?void 0:i.t())??1-o;i==null||i.abort();var H=o-P,W=r.duration*Math.abs(H),L=[];if(W>0){var V=!1;if(p)for(var q=Math.ceil(W/16.666666666666668),Y=0;Y<=q;Y+=1){var B=P+H*A(Y/q),ee=Sd(p(B,1-B));L.push(ee),V||(V=ee.overflow==="hidden")}V&&(e.style.overflow="hidden"),k=()=>{var U=D.currentTime;return P+H*A(U/W)},v&&Mx(()=>{if(D.playState!=="running")return!1;var U=k();return v(U,1-U),!0})}D=e.animate(L,{duration:W,fill:"forwards"}),D.onfinish=()=>{k=()=>o,v==null||v(o,1-o),u()}},{abort:()=>{D&&(D.cancel(),D.effect=null,D.onfinish=Fn)},deactivate:()=>{u=Fn},reset:()=>{o===0&&(v==null||v(1,0))},t:()=>k()}}function ht(e,r,i=r){var o=new WeakSet;bu(e,"input",async u=>{var d=u?e.defaultValue:e.value;if(d=rc(e)?nc(d):d,i(d),Dt!==null&&o.add(Dt),await ex(),d!==(d=r())){var g=e.selectionStart,m=e.selectionEnd,y=e.value.length;if(e.value=d??"",m!==null){var p=e.value.length;g===m&&m===y&&p>y?(e.selectionStart=p,e.selectionEnd=p):(e.selectionStart=g,e.selectionEnd=Math.min(m,p))}}}),z(r)==null&&e.value&&(i(rc(e)?nc(e.value):e.value),Dt!==null&&o.add(Dt)),ys(()=>{var u=r();if(e===document.activeElement){var d=Hs??Dt;if(o.has(d))return}rc(e)&&u===nc(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}const tc=new Set;function Px(e,r,i,o,u=o){var d=i.getAttribute("type")==="checkbox",g=e;if(r!==null)for(var m of r)g=g[m]??(g[m]=[]);g.push(i),bu(i,"change",()=>{var y=i.__value;d&&(y=Lx(g,y,i.checked)),u(y)},()=>u(d?[]:null)),ys(()=>{var y=o();d?(y=y||[],i.checked=y.includes(i.__value)):i.checked=Xf(i.__value,y)}),ms(()=>{var y=g.indexOf(i);y!==-1&&g.splice(y,1)}),tc.has(g)||(tc.add(g),Ei(()=>{g.sort((y,p)=>y.compareDocumentPosition(p)===4?-1:1),tc.delete(g)})),Ei(()=>{})}function Lx(e,r,i){for(var o=new Set,u=0;u<e.length;u+=1)e[u].checked&&o.add(e[u].__value);return i||o.delete(r),Array.from(o)}function rc(e){var r=e.type;return r==="number"||r==="range"}function nc(e){return e===""?null:+e}function Bx(e){return function(...r){var i=r[0];return i.stopPropagation(),e==null?void 0:e.apply(this,r)}}function Sn(e){return function(...r){var i=r[0];return i.preventDefault(),e==null?void 0:e.apply(this,r)}}function Kt(e=!1){const r=Zt,i=r.l.u;if(!i)return;let o=()=>Ce(r.s);if(e){let u=0,d={};const g=vl(()=>{let m=!1;const y=r.s;for(const p in y)y[p]!==d[p]&&(d[p]=y[p],m=!0);return m&&u++,u});o=()=>w(g)}i.b.length&&Xp(()=>{Id(r,o),Oc(i.b)}),Fc(()=>{const u=z(()=>i.m.map(hp));return()=>{for(const d of u)typeof d=="function"&&d()}}),i.a.length&&Fc(()=>{Id(r,o),Oc(i.a)})}function Id(e,r){if(e.l.s)for(const i of e.l.s)w(i);r()}function lr(e,r){var d;var i=(d=e.$$events)==null?void 0:d[r.type],o=hl(i)?i.slice():i==null?[]:[i];for(var u of o)u.call(this,r)}function E1(e,r,i){if(e==null)return r(void 0),Fn;const o=z(()=>e.subscribe(r,i));return o.unsubscribe?()=>o.unsubscribe():o}const za=[];function Fx(e,r=Fn){let i=null;const o=new Set;function u(m){if(mu(e,m)&&(e=m,i)){const y=!za.length;for(const p of o)p[1](),za.push(p,e);if(y){for(let p=0;p<za.length;p+=2)za[p][0](za[p+1]);za.length=0}}}function d(m){u(m(e))}function g(m,y=Fn){const p=[m,y];return o.add(p),o.size===1&&(i=r(u,d)||Fn),m(e),()=>{o.delete(p),o.size===0&&i&&(i(),i=null)}}return{set:u,update:d,subscribe:g}}function Ux(e){let r;return E1(e,i=>r=i)(),r}let To=!1,zc=Symbol();function Iu(e,r,i){const o=i[r]??(i[r]={store:null,source:Se(void 0),unsubscribe:Fn});if(o.store!==e&&!(zc in i))if(o.unsubscribe(),o.store=e??null,e==null)o.source.v=void 0,o.unsubscribe=Fn;else{var u=!0;o.unsubscribe=E1(e,d=>{u?o.source.v=d:te(o.source,d)}),u=!1}return e&&zc in i?Ux(e):w(o.source)}function Tu(){const e={};function r(){ms(()=>{for(var i in e)e[i].unsubscribe();Cf(e,zc,{enumerable:!1,value:!0})})}return[e,r]}function jx(e){var r=To;try{return To=!1,[e(),To]}finally{To=r}}const Hx={get(e,r){if(!e.exclude.includes(r))return w(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,i){if(!(r in e.special)){var o=wt;try{Cn(e.parent_effect),e.special[r]=Pe({get[r](){return e.props[r]}},r,_f)}finally{Cn(o)}}return e.special[r](i),gd(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),gd(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Td(e,r){return new Proxy({props:e,exclude:r,special:{},version:Zi(0),parent_effect:wt},Hx)}const zx={get(e,r){let i=e.props.length;for(;i--;){let o=e.props[i];if(Xa(o)&&(o=o()),typeof o=="object"&&o!==null&&r in o)return o[r]}},set(e,r,i){let o=e.props.length;for(;o--;){let u=e.props[o];Xa(u)&&(u=u());const d=Wi(u,r);if(d&&d.set)return d.set(i),!0}return!1},getOwnPropertyDescriptor(e,r){let i=e.props.length;for(;i--;){let o=e.props[i];if(Xa(o)&&(o=o()),typeof o=="object"&&o!==null&&r in o){const u=Wi(o,r);return u&&!u.configurable&&(u.configurable=!0),u}}},has(e,r){if(r===wi||r===Nf)return!1;for(let i of e.props)if(Xa(i)&&(i=i()),i!=null&&r in i)return!0;return!1},ownKeys(e){const r=[];for(let i of e.props)if(Xa(i)&&(i=i()),!!i){for(const o in i)r.includes(o)||r.push(o);for(const o of Object.getOwnPropertySymbols(i))r.includes(o)||r.push(o)}return r}};function Lo(...e){return new Proxy({props:e},zx)}function Pe(e,r,i,o){var L;var u=!hs||(i&ep)!==0,d=(i&tp)!==0,g=(i&rp)!==0,m=o,y=!0,p=()=>(y&&(y=!1,m=g?z(o):o),m),v;if(d){var A=wi in e||Nf in e;v=((L=Wi(e,r))==null?void 0:L.set)??(A&&r in e?V=>e[r]=V:void 0)}var T,O=!1;d?[T,O]=jx(()=>e[r]):T=e[r],T===void 0&&o!==void 0&&(T=p(),v&&(u&&bp(),v(T)));var k;if(u?k=()=>{var V=e[r];return V===void 0?p():(y=!0,V)}:k=()=>{var V=e[r];return V!==void 0&&(m=void 0),V===void 0?m:V},u&&!(i&_f))return k;if(v){var D=e.$$legacy;return function(V,q){return arguments.length>0?((!u||!q||D||O)&&v(q?k():V),V):k()}}var P=!1,H=(i&Jg?vl:yu)(()=>(P=!1,k()));d&&w(H);var W=wt;return function(V,q){if(arguments.length>0){const Y=q?w(H):u&&d?Za(V):V;return te(H,Y),P=!0,m!==void 0&&(m=Y),V}return ka&&P||W.f&Xi?H.v:w(H)}}var C1=typeof global=="object"&&global&&global.Object===Object&&global,Vx=typeof self=="object"&&self&&self.Object===Object&&self,hi=C1||Vx||Function("return this")(),ci=hi.Symbol,S1=Object.prototype,Gx=S1.hasOwnProperty,Wx=S1.toString,Ps=ci?ci.toStringTag:void 0;function Xx(e){var r=Gx.call(e,Ps),i=e[Ps];try{e[Ps]=void 0;var o=!0}catch{}var u=Wx.call(e);return o&&(r?e[Ps]=i:delete e[Ps]),u}var Yx=Object.prototype,qx=Yx.toString;function Zx(e){return qx.call(e)}var Kx="[object Null]",Qx="[object Undefined]",kd=ci?ci.toStringTag:void 0;function ws(e){return e==null?e===void 0?Qx:Kx:kd&&kd in Object(e)?Xx(e):Zx(e)}function Qi(e){return e!=null&&typeof e=="object"}var $x="[object Symbol]";function ku(e){return typeof e=="symbol"||Qi(e)&&ws(e)==$x}function Jx(e,r){for(var i=-1,o=e==null?0:e.length,u=Array(o);++i<o;)u[i]=r(e[i],i,e);return u}var Ii=Array.isArray,Nd=ci?ci.prototype:void 0,Od=Nd?Nd.toString:void 0;function I1(e){if(typeof e=="string")return e;if(Ii(e))return Jx(e,I1)+"";if(ku(e))return Od?Od.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function ss(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var em="[object AsyncFunction]",tm="[object Function]",rm="[object GeneratorFunction]",nm="[object Proxy]";function T1(e){if(!ss(e))return!1;var r=ws(e);return r==tm||r==rm||r==em||r==nm}var ic=hi["__core-js_shared__"],Md=function(){var e=/[^.]+$/.exec(ic&&ic.keys&&ic.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function im(e){return!!Md&&Md in e}var am=Function.prototype,sm=am.toString;function Na(e){if(e!=null){try{return sm.call(e)}catch{}try{return e+""}catch{}}return""}var om=/[\\^$.*+?()[\]{}|]/g,lm=/^\[object .+?Constructor\]$/,cm=Function.prototype,um=Object.prototype,dm=cm.toString,fm=um.hasOwnProperty,hm=RegExp("^"+dm.call(fm).replace(om,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gm(e){if(!ss(e)||im(e))return!1;var r=T1(e)?hm:lm;return r.test(Na(e))}function pm(e,r){return e==null?void 0:e[r]}function Oa(e,r){var i=pm(e,r);return gm(i)?i:void 0}var Vc=Oa(hi,"WeakMap"),Rd=Object.create,xm=function(){function e(){}return function(r){if(!ss(r))return{};if(Rd)return Rd(r);e.prototype=r;var i=new e;return e.prototype=void 0,i}}(),Dd=function(){try{var e=Oa(Object,"defineProperty");return e({},"",{}),e}catch{}}();function mm(e,r){for(var i=-1,o=e==null?0:e.length;++i<o&&r(e[i],i,e)!==!1;);return e}var ym=9007199254740991,vm=/^(?:0|[1-9]\d*)$/;function Nu(e,r){var i=typeof e;return r=r??ym,!!r&&(i=="number"||i!="symbol"&&vm.test(e))&&e>-1&&e%1==0&&e<r}function bm(e,r,i){r=="__proto__"&&Dd?Dd(e,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[r]=i}function Ou(e,r){return e===r||e!==e&&r!==r}var wm=Object.prototype,_m=wm.hasOwnProperty;function k1(e,r,i){var o=e[r];(!(_m.call(e,r)&&Ou(o,i))||i===void 0&&!(r in e))&&bm(e,r,i)}var Am=9007199254740991;function Mu(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Am}function Em(e){return e!=null&&Mu(e.length)&&!T1(e)}var Cm=Object.prototype;function N1(e){var r=e&&e.constructor,i=typeof r=="function"&&r.prototype||Cm;return e===i}function Sm(e,r){for(var i=-1,o=Array(e);++i<e;)o[i]=r(i);return o}var Im="[object Arguments]";function Pd(e){return Qi(e)&&ws(e)==Im}var O1=Object.prototype,Tm=O1.hasOwnProperty,km=O1.propertyIsEnumerable,M1=Pd(function(){return arguments}())?Pd:function(e){return Qi(e)&&Tm.call(e,"callee")&&!km.call(e,"callee")};function Nm(){return!1}var R1=typeof fn=="object"&&fn&&!fn.nodeType&&fn,Ld=R1&&typeof hn=="object"&&hn&&!hn.nodeType&&hn,Om=Ld&&Ld.exports===R1,Bd=Om?hi.Buffer:void 0,Mm=Bd?Bd.isBuffer:void 0,Ko=Mm||Nm,Rm="[object Arguments]",Dm="[object Array]",Pm="[object Boolean]",Lm="[object Date]",Bm="[object Error]",Fm="[object Function]",Um="[object Map]",jm="[object Number]",Hm="[object Object]",zm="[object RegExp]",Vm="[object Set]",Gm="[object String]",Wm="[object WeakMap]",Xm="[object ArrayBuffer]",Ym="[object DataView]",qm="[object Float32Array]",Zm="[object Float64Array]",Km="[object Int8Array]",Qm="[object Int16Array]",$m="[object Int32Array]",Jm="[object Uint8Array]",e2="[object Uint8ClampedArray]",t2="[object Uint16Array]",r2="[object Uint32Array]",Wt={};Wt[qm]=Wt[Zm]=Wt[Km]=Wt[Qm]=Wt[$m]=Wt[Jm]=Wt[e2]=Wt[t2]=Wt[r2]=!0;Wt[Rm]=Wt[Dm]=Wt[Xm]=Wt[Pm]=Wt[Ym]=Wt[Lm]=Wt[Bm]=Wt[Fm]=Wt[Um]=Wt[jm]=Wt[Hm]=Wt[zm]=Wt[Vm]=Wt[Gm]=Wt[Wm]=!1;function n2(e){return Qi(e)&&Mu(e.length)&&!!Wt[ws(e)]}function Ru(e){return function(r){return e(r)}}var D1=typeof fn=="object"&&fn&&!fn.nodeType&&fn,Ws=D1&&typeof hn=="object"&&hn&&!hn.nodeType&&hn,i2=Ws&&Ws.exports===D1,ac=i2&&C1.process,os=function(){try{var e=Ws&&Ws.require&&Ws.require("util").types;return e||ac&&ac.binding&&ac.binding("util")}catch{}}(),Fd=os&&os.isTypedArray,P1=Fd?Ru(Fd):n2,a2=Object.prototype,s2=a2.hasOwnProperty;function o2(e,r){var i=Ii(e),o=!i&&M1(e),u=!i&&!o&&Ko(e),d=!i&&!o&&!u&&P1(e),g=i||o||u||d,m=g?Sm(e.length,String):[],y=m.length;for(var p in e)s2.call(e,p)&&!(g&&(p=="length"||u&&(p=="offset"||p=="parent")||d&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||Nu(p,y)))&&m.push(p);return m}function L1(e,r){return function(i){return e(r(i))}}var l2=L1(Object.keys,Object),c2=Object.prototype,u2=c2.hasOwnProperty;function d2(e){if(!N1(e))return l2(e);var r=[];for(var i in Object(e))u2.call(e,i)&&i!="constructor"&&r.push(i);return r}function f2(e){return Em(e)?o2(e):d2(e)}var h2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g2=/^\w*$/;function p2(e,r){if(Ii(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||ku(e)?!0:g2.test(e)||!h2.test(e)||r!=null&&e in Object(r)}var Js=Oa(Object,"create");function x2(){this.__data__=Js?Js(null):{},this.size=0}function m2(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var y2="__lodash_hash_undefined__",v2=Object.prototype,b2=v2.hasOwnProperty;function w2(e){var r=this.__data__;if(Js){var i=r[e];return i===y2?void 0:i}return b2.call(r,e)?r[e]:void 0}var _2=Object.prototype,A2=_2.hasOwnProperty;function E2(e){var r=this.__data__;return Js?r[e]!==void 0:A2.call(r,e)}var C2="__lodash_hash_undefined__";function S2(e,r){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Js&&r===void 0?C2:r,this}function Ca(e){var r=-1,i=e==null?0:e.length;for(this.clear();++r<i;){var o=e[r];this.set(o[0],o[1])}}Ca.prototype.clear=x2;Ca.prototype.delete=m2;Ca.prototype.get=w2;Ca.prototype.has=E2;Ca.prototype.set=S2;function I2(){this.__data__=[],this.size=0}function _l(e,r){for(var i=e.length;i--;)if(Ou(e[i][0],r))return i;return-1}var T2=Array.prototype,k2=T2.splice;function N2(e){var r=this.__data__,i=_l(r,e);if(i<0)return!1;var o=r.length-1;return i==o?r.pop():k2.call(r,i,1),--this.size,!0}function O2(e){var r=this.__data__,i=_l(r,e);return i<0?void 0:r[i][1]}function M2(e){return _l(this.__data__,e)>-1}function R2(e,r){var i=this.__data__,o=_l(i,e);return o<0?(++this.size,i.push([e,r])):i[o][1]=r,this}function ki(e){var r=-1,i=e==null?0:e.length;for(this.clear();++r<i;){var o=e[r];this.set(o[0],o[1])}}ki.prototype.clear=I2;ki.prototype.delete=N2;ki.prototype.get=O2;ki.prototype.has=M2;ki.prototype.set=R2;var eo=Oa(hi,"Map");function D2(){this.size=0,this.__data__={hash:new Ca,map:new(eo||ki),string:new Ca}}function P2(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Al(e,r){var i=e.__data__;return P2(r)?i[typeof r=="string"?"string":"hash"]:i.map}function L2(e){var r=Al(this,e).delete(e);return this.size-=r?1:0,r}function B2(e){return Al(this,e).get(e)}function F2(e){return Al(this,e).has(e)}function U2(e,r){var i=Al(this,e),o=i.size;return i.set(e,r),this.size+=i.size==o?0:1,this}function Ni(e){var r=-1,i=e==null?0:e.length;for(this.clear();++r<i;){var o=e[r];this.set(o[0],o[1])}}Ni.prototype.clear=D2;Ni.prototype.delete=L2;Ni.prototype.get=B2;Ni.prototype.has=F2;Ni.prototype.set=U2;var j2="Expected a function";function Du(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(j2);var i=function(){var o=arguments,u=r?r.apply(this,o):o[0],d=i.cache;if(d.has(u))return d.get(u);var g=e.apply(this,o);return i.cache=d.set(u,g)||d,g};return i.cache=new(Du.Cache||Ni),i}Du.Cache=Ni;var H2=500;function z2(e){var r=Du(e,function(o){return i.size===H2&&i.clear(),o}),i=r.cache;return r}var V2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G2=/\\(\\)?/g,W2=z2(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(V2,function(i,o,u,d){r.push(u?d.replace(G2,"$1"):o||i)}),r});function B1(e){return e==null?"":I1(e)}function Pu(e,r){return Ii(e)?e:p2(e,r)?[e]:W2(B1(e))}function Lu(e){if(typeof e=="string"||ku(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function X2(e,r){r=Pu(r,e);for(var i=0,o=r.length;e!=null&&i<o;)e=e[Lu(r[i++])];return i&&i==o?e:void 0}function to(e,r,i){var o=e==null?void 0:X2(e,r);return o===void 0?i:o}function Y2(e,r){for(var i=-1,o=r.length,u=e.length;++i<o;)e[u+i]=r[i];return e}var q2=L1(Object.getPrototypeOf,Object);function Z2(e){return function(r){return e==null?void 0:e[r]}}function K2(){this.__data__=new ki,this.size=0}function Q2(e){var r=this.__data__,i=r.delete(e);return this.size=r.size,i}function $2(e){return this.__data__.get(e)}function J2(e){return this.__data__.has(e)}var ey=200;function ty(e,r){var i=this.__data__;if(i instanceof ki){var o=i.__data__;if(!eo||o.length<ey-1)return o.push([e,r]),this.size=++i.size,this;i=this.__data__=new Ni(o)}return i.set(e,r),this.size=i.size,this}function _i(e){var r=this.__data__=new ki(e);this.size=r.size}_i.prototype.clear=K2;_i.prototype.delete=Q2;_i.prototype.get=$2;_i.prototype.has=J2;_i.prototype.set=ty;var F1=typeof fn=="object"&&fn&&!fn.nodeType&&fn,Ud=F1&&typeof hn=="object"&&hn&&!hn.nodeType&&hn,ry=Ud&&Ud.exports===F1,jd=ry?hi.Buffer:void 0;jd&&jd.allocUnsafe;function ny(e,r){return e.slice()}function iy(e,r){for(var i=-1,o=e==null?0:e.length,u=0,d=[];++i<o;){var g=e[i];r(g,i,e)&&(d[u++]=g)}return d}function ay(){return[]}var sy=Object.prototype,oy=sy.propertyIsEnumerable,Hd=Object.getOwnPropertySymbols,ly=Hd?function(e){return e==null?[]:(e=Object(e),iy(Hd(e),function(r){return oy.call(e,r)}))}:ay;function cy(e,r,i){var o=r(e);return Ii(e)?o:Y2(o,i(e))}function Gc(e){return cy(e,f2,ly)}var Wc=Oa(hi,"DataView"),Xc=Oa(hi,"Promise"),Yc=Oa(hi,"Set"),zd="[object Map]",uy="[object Object]",Vd="[object Promise]",Gd="[object Set]",Wd="[object WeakMap]",Xd="[object DataView]",dy=Na(Wc),fy=Na(eo),hy=Na(Xc),gy=Na(Yc),py=Na(Vc),Bn=ws;(Wc&&Bn(new Wc(new ArrayBuffer(1)))!=Xd||eo&&Bn(new eo)!=zd||Xc&&Bn(Xc.resolve())!=Vd||Yc&&Bn(new Yc)!=Gd||Vc&&Bn(new Vc)!=Wd)&&(Bn=function(e){var r=ws(e),i=r==uy?e.constructor:void 0,o=i?Na(i):"";if(o)switch(o){case dy:return Xd;case fy:return zd;case hy:return Vd;case gy:return Gd;case py:return Wd}return r});var xy=Object.prototype,my=xy.hasOwnProperty;function yy(e){var r=e.length,i=new e.constructor(r);return r&&typeof e[0]=="string"&&my.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var Qo=hi.Uint8Array;function Bu(e){var r=new e.constructor(e.byteLength);return new Qo(r).set(new Qo(e)),r}function vy(e,r){var i=Bu(e.buffer);return new e.constructor(i,e.byteOffset,e.byteLength)}var by=/\w*$/;function wy(e){var r=new e.constructor(e.source,by.exec(e));return r.lastIndex=e.lastIndex,r}var Yd=ci?ci.prototype:void 0,qd=Yd?Yd.valueOf:void 0;function _y(e){return qd?Object(qd.call(e)):{}}function Ay(e,r){var i=Bu(e.buffer);return new e.constructor(i,e.byteOffset,e.length)}var Ey="[object Boolean]",Cy="[object Date]",Sy="[object Map]",Iy="[object Number]",Ty="[object RegExp]",ky="[object Set]",Ny="[object String]",Oy="[object Symbol]",My="[object ArrayBuffer]",Ry="[object DataView]",Dy="[object Float32Array]",Py="[object Float64Array]",Ly="[object Int8Array]",By="[object Int16Array]",Fy="[object Int32Array]",Uy="[object Uint8Array]",jy="[object Uint8ClampedArray]",Hy="[object Uint16Array]",zy="[object Uint32Array]";function Vy(e,r,i){var o=e.constructor;switch(r){case My:return Bu(e);case Ey:case Cy:return new o(+e);case Ry:return vy(e);case Dy:case Py:case Ly:case By:case Fy:case Uy:case jy:case Hy:case zy:return Ay(e);case Sy:return new o;case Iy:case Ny:return new o(e);case Ty:return wy(e);case ky:return new o;case Oy:return _y(e)}}function Gy(e){return typeof e.constructor=="function"&&!N1(e)?xm(q2(e)):{}}var Wy="[object Map]";function Xy(e){return Qi(e)&&Bn(e)==Wy}var Zd=os&&os.isMap,Yy=Zd?Ru(Zd):Xy,qy="[object Set]";function Zy(e){return Qi(e)&&Bn(e)==qy}var Kd=os&&os.isSet,Ky=Kd?Ru(Kd):Zy,U1="[object Arguments]",Qy="[object Array]",$y="[object Boolean]",Jy="[object Date]",ev="[object Error]",j1="[object Function]",tv="[object GeneratorFunction]",rv="[object Map]",nv="[object Number]",H1="[object Object]",iv="[object RegExp]",av="[object Set]",sv="[object String]",ov="[object Symbol]",lv="[object WeakMap]",cv="[object ArrayBuffer]",uv="[object DataView]",dv="[object Float32Array]",fv="[object Float64Array]",hv="[object Int8Array]",gv="[object Int16Array]",pv="[object Int32Array]",xv="[object Uint8Array]",mv="[object Uint8ClampedArray]",yv="[object Uint16Array]",vv="[object Uint32Array]",Ht={};Ht[U1]=Ht[Qy]=Ht[cv]=Ht[uv]=Ht[$y]=Ht[Jy]=Ht[dv]=Ht[fv]=Ht[hv]=Ht[gv]=Ht[pv]=Ht[rv]=Ht[nv]=Ht[H1]=Ht[iv]=Ht[av]=Ht[sv]=Ht[ov]=Ht[xv]=Ht[mv]=Ht[yv]=Ht[vv]=!0;Ht[ev]=Ht[j1]=Ht[lv]=!1;function Bo(e,r,i,o,u,d){var g;if(g!==void 0)return g;if(!ss(e))return e;var m=Ii(e);if(m)g=yy(e);else{var y=Bn(e),p=y==j1||y==tv;if(Ko(e))return ny(e);if(y==H1||y==U1||p&&!u)g=p?{}:Gy(e);else{if(!Ht[y])return u?e:{};g=Vy(e,y)}}d||(d=new _i);var v=d.get(e);if(v)return v;d.set(e,g),Ky(e)?e.forEach(function(O){g.add(Bo(O,r,i,O,e,d))}):Yy(e)&&e.forEach(function(O,k){g.set(k,Bo(O,r,i,k,e,d))});var A=Gc,T=m?void 0:A(e);return mm(T||e,function(O,k){T&&(k=O,O=e[k]),k1(g,k,Bo(O,r,i,k,e,d))}),g}var bv=1,wv=4;function $o(e){return Bo(e,bv|wv)}var _v="__lodash_hash_undefined__";function Av(e){return this.__data__.set(e,_v),this}function Ev(e){return this.__data__.has(e)}function Jo(e){var r=-1,i=e==null?0:e.length;for(this.__data__=new Ni;++r<i;)this.add(e[r])}Jo.prototype.add=Jo.prototype.push=Av;Jo.prototype.has=Ev;function Cv(e,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(e[i],i,e))return!0;return!1}function Sv(e,r){return e.has(r)}var Iv=1,Tv=2;function z1(e,r,i,o,u,d){var g=i&Iv,m=e.length,y=r.length;if(m!=y&&!(g&&y>m))return!1;var p=d.get(e),v=d.get(r);if(p&&v)return p==r&&v==e;var A=-1,T=!0,O=i&Tv?new Jo:void 0;for(d.set(e,r),d.set(r,e);++A<m;){var k=e[A],D=r[A];if(o)var P=g?o(D,k,A,r,e,d):o(k,D,A,e,r,d);if(P!==void 0){if(P)continue;T=!1;break}if(O){if(!Cv(r,function(H,W){if(!Sv(O,W)&&(k===H||u(k,H,i,o,d)))return O.push(W)})){T=!1;break}}else if(!(k===D||u(k,D,i,o,d))){T=!1;break}}return d.delete(e),d.delete(r),T}function kv(e){var r=-1,i=Array(e.size);return e.forEach(function(o,u){i[++r]=[u,o]}),i}function Nv(e){var r=-1,i=Array(e.size);return e.forEach(function(o){i[++r]=o}),i}var Ov=1,Mv=2,Rv="[object Boolean]",Dv="[object Date]",Pv="[object Error]",Lv="[object Map]",Bv="[object Number]",Fv="[object RegExp]",Uv="[object Set]",jv="[object String]",Hv="[object Symbol]",zv="[object ArrayBuffer]",Vv="[object DataView]",Qd=ci?ci.prototype:void 0,sc=Qd?Qd.valueOf:void 0;function Gv(e,r,i,o,u,d,g){switch(i){case Vv:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case zv:return!(e.byteLength!=r.byteLength||!d(new Qo(e),new Qo(r)));case Rv:case Dv:case Bv:return Ou(+e,+r);case Pv:return e.name==r.name&&e.message==r.message;case Fv:case jv:return e==r+"";case Lv:var m=kv;case Uv:var y=o&Ov;if(m||(m=Nv),e.size!=r.size&&!y)return!1;var p=g.get(e);if(p)return p==r;o|=Mv,g.set(e,r);var v=z1(m(e),m(r),o,u,d,g);return g.delete(e),v;case Hv:if(sc)return sc.call(e)==sc.call(r)}return!1}var Wv=1,Xv=Object.prototype,Yv=Xv.hasOwnProperty;function qv(e,r,i,o,u,d){var g=i&Wv,m=Gc(e),y=m.length,p=Gc(r),v=p.length;if(y!=v&&!g)return!1;for(var A=y;A--;){var T=m[A];if(!(g?T in r:Yv.call(r,T)))return!1}var O=d.get(e),k=d.get(r);if(O&&k)return O==r&&k==e;var D=!0;d.set(e,r),d.set(r,e);for(var P=g;++A<y;){T=m[A];var H=e[T],W=r[T];if(o)var L=g?o(W,H,T,r,e,d):o(H,W,T,e,r,d);if(!(L===void 0?H===W||u(H,W,i,o,d):L)){D=!1;break}P||(P=T=="constructor")}if(D&&!P){var V=e.constructor,q=r.constructor;V!=q&&"constructor"in e&&"constructor"in r&&!(typeof V=="function"&&V instanceof V&&typeof q=="function"&&q instanceof q)&&(D=!1)}return d.delete(e),d.delete(r),D}var Zv=1,$d="[object Arguments]",Jd="[object Array]",ko="[object Object]",Kv=Object.prototype,e0=Kv.hasOwnProperty;function Qv(e,r,i,o,u,d){var g=Ii(e),m=Ii(r),y=g?Jd:Bn(e),p=m?Jd:Bn(r);y=y==$d?ko:y,p=p==$d?ko:p;var v=y==ko,A=p==ko,T=y==p;if(T&&Ko(e)){if(!Ko(r))return!1;g=!0,v=!1}if(T&&!v)return d||(d=new _i),g||P1(e)?z1(e,r,i,o,u,d):Gv(e,r,y,i,o,u,d);if(!(i&Zv)){var O=v&&e0.call(e,"__wrapped__"),k=A&&e0.call(r,"__wrapped__");if(O||k){var D=O?e.value():e,P=k?r.value():r;return d||(d=new _i),u(D,P,i,o,d)}}return T?(d||(d=new _i),qv(e,r,i,o,u,d)):!1}function V1(e,r,i,o,u){return e===r?!0:e==null||r==null||!Qi(e)&&!Qi(r)?e!==e&&r!==r:Qv(e,r,i,o,V1,u)}function $v(e,r,i){r=Pu(r,e);for(var o=-1,u=r.length,d=!1;++o<u;){var g=Lu(r[o]);if(!(d=e!=null&&i(e,g)))break;e=e[g]}return d||++o!=u?d:(u=e==null?0:e.length,!!u&&Mu(u)&&Nu(g,u)&&(Ii(e)||M1(e)))}var Jv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eb=Z2(Jv),G1=/[&<>"']/g,tb=RegExp(G1.source);function rb(e){return e=B1(e),e&&tb.test(e)?e.replace(G1,eb):e}var nb=Object.prototype,ib=nb.hasOwnProperty;function ab(e,r){return e!=null&&ib.call(e,r)}function sb(e,r){return e!=null&&$v(e,r,ab)}function qc(e,r){return V1(e,r)}function ob(e,r,i,o){if(!ss(e))return e;r=Pu(r,e);for(var u=-1,d=r.length,g=d-1,m=e;m!=null&&++u<d;){var y=Lu(r[u]),p=i;if(y==="__proto__"||y==="constructor"||y==="prototype")return e;if(u!=g){var v=m[y];p=void 0,p===void 0&&(p=ss(v)?v:Nu(r[u+1])?[]:{})}k1(m,y,p),m=m[y]}return e}function ro(e,r,i){return e==null?e:ob(e,r,i)}var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cb(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var i=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var u=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:function(){return e[o]}})}),i}var _s=TypeError;const ub={},db=Object.freeze(Object.defineProperty({__proto__:null,default:ub},Symbol.toStringTag,{value:"Module"})),fb=cb(db);var Fu=typeof Map=="function"&&Map.prototype,oc=Object.getOwnPropertyDescriptor&&Fu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,el=Fu&&oc&&typeof oc.get=="function"?oc.get:null,t0=Fu&&Map.prototype.forEach,Uu=typeof Set=="function"&&Set.prototype,lc=Object.getOwnPropertyDescriptor&&Uu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,tl=Uu&&lc&&typeof lc.get=="function"?lc.get:null,r0=Uu&&Set.prototype.forEach,hb=typeof WeakMap=="function"&&WeakMap.prototype,Xs=hb?WeakMap.prototype.has:null,gb=typeof WeakSet=="function"&&WeakSet.prototype,Ys=gb?WeakSet.prototype.has:null,pb=typeof WeakRef=="function"&&WeakRef.prototype,n0=pb?WeakRef.prototype.deref:null,xb=Boolean.prototype.valueOf,mb=Object.prototype.toString,yb=Function.prototype.toString,vb=String.prototype.match,ju=String.prototype.slice,Vi=String.prototype.replace,bb=String.prototype.toUpperCase,i0=String.prototype.toLowerCase,W1=RegExp.prototype.test,a0=Array.prototype.concat,ii=Array.prototype.join,wb=Array.prototype.slice,s0=Math.floor,Zc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cc=Object.getOwnPropertySymbols,Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ls=typeof Symbol=="function"&&typeof Symbol.iterator=="object",qs=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ls||!0)?Symbol.toStringTag:null,X1=Object.prototype.propertyIsEnumerable,o0=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function l0(e,r){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||W1.call(/e/,r))return r;var i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var o=e<0?-s0(-e):s0(e);if(o!==e){var u=String(o),d=ju.call(r,u.length+1);return Vi.call(u,i,"$&_")+"."+Vi.call(Vi.call(d,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Vi.call(r,i,"$&_")}var Qc=fb,c0=Qc.custom,u0=Z1(c0)?c0:null,Y1={__proto__:null,double:'"',single:"'"},_b={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},El=function e(r,i,o,u){var d=i||{};if(xi(d,"quoteStyle")&&!xi(Y1,d.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(xi(d,"maxStringLength")&&(typeof d.maxStringLength=="number"?d.maxStringLength<0&&d.maxStringLength!==1/0:d.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=xi(d,"customInspect")?d.customInspect:!0;if(typeof g!="boolean"&&g!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(xi(d,"indent")&&d.indent!==null&&d.indent!=="	"&&!(parseInt(d.indent,10)===d.indent&&d.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(xi(d,"numericSeparator")&&typeof d.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=d.numericSeparator;if(typeof r>"u")return"undefined";if(r===null)return"null";if(typeof r=="boolean")return r?"true":"false";if(typeof r=="string")return Q1(r,d);if(typeof r=="number"){if(r===0)return 1/0/r>0?"0":"-0";var y=String(r);return m?l0(r,y):y}if(typeof r=="bigint"){var p=String(r)+"n";return m?l0(r,p):p}var v=typeof d.depth>"u"?5:d.depth;if(typeof o>"u"&&(o=0),o>=v&&v>0&&typeof r=="object")return $c(r)?"[Array]":"[Object]";var A=jb(d,o);if(typeof u>"u")u=[];else if(K1(u,r)>=0)return"[Circular]";function T(ne,ce,R){if(ce&&(u=wb.call(u),u.push(ce)),R){var pe={depth:d.depth};return xi(d,"quoteStyle")&&(pe.quoteStyle=d.quoteStyle),e(ne,pe,o+1,u)}return e(ne,d,o+1,u)}if(typeof r=="function"&&!d0(r)){var O=Ob(r),k=No(r,T);return"[Function"+(O?": "+O:" (anonymous)")+"]"+(k.length>0?" { "+ii.call(k,", ")+" }":"")}if(Z1(r)){var D=ls?Vi.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):Kc.call(r);return typeof r=="object"&&!ls?Ls(D):D}if(Bb(r)){for(var P="<"+i0.call(String(r.nodeName)),H=r.attributes||[],W=0;W<H.length;W++)P+=" "+H[W].name+"="+q1(Ab(H[W].value),"double",d);return P+=">",r.childNodes&&r.childNodes.length&&(P+="..."),P+="</"+i0.call(String(r.nodeName))+">",P}if($c(r)){if(r.length===0)return"[]";var L=No(r,T);return A&&!Ub(L)?"["+Jc(L,A)+"]":"[ "+ii.call(L,", ")+" ]"}if(Cb(r)){var V=No(r,T);return!("cause"in Error.prototype)&&"cause"in r&&!X1.call(r,"cause")?"{ ["+String(r)+"] "+ii.call(a0.call("[cause]: "+T(r.cause),V),", ")+" }":V.length===0?"["+String(r)+"]":"{ ["+String(r)+"] "+ii.call(V,", ")+" }"}if(typeof r=="object"&&g){if(u0&&typeof r[u0]=="function"&&Qc)return Qc(r,{depth:v-o});if(g!=="symbol"&&typeof r.inspect=="function")return r.inspect()}if(Mb(r)){var q=[];return t0&&t0.call(r,function(ne,ce){q.push(T(ce,r,!0)+" => "+T(ne,r))}),f0("Map",el.call(r),q,A)}if(Pb(r)){var Y=[];return r0&&r0.call(r,function(ne){Y.push(T(ne,r))}),f0("Set",tl.call(r),Y,A)}if(Rb(r))return uc("WeakMap");if(Lb(r))return uc("WeakSet");if(Db(r))return uc("WeakRef");if(Ib(r))return Ls(T(Number(r)));if(kb(r))return Ls(T(Zc.call(r)));if(Tb(r))return Ls(xb.call(r));if(Sb(r))return Ls(T(String(r)));if(typeof window<"u"&&r===window)return"{ [object Window] }";if(typeof globalThis<"u"&&r===globalThis||typeof la<"u"&&r===la)return"{ [object globalThis] }";if(!Eb(r)&&!d0(r)){var B=No(r,T),ee=o0?o0(r)===Object.prototype:r instanceof Object||r.constructor===Object,U=r instanceof Object?"":"null prototype",ge=!ee&&qs&&Object(r)===r&&qs in r?ju.call(ta(r),8,-1):U?"Object":"",oe=ee||typeof r.constructor!="function"?"":r.constructor.name?r.constructor.name+" ":"",re=oe+(ge||U?"["+ii.call(a0.call([],ge||[],U||[]),": ")+"] ":"");return B.length===0?re+"{}":A?re+"{"+Jc(B,A)+"}":re+"{ "+ii.call(B,", ")+" }"}return String(r)};function q1(e,r,i){var o=i.quoteStyle||r,u=Y1[o];return u+e+u}function Ab(e){return Vi.call(String(e),/"/g,"&quot;")}function Ma(e){return!qs||!(typeof e=="object"&&(qs in e||typeof e[qs]<"u"))}function $c(e){return ta(e)==="[object Array]"&&Ma(e)}function Eb(e){return ta(e)==="[object Date]"&&Ma(e)}function d0(e){return ta(e)==="[object RegExp]"&&Ma(e)}function Cb(e){return ta(e)==="[object Error]"&&Ma(e)}function Sb(e){return ta(e)==="[object String]"&&Ma(e)}function Ib(e){return ta(e)==="[object Number]"&&Ma(e)}function Tb(e){return ta(e)==="[object Boolean]"&&Ma(e)}function Z1(e){if(ls)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Kc)return!1;try{return Kc.call(e),!0}catch{}return!1}function kb(e){if(!e||typeof e!="object"||!Zc)return!1;try{return Zc.call(e),!0}catch{}return!1}var Nb=Object.prototype.hasOwnProperty||function(e){return e in this};function xi(e,r){return Nb.call(e,r)}function ta(e){return mb.call(e)}function Ob(e){if(e.name)return e.name;var r=vb.call(yb.call(e),/^function\s*([\w$]+)/);return r?r[1]:null}function K1(e,r){if(e.indexOf)return e.indexOf(r);for(var i=0,o=e.length;i<o;i++)if(e[i]===r)return i;return-1}function Mb(e){if(!el||!e||typeof e!="object")return!1;try{el.call(e);try{tl.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Rb(e){if(!Xs||!e||typeof e!="object")return!1;try{Xs.call(e,Xs);try{Ys.call(e,Ys)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Db(e){if(!n0||!e||typeof e!="object")return!1;try{return n0.call(e),!0}catch{}return!1}function Pb(e){if(!tl||!e||typeof e!="object")return!1;try{tl.call(e);try{el.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Lb(e){if(!Ys||!e||typeof e!="object")return!1;try{Ys.call(e,Ys);try{Xs.call(e,Xs)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Bb(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Q1(e,r){if(e.length>r.maxStringLength){var i=e.length-r.maxStringLength,o="... "+i+" more character"+(i>1?"s":"");return Q1(ju.call(e,0,r.maxStringLength),r)+o}var u=_b[r.quoteStyle||"single"];u.lastIndex=0;var d=Vi.call(Vi.call(e,u,"\\$1"),/[\x00-\x1f]/g,Fb);return q1(d,"single",r)}function Fb(e){var r=e.charCodeAt(0),i={8:"b",9:"t",10:"n",12:"f",13:"r"}[r];return i?"\\"+i:"\\x"+(r<16?"0":"")+bb.call(r.toString(16))}function Ls(e){return"Object("+e+")"}function uc(e){return e+" { ? }"}function f0(e,r,i,o){var u=o?Jc(i,o):ii.call(i,", ");return e+" ("+r+") {"+u+"}"}function Ub(e){for(var r=0;r<e.length;r++)if(K1(e[r],`
`)>=0)return!1;return!0}function jb(e,r){var i;if(e.indent==="	")i="	";else if(typeof e.indent=="number"&&e.indent>0)i=ii.call(Array(e.indent+1)," ");else return null;return{base:i,prev:ii.call(Array(r+1),i)}}function Jc(e,r){if(e.length===0)return"";var i=`
`+r.prev+r.base;return i+ii.call(e,","+i)+`
`+r.prev}function No(e,r){var i=$c(e),o=[];if(i){o.length=e.length;for(var u=0;u<e.length;u++)o[u]=xi(e,u)?r(e[u],e):""}var d=typeof cc=="function"?cc(e):[],g;if(ls){g={};for(var m=0;m<d.length;m++)g["$"+d[m]]=d[m]}for(var y in e)xi(e,y)&&(i&&String(Number(y))===y&&y<e.length||ls&&g["$"+y]instanceof Symbol||(W1.call(/[^\w$]/,y)?o.push(r(y,e)+": "+r(e[y],e)):o.push(y+": "+r(e[y],e))));if(typeof cc=="function")for(var p=0;p<d.length;p++)X1.call(e,d[p])&&o.push("["+r(d[p])+"]: "+r(e[d[p]],e));return o}var Hb=El,zb=_s,Cl=function(e,r,i){for(var o=e,u;(u=o.next)!=null;o=u)if(u.key===r)return o.next=u.next,i||(u.next=e.next,e.next=u),u},Vb=function(e,r){if(e){var i=Cl(e,r);return i&&i.value}},Gb=function(e,r,i){var o=Cl(e,r);o?o.value=i:e.next={key:r,next:e.next,value:i}},Wb=function(e,r){return e?!!Cl(e,r):!1},Xb=function(e,r){if(e)return Cl(e,r,!0)},Yb=function(){var r,i={assert:function(o){if(!i.has(o))throw new zb("Side channel does not contain "+Hb(o))},delete:function(o){var u=r&&r.next,d=Xb(r,o);return d&&u&&u===d&&(r=void 0),!!d},get:function(o){return Vb(r,o)},has:function(o){return Wb(r,o)},set:function(o,u){r||(r={next:void 0}),Gb(r,o,u)}};return i},$1=Object,qb=Error,Zb=EvalError,Kb=RangeError,Qb=ReferenceError,$b=SyntaxError,Jb=URIError,ew=Math.abs,tw=Math.floor,rw=Math.max,nw=Math.min,iw=Math.pow,aw=Math.round,sw=Number.isNaN||function(r){return r!==r},ow=sw,lw=function(r){return ow(r)||r===0?r:r<0?-1:1},cw=Object.getOwnPropertyDescriptor,Fo=cw;if(Fo)try{Fo([],"length")}catch{Fo=null}var J1=Fo,Uo=Object.defineProperty||!1;if(Uo)try{Uo({},"a",{value:1})}catch{Uo=!1}var uw=Uo,dc,h0;function dw(){return h0||(h0=1,dc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},i=Symbol("test"),o=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var u=42;r[i]=u;for(var d in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var g=Object.getOwnPropertySymbols(r);if(g.length!==1||g[0]!==i||!Object.prototype.propertyIsEnumerable.call(r,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var m=Object.getOwnPropertyDescriptor(r,i);if(m.value!==u||m.enumerable!==!0)return!1}return!0}),dc}var fc,g0;function fw(){if(g0)return fc;g0=1;var e=typeof Symbol<"u"&&Symbol,r=dw();return fc=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},fc}var hc,p0;function eh(){return p0||(p0=1,hc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),hc}var gc,x0;function th(){if(x0)return gc;x0=1;var e=$1;return gc=e.getPrototypeOf||null,gc}var hw="Function.prototype.bind called on incompatible ",gw=Object.prototype.toString,pw=Math.max,xw="[object Function]",m0=function(r,i){for(var o=[],u=0;u<r.length;u+=1)o[u]=r[u];for(var d=0;d<i.length;d+=1)o[d+r.length]=i[d];return o},mw=function(r,i){for(var o=[],u=i,d=0;u<r.length;u+=1,d+=1)o[d]=r[u];return o},yw=function(e,r){for(var i="",o=0;o<e.length;o+=1)i+=e[o],o+1<e.length&&(i+=r);return i},vw=function(r){var i=this;if(typeof i!="function"||gw.apply(i)!==xw)throw new TypeError(hw+i);for(var o=mw(arguments,1),u,d=function(){if(this instanceof u){var v=i.apply(this,m0(o,arguments));return Object(v)===v?v:this}return i.apply(r,m0(o,arguments))},g=pw(0,i.length-o.length),m=[],y=0;y<g;y++)m[y]="$"+y;if(u=Function("binder","return function ("+yw(m,",")+"){ return binder.apply(this,arguments); }")(d),i.prototype){var p=function(){};p.prototype=i.prototype,u.prototype=new p,p.prototype=null}return u},bw=vw,Sl=Function.prototype.bind||bw,pc,y0;function Hu(){return y0||(y0=1,pc=Function.prototype.call),pc}var xc,v0;function rh(){return v0||(v0=1,xc=Function.prototype.apply),xc}var ww=typeof Reflect<"u"&&Reflect&&Reflect.apply,_w=Sl,Aw=rh(),Ew=Hu(),Cw=ww,Sw=Cw||_w.call(Ew,Aw),Iw=Sl,Tw=_s,kw=Hu(),Nw=Sw,nh=function(r){if(r.length<1||typeof r[0]!="function")throw new Tw("a function is required");return Nw(Iw,kw,r)},mc,b0;function Ow(){if(b0)return mc;b0=1;var e=nh,r=J1,i;try{i=[].__proto__===Array.prototype}catch(g){if(!g||typeof g!="object"||!("code"in g)||g.code!=="ERR_PROTO_ACCESS")throw g}var o=!!i&&r&&r(Object.prototype,"__proto__"),u=Object,d=u.getPrototypeOf;return mc=o&&typeof o.get=="function"?e([o.get]):typeof d=="function"?function(m){return d(m==null?m:u(m))}:!1,mc}var yc,w0;function Mw(){if(w0)return yc;w0=1;var e=eh(),r=th(),i=Ow();return yc=e?function(u){return e(u)}:r?function(u){if(!u||typeof u!="object"&&typeof u!="function")throw new TypeError("getProto: not an object");return r(u)}:i?function(u){return i(u)}:null,yc}var vc,_0;function Rw(){if(_0)return vc;_0=1;var e=Function.prototype.call,r=Object.prototype.hasOwnProperty,i=Sl;return vc=i.call(e,r),vc}var yt,Dw=$1,Pw=qb,Lw=Zb,Bw=Kb,Fw=Qb,cs=$b,$a=_s,Uw=Jb,jw=ew,Hw=tw,zw=rw,Vw=nw,Gw=iw,Ww=aw,Xw=lw,ih=Function,bc=function(e){try{return ih('"use strict"; return ('+e+").constructor;")()}catch{}},no=J1,Yw=uw,wc=function(){throw new $a},qw=no?function(){try{return arguments.callee,wc}catch{try{return no(arguments,"callee").get}catch{return wc}}}():wc,Va=fw()(),vr=Mw(),Zw=th(),Kw=eh(),ah=rh(),co=Hu(),Ya={},Qw=typeof Uint8Array>"u"||!vr?yt:vr(Uint8Array),wa={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?yt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?yt:ArrayBuffer,"%ArrayIteratorPrototype%":Va&&vr?vr([][Symbol.iterator]()):yt,"%AsyncFromSyncIteratorPrototype%":yt,"%AsyncFunction%":Ya,"%AsyncGenerator%":Ya,"%AsyncGeneratorFunction%":Ya,"%AsyncIteratorPrototype%":Ya,"%Atomics%":typeof Atomics>"u"?yt:Atomics,"%BigInt%":typeof BigInt>"u"?yt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?yt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?yt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?yt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Pw,"%eval%":eval,"%EvalError%":Lw,"%Float16Array%":typeof Float16Array>"u"?yt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?yt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?yt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?yt:FinalizationRegistry,"%Function%":ih,"%GeneratorFunction%":Ya,"%Int8Array%":typeof Int8Array>"u"?yt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?yt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?yt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Va&&vr?vr(vr([][Symbol.iterator]())):yt,"%JSON%":typeof JSON=="object"?JSON:yt,"%Map%":typeof Map>"u"?yt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Va||!vr?yt:vr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Dw,"%Object.getOwnPropertyDescriptor%":no,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?yt:Promise,"%Proxy%":typeof Proxy>"u"?yt:Proxy,"%RangeError%":Bw,"%ReferenceError%":Fw,"%Reflect%":typeof Reflect>"u"?yt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?yt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Va||!vr?yt:vr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?yt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Va&&vr?vr(""[Symbol.iterator]()):yt,"%Symbol%":Va?Symbol:yt,"%SyntaxError%":cs,"%ThrowTypeError%":qw,"%TypedArray%":Qw,"%TypeError%":$a,"%Uint8Array%":typeof Uint8Array>"u"?yt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?yt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?yt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?yt:Uint32Array,"%URIError%":Uw,"%WeakMap%":typeof WeakMap>"u"?yt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?yt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?yt:WeakSet,"%Function.prototype.call%":co,"%Function.prototype.apply%":ah,"%Object.defineProperty%":Yw,"%Object.getPrototypeOf%":Zw,"%Math.abs%":jw,"%Math.floor%":Hw,"%Math.max%":zw,"%Math.min%":Vw,"%Math.pow%":Gw,"%Math.round%":Ww,"%Math.sign%":Xw,"%Reflect.getPrototypeOf%":Kw};if(vr)try{null.error}catch(e){var $w=vr(vr(e));wa["%Error.prototype%"]=$w}var Jw=function e(r){var i;if(r==="%AsyncFunction%")i=bc("async function () {}");else if(r==="%GeneratorFunction%")i=bc("function* () {}");else if(r==="%AsyncGeneratorFunction%")i=bc("async function* () {}");else if(r==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(i=o.prototype)}else if(r==="%AsyncIteratorPrototype%"){var u=e("%AsyncGenerator%");u&&vr&&(i=vr(u.prototype))}return wa[r]=i,i},A0={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},uo=Sl,rl=Rw(),e3=uo.call(co,Array.prototype.concat),t3=uo.call(ah,Array.prototype.splice),E0=uo.call(co,String.prototype.replace),nl=uo.call(co,String.prototype.slice),r3=uo.call(co,RegExp.prototype.exec),n3=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,i3=/\\(\\)?/g,a3=function(r){var i=nl(r,0,1),o=nl(r,-1);if(i==="%"&&o!=="%")throw new cs("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&i!=="%")throw new cs("invalid intrinsic syntax, expected opening `%`");var u=[];return E0(r,n3,function(d,g,m,y){u[u.length]=m?E0(y,i3,"$1"):g||d}),u},s3=function(r,i){var o=r,u;if(rl(A0,o)&&(u=A0[o],o="%"+u[0]+"%"),rl(wa,o)){var d=wa[o];if(d===Ya&&(d=Jw(o)),typeof d>"u"&&!i)throw new $a("intrinsic "+r+" exists, but is not available. Please file an issue!");return{alias:u,name:o,value:d}}throw new cs("intrinsic "+r+" does not exist!")},zu=function(r,i){if(typeof r!="string"||r.length===0)throw new $a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof i!="boolean")throw new $a('"allowMissing" argument must be a boolean');if(r3(/^%?[^%]*%?$/,r)===null)throw new cs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=a3(r),u=o.length>0?o[0]:"",d=s3("%"+u+"%",i),g=d.name,m=d.value,y=!1,p=d.alias;p&&(u=p[0],t3(o,e3([0,1],p)));for(var v=1,A=!0;v<o.length;v+=1){var T=o[v],O=nl(T,0,1),k=nl(T,-1);if((O==='"'||O==="'"||O==="`"||k==='"'||k==="'"||k==="`")&&O!==k)throw new cs("property names with quotes must have matching quotes");if((T==="constructor"||!A)&&(y=!0),u+="."+T,g="%"+u+"%",rl(wa,g))m=wa[g];else if(m!=null){if(!(T in m)){if(!i)throw new $a("base intrinsic for "+r+" exists, but the property is not available.");return}if(no&&v+1>=o.length){var D=no(m,T);A=!!D,A&&"get"in D&&!("originalValue"in D.get)?m=D.get:m=m[T]}else A=rl(m,T),m=m[T];A&&!y&&(wa[g]=m)}}return m},sh=zu,oh=nh,o3=oh([sh("%String.prototype.indexOf%")]),lh=function(r,i){var o=sh(r,!!i);return typeof o=="function"&&o3(r,".prototype.")>-1?oh([o]):o},l3=zu,fo=lh,c3=El,u3=_s,C0=l3("%Map%",!0),d3=fo("Map.prototype.get",!0),f3=fo("Map.prototype.set",!0),h3=fo("Map.prototype.has",!0),g3=fo("Map.prototype.delete",!0),p3=fo("Map.prototype.size",!0),ch=!!C0&&function(){var r,i={assert:function(o){if(!i.has(o))throw new u3("Side channel does not contain "+c3(o))},delete:function(o){if(r){var u=g3(r,o);return p3(r)===0&&(r=void 0),u}return!1},get:function(o){if(r)return d3(r,o)},has:function(o){return r?h3(r,o):!1},set:function(o,u){r||(r=new C0),f3(r,o,u)}};return i},x3=zu,Il=lh,m3=El,Oo=ch,y3=_s,Ga=x3("%WeakMap%",!0),v3=Il("WeakMap.prototype.get",!0),b3=Il("WeakMap.prototype.set",!0),w3=Il("WeakMap.prototype.has",!0),_3=Il("WeakMap.prototype.delete",!0),A3=Ga?function(){var r,i,o={assert:function(u){if(!o.has(u))throw new y3("Side channel does not contain "+m3(u))},delete:function(u){if(Ga&&u&&(typeof u=="object"||typeof u=="function")){if(r)return _3(r,u)}else if(Oo&&i)return i.delete(u);return!1},get:function(u){return Ga&&u&&(typeof u=="object"||typeof u=="function")&&r?v3(r,u):i&&i.get(u)},has:function(u){return Ga&&u&&(typeof u=="object"||typeof u=="function")&&r?w3(r,u):!!i&&i.has(u)},set:function(u,d){Ga&&u&&(typeof u=="object"||typeof u=="function")?(r||(r=new Ga),b3(r,u,d)):Oo&&(i||(i=Oo()),i.set(u,d))}};return o}:Oo,E3=_s,C3=El,S3=Yb,I3=ch,T3=A3,k3=T3||I3||S3,N3=function(){var r,i={assert:function(o){if(!i.has(o))throw new E3("Side channel does not contain "+C3(o))},delete:function(o){return!!r&&r.delete(o)},get:function(o){return r&&r.get(o)},has:function(o){return!!r&&r.has(o)},set:function(o,u){r||(r=k3()),r.set(o,u)}};return i},O3=String.prototype.replace,M3=/%20/g,_c={RFC1738:"RFC1738",RFC3986:"RFC3986"},Vu={default:_c.RFC3986,formatters:{RFC1738:function(e){return O3.call(e,M3,"+")},RFC3986:function(e){return String(e)}},RFC1738:_c.RFC1738,RFC3986:_c.RFC3986},R3=Vu,Ac=Object.prototype.hasOwnProperty,ca=Array.isArray,qn=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),D3=function(r){for(;r.length>1;){var i=r.pop(),o=i.obj[i.prop];if(ca(o)){for(var u=[],d=0;d<o.length;++d)typeof o[d]<"u"&&u.push(o[d]);i.obj[i.prop]=u}}},uh=function(r,i){for(var o=i&&i.plainObjects?{__proto__:null}:{},u=0;u<r.length;++u)typeof r[u]<"u"&&(o[u]=r[u]);return o},P3=function e(r,i,o){if(!i)return r;if(typeof i!="object"&&typeof i!="function"){if(ca(r))r.push(i);else if(r&&typeof r=="object")(o&&(o.plainObjects||o.allowPrototypes)||!Ac.call(Object.prototype,i))&&(r[i]=!0);else return[r,i];return r}if(!r||typeof r!="object")return[r].concat(i);var u=r;return ca(r)&&!ca(i)&&(u=uh(r,o)),ca(r)&&ca(i)?(i.forEach(function(d,g){if(Ac.call(r,g)){var m=r[g];m&&typeof m=="object"&&d&&typeof d=="object"?r[g]=e(m,d,o):r.push(d)}else r[g]=d}),r):Object.keys(i).reduce(function(d,g){var m=i[g];return Ac.call(d,g)?d[g]=e(d[g],m,o):d[g]=m,d},u)},L3=function(r,i){return Object.keys(i).reduce(function(o,u){return o[u]=i[u],o},r)},B3=function(e,r,i){var o=e.replace(/\+/g," ");if(i==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},Ec=1024,F3=function(r,i,o,u,d){if(r.length===0)return r;var g=r;if(typeof r=="symbol"?g=Symbol.prototype.toString.call(r):typeof r!="string"&&(g=String(r)),o==="iso-8859-1")return escape(g).replace(/%u[0-9a-f]{4}/gi,function(O){return"%26%23"+parseInt(O.slice(2),16)+"%3B"});for(var m="",y=0;y<g.length;y+=Ec){for(var p=g.length>=Ec?g.slice(y,y+Ec):g,v=[],A=0;A<p.length;++A){var T=p.charCodeAt(A);if(T===45||T===46||T===95||T===126||T>=48&&T<=57||T>=65&&T<=90||T>=97&&T<=122||d===R3.RFC1738&&(T===40||T===41)){v[v.length]=p.charAt(A);continue}if(T<128){v[v.length]=qn[T];continue}if(T<2048){v[v.length]=qn[192|T>>6]+qn[128|T&63];continue}if(T<55296||T>=57344){v[v.length]=qn[224|T>>12]+qn[128|T>>6&63]+qn[128|T&63];continue}A+=1,T=65536+((T&1023)<<10|p.charCodeAt(A)&1023),v[v.length]=qn[240|T>>18]+qn[128|T>>12&63]+qn[128|T>>6&63]+qn[128|T&63]}m+=v.join("")}return m},U3=function(r){for(var i=[{obj:{o:r},prop:"o"}],o=[],u=0;u<i.length;++u)for(var d=i[u],g=d.obj[d.prop],m=Object.keys(g),y=0;y<m.length;++y){var p=m[y],v=g[p];typeof v=="object"&&v!==null&&o.indexOf(v)===-1&&(i.push({obj:g,prop:p}),o.push(v))}return D3(i),r},j3=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},H3=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},z3=function(r,i){return[].concat(r,i)},V3=function(r,i){if(ca(r)){for(var o=[],u=0;u<r.length;u+=1)o.push(i(r[u]));return o}return i(r)},dh={arrayToObject:uh,assign:L3,combine:z3,compact:U3,decode:B3,encode:F3,isBuffer:H3,isRegExp:j3,maybeMap:V3,merge:P3},fh=N3,jo=dh,Zs=Vu,G3=Object.prototype.hasOwnProperty,hh={brackets:function(r){return r+"[]"},comma:"comma",indices:function(r,i){return r+"["+i+"]"},repeat:function(r){return r}},Jn=Array.isArray,W3=Array.prototype.push,gh=function(e,r){W3.apply(e,Jn(r)?r:[r])},X3=Date.prototype.toISOString,S0=Zs.default,hr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:jo.encode,encodeValuesOnly:!1,filter:void 0,format:S0,formatter:Zs.formatters[S0],indices:!1,serializeDate:function(r){return X3.call(r)},skipNulls:!1,strictNullHandling:!1},Y3=function(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"},Cc={},q3=function e(r,i,o,u,d,g,m,y,p,v,A,T,O,k,D,P,H,W){for(var L=r,V=W,q=0,Y=!1;(V=V.get(Cc))!==void 0&&!Y;){var B=V.get(r);if(q+=1,typeof B<"u"){if(B===q)throw new RangeError("Cyclic object value");Y=!0}typeof V.get(Cc)>"u"&&(q=0)}if(typeof v=="function"?L=v(i,L):L instanceof Date?L=O(L):o==="comma"&&Jn(L)&&(L=jo.maybeMap(L,function(Ye){return Ye instanceof Date?O(Ye):Ye})),L===null){if(g)return p&&!P?p(i,hr.encoder,H,"key",k):i;L=""}if(Y3(L)||jo.isBuffer(L)){if(p){var ee=P?i:p(i,hr.encoder,H,"key",k);return[D(ee)+"="+D(p(L,hr.encoder,H,"value",k))]}return[D(i)+"="+D(String(L))]}var U=[];if(typeof L>"u")return U;var ge;if(o==="comma"&&Jn(L))P&&p&&(L=jo.maybeMap(L,p)),ge=[{value:L.length>0?L.join(",")||null:void 0}];else if(Jn(v))ge=v;else{var oe=Object.keys(L);ge=A?oe.sort(A):oe}var re=y?String(i).replace(/\./g,"%2E"):String(i),ne=u&&Jn(L)&&L.length===1?re+"[]":re;if(d&&Jn(L)&&L.length===0)return ne+"[]";for(var ce=0;ce<ge.length;++ce){var R=ge[ce],pe=typeof R=="object"&&R&&typeof R.value<"u"?R.value:L[R];if(!(m&&pe===null)){var se=T&&y?String(R).replace(/\./g,"%2E"):String(R),Oe=Jn(L)?typeof o=="function"?o(ne,se):ne:ne+(T?"."+se:"["+se+"]");W.set(r,q);var He=fh();He.set(Cc,W),gh(U,e(pe,Oe,o,u,d,g,m,y,o==="comma"&&P&&Jn(L)?null:p,v,A,T,O,k,D,P,H,He))}}return U},Z3=function(r){if(!r)return hr;if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");var i=r.charset||hr.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=Zs.default;if(typeof r.format<"u"){if(!G3.call(Zs.formatters,r.format))throw new TypeError("Unknown format option provided.");o=r.format}var u=Zs.formatters[o],d=hr.filter;(typeof r.filter=="function"||Jn(r.filter))&&(d=r.filter);var g;if(r.arrayFormat in hh?g=r.arrayFormat:"indices"in r?g=r.indices?"indices":"repeat":g=hr.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m=typeof r.allowDots>"u"?r.encodeDotInKeys===!0?!0:hr.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:hr.addQueryPrefix,allowDots:m,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:hr.allowEmptyArrays,arrayFormat:g,charset:i,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:hr.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?hr.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:hr.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:hr.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:hr.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:hr.encodeValuesOnly,filter:d,format:o,formatter:u,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:hr.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:hr.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:hr.strictNullHandling}},K3=function(e,r){var i=e,o=Z3(r),u,d;typeof o.filter=="function"?(d=o.filter,i=d("",i)):Jn(o.filter)&&(d=o.filter,u=d);var g=[];if(typeof i!="object"||i===null)return"";var m=hh[o.arrayFormat],y=m==="comma"&&o.commaRoundTrip;u||(u=Object.keys(i)),o.sort&&u.sort(o.sort);for(var p=fh(),v=0;v<u.length;++v){var A=u[v],T=i[A];o.skipNulls&&T===null||gh(g,q3(T,A,m,y,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,p))}var O=g.join(o.delimiter),k=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?k+="utf8=%26%2310003%3B&":k+="utf8=%E2%9C%93&"),O.length>0?k+O:""},Sa=dh,eu=Object.prototype.hasOwnProperty,I0=Array.isArray,nr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Sa.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Q3=function(e){return e.replace(/&#(\d+);/g,function(r,i){return String.fromCharCode(parseInt(i,10))})},ph=function(e,r,i){if(e&&typeof e=="string"&&r.comma&&e.indexOf(",")>-1)return e.split(",");if(r.throwOnLimitExceeded&&i>=r.arrayLimit)throw new RangeError("Array limit exceeded. Only "+r.arrayLimit+" element"+(r.arrayLimit===1?"":"s")+" allowed in an array.");return e},$3="utf8=%26%2310003%3B",J3="utf8=%E2%9C%93",e_=function(r,i){var o={__proto__:null},u=i.ignoreQueryPrefix?r.replace(/^\?/,""):r;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var d=i.parameterLimit===1/0?void 0:i.parameterLimit,g=u.split(i.delimiter,i.throwOnLimitExceeded?d+1:d);if(i.throwOnLimitExceeded&&g.length>d)throw new RangeError("Parameter limit exceeded. Only "+d+" parameter"+(d===1?"":"s")+" allowed.");var m=-1,y,p=i.charset;if(i.charsetSentinel)for(y=0;y<g.length;++y)g[y].indexOf("utf8=")===0&&(g[y]===J3?p="utf-8":g[y]===$3&&(p="iso-8859-1"),m=y,y=g.length);for(y=0;y<g.length;++y)if(y!==m){var v=g[y],A=v.indexOf("]="),T=A===-1?v.indexOf("="):A+1,O,k;T===-1?(O=i.decoder(v,nr.decoder,p,"key"),k=i.strictNullHandling?null:""):(O=i.decoder(v.slice(0,T),nr.decoder,p,"key"),k=Sa.maybeMap(ph(v.slice(T+1),i,I0(o[O])?o[O].length:0),function(P){return i.decoder(P,nr.decoder,p,"value")})),k&&i.interpretNumericEntities&&p==="iso-8859-1"&&(k=Q3(String(k))),v.indexOf("[]=")>-1&&(k=I0(k)?[k]:k);var D=eu.call(o,O);D&&i.duplicates==="combine"?o[O]=Sa.combine(o[O],k):(!D||i.duplicates==="last")&&(o[O]=k)}return o},t_=function(e,r,i,o){var u=0;if(e.length>0&&e[e.length-1]==="[]"){var d=e.slice(0,-1).join("");u=Array.isArray(r)&&r[d]?r[d].length:0}for(var g=o?r:ph(r,i,u),m=e.length-1;m>=0;--m){var y,p=e[m];if(p==="[]"&&i.parseArrays)y=i.allowEmptyArrays&&(g===""||i.strictNullHandling&&g===null)?[]:Sa.combine([],g);else{y=i.plainObjects?{__proto__:null}:{};var v=p.charAt(0)==="["&&p.charAt(p.length-1)==="]"?p.slice(1,-1):p,A=i.decodeDotInKeys?v.replace(/%2E/g,"."):v,T=parseInt(A,10);!i.parseArrays&&A===""?y={0:g}:!isNaN(T)&&p!==A&&String(T)===A&&T>=0&&i.parseArrays&&T<=i.arrayLimit?(y=[],y[T]=g):A!=="__proto__"&&(y[A]=g)}g=y}return g},r_=function(r,i,o,u){if(r){var d=o.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,g=/(\[[^[\]]*])/,m=/(\[[^[\]]*])/g,y=o.depth>0&&g.exec(d),p=y?d.slice(0,y.index):d,v=[];if(p){if(!o.plainObjects&&eu.call(Object.prototype,p)&&!o.allowPrototypes)return;v.push(p)}for(var A=0;o.depth>0&&(y=m.exec(d))!==null&&A<o.depth;){if(A+=1,!o.plainObjects&&eu.call(Object.prototype,y[1].slice(1,-1))&&!o.allowPrototypes)return;v.push(y[1])}if(y){if(o.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+o.depth+" and strictDepth is true");v.push("["+d.slice(y.index)+"]")}return t_(v,i,o,u)}},n_=function(r){if(!r)return nr;if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.decodeDotInKeys<"u"&&typeof r.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(r.decoder!==null&&typeof r.decoder<"u"&&typeof r.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof r.throwOnLimitExceeded<"u"&&typeof r.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var i=typeof r.charset>"u"?nr.charset:r.charset,o=typeof r.duplicates>"u"?nr.duplicates:r.duplicates;if(o!=="combine"&&o!=="first"&&o!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var u=typeof r.allowDots>"u"?r.decodeDotInKeys===!0?!0:nr.allowDots:!!r.allowDots;return{allowDots:u,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:nr.allowEmptyArrays,allowPrototypes:typeof r.allowPrototypes=="boolean"?r.allowPrototypes:nr.allowPrototypes,allowSparse:typeof r.allowSparse=="boolean"?r.allowSparse:nr.allowSparse,arrayLimit:typeof r.arrayLimit=="number"?r.arrayLimit:nr.arrayLimit,charset:i,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:nr.charsetSentinel,comma:typeof r.comma=="boolean"?r.comma:nr.comma,decodeDotInKeys:typeof r.decodeDotInKeys=="boolean"?r.decodeDotInKeys:nr.decodeDotInKeys,decoder:typeof r.decoder=="function"?r.decoder:nr.decoder,delimiter:typeof r.delimiter=="string"||Sa.isRegExp(r.delimiter)?r.delimiter:nr.delimiter,depth:typeof r.depth=="number"||r.depth===!1?+r.depth:nr.depth,duplicates:o,ignoreQueryPrefix:r.ignoreQueryPrefix===!0,interpretNumericEntities:typeof r.interpretNumericEntities=="boolean"?r.interpretNumericEntities:nr.interpretNumericEntities,parameterLimit:typeof r.parameterLimit=="number"?r.parameterLimit:nr.parameterLimit,parseArrays:r.parseArrays!==!1,plainObjects:typeof r.plainObjects=="boolean"?r.plainObjects:nr.plainObjects,strictDepth:typeof r.strictDepth=="boolean"?!!r.strictDepth:nr.strictDepth,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:nr.strictNullHandling,throwOnLimitExceeded:typeof r.throwOnLimitExceeded=="boolean"?r.throwOnLimitExceeded:!1}},i_=function(e,r){var i=n_(r);if(e===""||e===null||typeof e>"u")return i.plainObjects?{__proto__:null}:{};for(var o=typeof e=="string"?e_(e,i):e,u=i.plainObjects?{__proto__:null}:{},d=Object.keys(o),g=0;g<d.length;++g){var m=d[g],y=r_(m,o[m],i,typeof e=="string");u=Sa.merge(u,y,i)}return i.allowSparse===!0?u:Sa.compact(u)},a_=K3,s_=i_,o_=Vu,T0={formats:o_,parse:s_,stringify:a_};function xh(e,r){return function(){return e.apply(r,arguments)}}const{toString:l_}=Object.prototype,{getPrototypeOf:Gu}=Object,{iterator:Tl,toStringTag:mh}=Symbol,kl=(e=>r=>{const i=l_.call(r);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),jn=e=>(e=e.toLowerCase(),r=>kl(r)===e),Nl=e=>r=>typeof r===e,{isArray:As}=Array,us=Nl("undefined");function ho(e){return e!==null&&!us(e)&&e.constructor!==null&&!us(e.constructor)&&Jr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yh=jn("ArrayBuffer");function c_(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&yh(e.buffer),r}const u_=Nl("string"),Jr=Nl("function"),vh=Nl("number"),go=e=>e!==null&&typeof e=="object",d_=e=>e===!0||e===!1,Ho=e=>{if(kl(e)!=="object")return!1;const r=Gu(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(mh in e)&&!(Tl in e)},f_=e=>{if(!go(e)||ho(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},h_=jn("Date"),g_=jn("File"),p_=jn("Blob"),x_=jn("FileList"),m_=e=>go(e)&&Jr(e.pipe),y_=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Jr(e.append)&&((r=kl(e))==="formdata"||r==="object"&&Jr(e.toString)&&e.toString()==="[object FormData]"))},v_=jn("URLSearchParams"),[b_,w_,__,A_]=["ReadableStream","Request","Response","Headers"].map(jn),E_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function po(e,r,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let o,u;if(typeof e!="object"&&(e=[e]),As(e))for(o=0,u=e.length;o<u;o++)r.call(null,e[o],o,e);else{if(ho(e))return;const d=i?Object.getOwnPropertyNames(e):Object.keys(e),g=d.length;let m;for(o=0;o<g;o++)m=d[o],r.call(null,e[m],m,e)}}function bh(e,r){if(ho(e))return null;r=r.toLowerCase();const i=Object.keys(e);let o=i.length,u;for(;o-- >0;)if(u=i[o],r===u.toLowerCase())return u;return null}const fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wh=e=>!us(e)&&e!==fa;function tu(){const{caseless:e,skipUndefined:r}=wh(this)&&this||{},i={},o=(u,d)=>{const g=e&&bh(i,d)||d;Ho(i[g])&&Ho(u)?i[g]=tu(i[g],u):Ho(u)?i[g]=tu({},u):As(u)?i[g]=u.slice():(!r||!us(u))&&(i[g]=u)};for(let u=0,d=arguments.length;u<d;u++)arguments[u]&&po(arguments[u],o);return i}const C_=(e,r,i,{allOwnKeys:o}={})=>(po(r,(u,d)=>{i&&Jr(u)?e[d]=xh(u,i):e[d]=u},{allOwnKeys:o}),e),S_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),I_=(e,r,i,o)=>{e.prototype=Object.create(r.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),i&&Object.assign(e.prototype,i)},T_=(e,r,i,o)=>{let u,d,g;const m={};if(r=r||{},e==null)return r;do{for(u=Object.getOwnPropertyNames(e),d=u.length;d-- >0;)g=u[d],(!o||o(g,e,r))&&!m[g]&&(r[g]=e[g],m[g]=!0);e=i!==!1&&Gu(e)}while(e&&(!i||i(e,r))&&e!==Object.prototype);return r},k_=(e,r,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=r.length;const o=e.indexOf(r,i);return o!==-1&&o===i},N_=e=>{if(!e)return null;if(As(e))return e;let r=e.length;if(!vh(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=e[r];return i},O_=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&Gu(Uint8Array)),M_=(e,r)=>{const o=(e&&e[Tl]).call(e);let u;for(;(u=o.next())&&!u.done;){const d=u.value;r.call(e,d[0],d[1])}},R_=(e,r)=>{let i;const o=[];for(;(i=e.exec(r))!==null;)o.push(i);return o},D_=jn("HTMLFormElement"),P_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,u){return o.toUpperCase()+u}),k0=(({hasOwnProperty:e})=>(r,i)=>e.call(r,i))(Object.prototype),L_=jn("RegExp"),_h=(e,r)=>{const i=Object.getOwnPropertyDescriptors(e),o={};po(i,(u,d)=>{let g;(g=r(u,d,e))!==!1&&(o[d]=g||u)}),Object.defineProperties(e,o)},B_=e=>{_h(e,(r,i)=>{if(Jr(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=e[i];if(Jr(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},F_=(e,r)=>{const i={},o=u=>{u.forEach(d=>{i[d]=!0})};return As(e)?o(e):o(String(e).split(r)),i},U_=()=>{},j_=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function H_(e){return!!(e&&Jr(e.append)&&e[mh]==="FormData"&&e[Tl])}const z_=e=>{const r=new Array(10),i=(o,u)=>{if(go(o)){if(r.indexOf(o)>=0)return;if(ho(o))return o;if(!("toJSON"in o)){r[u]=o;const d=As(o)?[]:{};return po(o,(g,m)=>{const y=i(g,u+1);!us(y)&&(d[m]=y)}),r[u]=void 0,d}}return o};return i(e,0)},V_=jn("AsyncFunction"),G_=e=>e&&(go(e)||Jr(e))&&Jr(e.then)&&Jr(e.catch),Ah=((e,r)=>e?setImmediate:r?((i,o)=>(fa.addEventListener("message",({source:u,data:d})=>{u===fa&&d===i&&o.length&&o.shift()()},!1),u=>{o.push(u),fa.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Jr(fa.postMessage)),W_=typeof queueMicrotask<"u"?queueMicrotask.bind(fa):typeof process<"u"&&process.nextTick||Ah,X_=e=>e!=null&&Jr(e[Tl]),$={isArray:As,isArrayBuffer:yh,isBuffer:ho,isFormData:y_,isArrayBufferView:c_,isString:u_,isNumber:vh,isBoolean:d_,isObject:go,isPlainObject:Ho,isEmptyObject:f_,isReadableStream:b_,isRequest:w_,isResponse:__,isHeaders:A_,isUndefined:us,isDate:h_,isFile:g_,isBlob:p_,isRegExp:L_,isFunction:Jr,isStream:m_,isURLSearchParams:v_,isTypedArray:O_,isFileList:x_,forEach:po,merge:tu,extend:C_,trim:E_,stripBOM:S_,inherits:I_,toFlatObject:T_,kindOf:kl,kindOfTest:jn,endsWith:k_,toArray:N_,forEachEntry:M_,matchAll:R_,isHTMLForm:D_,hasOwnProperty:k0,hasOwnProp:k0,reduceDescriptors:_h,freezeMethods:B_,toObjectSet:F_,toCamelCase:P_,noop:U_,toFiniteNumber:j_,findKey:bh,global:fa,isContextDefined:wh,isSpecCompliantForm:H_,toJSONObject:z_,isAsyncFn:V_,isThenable:G_,setImmediate:Ah,asap:W_,isIterable:X_};function ut(e,r,i,o,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),o&&(this.request=o),u&&(this.response=u,this.status=u.status?u.status:null)}$.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const Eh=ut.prototype,Ch={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ch[e]={value:e}});Object.defineProperties(ut,Ch);Object.defineProperty(Eh,"isAxiosError",{value:!0});ut.from=(e,r,i,o,u,d)=>{const g=Object.create(Eh);$.toFlatObject(e,g,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const m=e&&e.message?e.message:"Error",y=r==null&&e?e.code:r;return ut.call(g,m,y,i,o,u),e&&g.cause==null&&Object.defineProperty(g,"cause",{value:e,configurable:!0}),g.name=e&&e.name||"Error",d&&Object.assign(g,d),g};const Y_=null;function ru(e){return $.isPlainObject(e)||$.isArray(e)}function Sh(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function N0(e,r,i){return e?e.concat(r).map(function(u,d){return u=Sh(u),!i&&d?"["+u+"]":u}).join(i?".":""):r}function q_(e){return $.isArray(e)&&!e.some(ru)}const Z_=$.toFlatObject($,{},null,function(r){return/^is[A-Z]/.test(r)});function Ol(e,r,i){if(!$.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,i=$.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,P){return!$.isUndefined(P[D])});const o=i.metaTokens,u=i.visitor||v,d=i.dots,g=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(r);if(!$.isFunction(u))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if($.isDate(k))return k.toISOString();if($.isBoolean(k))return k.toString();if(!y&&$.isBlob(k))throw new ut("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(k)||$.isTypedArray(k)?y&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function v(k,D,P){let H=k;if(k&&!P&&typeof k=="object"){if($.endsWith(D,"{}"))D=o?D:D.slice(0,-2),k=JSON.stringify(k);else if($.isArray(k)&&q_(k)||($.isFileList(k)||$.endsWith(D,"[]"))&&(H=$.toArray(k)))return D=Sh(D),H.forEach(function(L,V){!($.isUndefined(L)||L===null)&&r.append(g===!0?N0([D],V,d):g===null?D:D+"[]",p(L))}),!1}return ru(k)?!0:(r.append(N0(P,D,d),p(k)),!1)}const A=[],T=Object.assign(Z_,{defaultVisitor:v,convertValue:p,isVisitable:ru});function O(k,D){if(!$.isUndefined(k)){if(A.indexOf(k)!==-1)throw Error("Circular reference detected in "+D.join("."));A.push(k),$.forEach(k,function(H,W){(!($.isUndefined(H)||H===null)&&u.call(r,H,$.isString(W)?W.trim():W,D,T))===!0&&O(H,D?D.concat(W):[W])}),A.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return O(e),r}function O0(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function Wu(e,r){this._pairs=[],e&&Ol(e,this,r)}const Ih=Wu.prototype;Ih.append=function(r,i){this._pairs.push([r,i])};Ih.toString=function(r){const i=r?function(o){return r.call(this,o,O0)}:O0;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function K_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Th(e,r,i){if(!r)return e;const o=i&&i.encode||K_;$.isFunction(i)&&(i={serialize:i});const u=i&&i.serialize;let d;if(u?d=u(r,i):d=$.isURLSearchParams(r)?r.toString():new Wu(r,i).toString(o),d){const g=e.indexOf("#");g!==-1&&(e=e.slice(0,g)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class M0{constructor(){this.handlers=[]}use(r,i,o){return this.handlers.push({fulfilled:r,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){$.forEach(this.handlers,function(o){o!==null&&r(o)})}}const kh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q_=typeof URLSearchParams<"u"?URLSearchParams:Wu,$_=typeof FormData<"u"?FormData:null,J_=typeof Blob<"u"?Blob:null,eA={isBrowser:!0,classes:{URLSearchParams:Q_,FormData:$_,Blob:J_},protocols:["http","https","file","blob","url","data"]},Xu=typeof window<"u"&&typeof document<"u",nu=typeof navigator=="object"&&navigator||void 0,tA=Xu&&(!nu||["ReactNative","NativeScript","NS"].indexOf(nu.product)<0),rA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nA=Xu&&window.location.href||"http://localhost",iA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xu,hasStandardBrowserEnv:tA,hasStandardBrowserWebWorkerEnv:rA,navigator:nu,origin:nA},Symbol.toStringTag,{value:"Module"})),Lr={...iA,...eA};function aA(e,r){return Ol(e,new Lr.classes.URLSearchParams,{visitor:function(i,o,u,d){return Lr.isNode&&$.isBuffer(i)?(this.append(o,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...r})}function sA(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function oA(e){const r={},i=Object.keys(e);let o;const u=i.length;let d;for(o=0;o<u;o++)d=i[o],r[d]=e[d];return r}function Nh(e){function r(i,o,u,d){let g=i[d++];if(g==="__proto__")return!0;const m=Number.isFinite(+g),y=d>=i.length;return g=!g&&$.isArray(u)?u.length:g,y?($.hasOwnProp(u,g)?u[g]=[u[g],o]:u[g]=o,!m):((!u[g]||!$.isObject(u[g]))&&(u[g]=[]),r(i,o,u[g],d)&&$.isArray(u[g])&&(u[g]=oA(u[g])),!m)}if($.isFormData(e)&&$.isFunction(e.entries)){const i={};return $.forEachEntry(e,(o,u)=>{r(sA(o),u,i,0)}),i}return null}function lA(e,r,i){if($.isString(e))try{return(r||JSON.parse)(e),$.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(e)}const xo={transitional:kh,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const o=i.getContentType()||"",u=o.indexOf("application/json")>-1,d=$.isObject(r);if(d&&$.isHTMLForm(r)&&(r=new FormData(r)),$.isFormData(r))return u?JSON.stringify(Nh(r)):r;if($.isArrayBuffer(r)||$.isBuffer(r)||$.isStream(r)||$.isFile(r)||$.isBlob(r)||$.isReadableStream(r))return r;if($.isArrayBufferView(r))return r.buffer;if($.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let m;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return aA(r,this.formSerializer).toString();if((m=$.isFileList(r))||o.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Ol(m?{"files[]":r}:r,y&&new y,this.formSerializer)}}return d||u?(i.setContentType("application/json",!1),lA(r)):r}],transformResponse:[function(r){const i=this.transitional||xo.transitional,o=i&&i.forcedJSONParsing,u=this.responseType==="json";if($.isResponse(r)||$.isReadableStream(r))return r;if(r&&$.isString(r)&&(o&&!this.responseType||u)){const g=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(r,this.parseReviver)}catch(m){if(g)throw m.name==="SyntaxError"?ut.from(m,ut.ERR_BAD_RESPONSE,this,null,this.response):m}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lr.classes.FormData,Blob:Lr.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{xo.headers[e]={}});const cA=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uA=e=>{const r={};let i,o,u;return e&&e.split(`
`).forEach(function(g){u=g.indexOf(":"),i=g.substring(0,u).trim().toLowerCase(),o=g.substring(u+1).trim(),!(!i||r[i]&&cA[i])&&(i==="set-cookie"?r[i]?r[i].push(o):r[i]=[o]:r[i]=r[i]?r[i]+", "+o:o)}),r},R0=Symbol("internals");function Bs(e){return e&&String(e).trim().toLowerCase()}function zo(e){return e===!1||e==null?e:$.isArray(e)?e.map(zo):String(e)}function dA(e){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(e);)r[o[1]]=o[2];return r}const fA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sc(e,r,i,o,u){if($.isFunction(o))return o.call(this,r,i);if(u&&(r=i),!!$.isString(r)){if($.isString(o))return r.indexOf(o)!==-1;if($.isRegExp(o))return o.test(r)}}function hA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,o)=>i.toUpperCase()+o)}function gA(e,r){const i=$.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+i,{value:function(u,d,g){return this[o].call(this,r,u,d,g)},configurable:!0})})}let en=class{constructor(r){r&&this.set(r)}set(r,i,o){const u=this;function d(m,y,p){const v=Bs(y);if(!v)throw new Error("header name must be a non-empty string");const A=$.findKey(u,v);(!A||u[A]===void 0||p===!0||p===void 0&&u[A]!==!1)&&(u[A||y]=zo(m))}const g=(m,y)=>$.forEach(m,(p,v)=>d(p,v,y));if($.isPlainObject(r)||r instanceof this.constructor)g(r,i);else if($.isString(r)&&(r=r.trim())&&!fA(r))g(uA(r),i);else if($.isObject(r)&&$.isIterable(r)){let m={},y,p;for(const v of r){if(!$.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[p=v[0]]=(y=m[p])?$.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}g(m,i)}else r!=null&&d(i,r,o);return this}get(r,i){if(r=Bs(r),r){const o=$.findKey(this,r);if(o){const u=this[o];if(!i)return u;if(i===!0)return dA(u);if($.isFunction(i))return i.call(this,u,o);if($.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=Bs(r),r){const o=$.findKey(this,r);return!!(o&&this[o]!==void 0&&(!i||Sc(this,this[o],o,i)))}return!1}delete(r,i){const o=this;let u=!1;function d(g){if(g=Bs(g),g){const m=$.findKey(o,g);m&&(!i||Sc(o,o[m],m,i))&&(delete o[m],u=!0)}}return $.isArray(r)?r.forEach(d):d(r),u}clear(r){const i=Object.keys(this);let o=i.length,u=!1;for(;o--;){const d=i[o];(!r||Sc(this,this[d],d,r,!0))&&(delete this[d],u=!0)}return u}normalize(r){const i=this,o={};return $.forEach(this,(u,d)=>{const g=$.findKey(o,d);if(g){i[g]=zo(u),delete i[d];return}const m=r?hA(d):String(d).trim();m!==d&&delete i[d],i[m]=zo(u),o[m]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return $.forEach(this,(o,u)=>{o!=null&&o!==!1&&(i[u]=r&&$.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const o=new this(r);return i.forEach(u=>o.set(u)),o}static accessor(r){const o=(this[R0]=this[R0]={accessors:{}}).accessors,u=this.prototype;function d(g){const m=Bs(g);o[m]||(gA(u,g),o[m]=!0)}return $.isArray(r)?r.forEach(d):d(r),this}};en.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(en.prototype,({value:e},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(o){this[i]=o}}});$.freezeMethods(en);function Ic(e,r){const i=this||xo,o=r||i,u=en.from(o.headers);let d=o.data;return $.forEach(e,function(m){d=m.call(i,d,u.normalize(),r?r.status:void 0)}),u.normalize(),d}function Oh(e){return!!(e&&e.__CANCEL__)}function Es(e,r,i){ut.call(this,e??"canceled",ut.ERR_CANCELED,r,i),this.name="CanceledError"}$.inherits(Es,ut,{__CANCEL__:!0});function Mh(e,r,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?e(i):r(new ut("Request failed with status code "+i.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function pA(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function xA(e,r){e=e||10;const i=new Array(e),o=new Array(e);let u=0,d=0,g;return r=r!==void 0?r:1e3,function(y){const p=Date.now(),v=o[d];g||(g=p),i[u]=y,o[u]=p;let A=d,T=0;for(;A!==u;)T+=i[A++],A=A%e;if(u=(u+1)%e,u===d&&(d=(d+1)%e),p-g<r)return;const O=v&&p-v;return O?Math.round(T*1e3/O):void 0}}function mA(e,r){let i=0,o=1e3/r,u,d;const g=(p,v=Date.now())=>{i=v,u=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const v=Date.now(),A=v-i;A>=o?g(p,v):(u=p,d||(d=setTimeout(()=>{d=null,g(u)},o-A)))},()=>u&&g(u)]}const il=(e,r,i=3)=>{let o=0;const u=xA(50,250);return mA(d=>{const g=d.loaded,m=d.lengthComputable?d.total:void 0,y=g-o,p=u(y),v=g<=m;o=g;const A={loaded:g,total:m,progress:m?g/m:void 0,bytes:y,rate:p||void 0,estimated:p&&m&&v?(m-g)/p:void 0,event:d,lengthComputable:m!=null,[r?"download":"upload"]:!0};e(A)},i)},D0=(e,r)=>{const i=e!=null;return[o=>r[0]({lengthComputable:i,total:e,loaded:o}),r[1]]},P0=e=>(...r)=>$.asap(()=>e(...r)),yA=Lr.hasStandardBrowserEnv?((e,r)=>i=>(i=new URL(i,Lr.origin),e.protocol===i.protocol&&e.host===i.host&&(r||e.port===i.port)))(new URL(Lr.origin),Lr.navigator&&/(msie|trident)/i.test(Lr.navigator.userAgent)):()=>!0,vA=Lr.hasStandardBrowserEnv?{write(e,r,i,o,u,d){const g=[e+"="+encodeURIComponent(r)];$.isNumber(i)&&g.push("expires="+new Date(i).toGMTString()),$.isString(o)&&g.push("path="+o),$.isString(u)&&g.push("domain="+u),d===!0&&g.push("secure"),document.cookie=g.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wA(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function Rh(e,r,i){let o=!bA(r);return e&&(o||i==!1)?wA(e,r):r}const L0=e=>e instanceof en?{...e}:e;function Ia(e,r){r=r||{};const i={};function o(p,v,A,T){return $.isPlainObject(p)&&$.isPlainObject(v)?$.merge.call({caseless:T},p,v):$.isPlainObject(v)?$.merge({},v):$.isArray(v)?v.slice():v}function u(p,v,A,T){if($.isUndefined(v)){if(!$.isUndefined(p))return o(void 0,p,A,T)}else return o(p,v,A,T)}function d(p,v){if(!$.isUndefined(v))return o(void 0,v)}function g(p,v){if($.isUndefined(v)){if(!$.isUndefined(p))return o(void 0,p)}else return o(void 0,v)}function m(p,v,A){if(A in r)return o(p,v);if(A in e)return o(void 0,p)}const y={url:d,method:d,data:d,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:m,headers:(p,v,A)=>u(L0(p),L0(v),A,!0)};return $.forEach(Object.keys({...e,...r}),function(v){const A=y[v]||u,T=A(e[v],r[v],v);$.isUndefined(T)&&A!==m||(i[v]=T)}),i}const Dh=e=>{const r=Ia({},e);let{data:i,withXSRFToken:o,xsrfHeaderName:u,xsrfCookieName:d,headers:g,auth:m}=r;if(r.headers=g=en.from(g),r.url=Th(Rh(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),m&&g.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),$.isFormData(i)){if(Lr.hasStandardBrowserEnv||Lr.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if($.isFunction(i.getHeaders)){const y=i.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,A])=>{p.includes(v.toLowerCase())&&g.set(v,A)})}}if(Lr.hasStandardBrowserEnv&&(o&&$.isFunction(o)&&(o=o(r)),o||o!==!1&&yA(r.url))){const y=u&&d&&vA.read(d);y&&g.set(u,y)}return r},_A=typeof XMLHttpRequest<"u",AA=_A&&function(e){return new Promise(function(i,o){const u=Dh(e);let d=u.data;const g=en.from(u.headers).normalize();let{responseType:m,onUploadProgress:y,onDownloadProgress:p}=u,v,A,T,O,k;function D(){O&&O(),k&&k(),u.cancelToken&&u.cancelToken.unsubscribe(v),u.signal&&u.signal.removeEventListener("abort",v)}let P=new XMLHttpRequest;P.open(u.method.toUpperCase(),u.url,!0),P.timeout=u.timeout;function H(){if(!P)return;const L=en.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),q={data:!m||m==="text"||m==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:L,config:e,request:P};Mh(function(B){i(B),D()},function(B){o(B),D()},q),P=null}"onloadend"in P?P.onloadend=H:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(H)},P.onabort=function(){P&&(o(new ut("Request aborted",ut.ECONNABORTED,e,P)),P=null)},P.onerror=function(V){const q=V&&V.message?V.message:"Network Error",Y=new ut(q,ut.ERR_NETWORK,e,P);Y.event=V||null,o(Y),P=null},P.ontimeout=function(){let V=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const q=u.transitional||kh;u.timeoutErrorMessage&&(V=u.timeoutErrorMessage),o(new ut(V,q.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,e,P)),P=null},d===void 0&&g.setContentType(null),"setRequestHeader"in P&&$.forEach(g.toJSON(),function(V,q){P.setRequestHeader(q,V)}),$.isUndefined(u.withCredentials)||(P.withCredentials=!!u.withCredentials),m&&m!=="json"&&(P.responseType=u.responseType),p&&([T,k]=il(p,!0),P.addEventListener("progress",T)),y&&P.upload&&([A,O]=il(y),P.upload.addEventListener("progress",A),P.upload.addEventListener("loadend",O)),(u.cancelToken||u.signal)&&(v=L=>{P&&(o(!L||L.type?new Es(null,e,P):L),P.abort(),P=null)},u.cancelToken&&u.cancelToken.subscribe(v),u.signal&&(u.signal.aborted?v():u.signal.addEventListener("abort",v)));const W=pA(u.url);if(W&&Lr.protocols.indexOf(W)===-1){o(new ut("Unsupported protocol "+W+":",ut.ERR_BAD_REQUEST,e));return}P.send(d||null)})},EA=(e,r)=>{const{length:i}=e=e?e.filter(Boolean):[];if(r||i){let o=new AbortController,u;const d=function(p){if(!u){u=!0,m();const v=p instanceof Error?p:this.reason;o.abort(v instanceof ut?v:new Es(v instanceof Error?v.message:v))}};let g=r&&setTimeout(()=>{g=null,d(new ut(`timeout ${r} of ms exceeded`,ut.ETIMEDOUT))},r);const m=()=>{e&&(g&&clearTimeout(g),g=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:y}=o;return y.unsubscribe=()=>$.asap(m),y}},CA=function*(e,r){let i=e.byteLength;if(i<r){yield e;return}let o=0,u;for(;o<i;)u=o+r,yield e.slice(o,u),o=u},SA=async function*(e,r){for await(const i of IA(e))yield*CA(i,r)},IA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:i,value:o}=await r.read();if(i)break;yield o}}finally{await r.cancel()}},B0=(e,r,i,o)=>{const u=SA(e,r);let d=0,g,m=y=>{g||(g=!0,o&&o(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await u.next();if(p){m(),y.close();return}let A=v.byteLength;if(i){let T=d+=A;i(T)}y.enqueue(new Uint8Array(v))}catch(p){throw m(p),p}},cancel(y){return m(y),u.return()}},{highWaterMark:2})},F0=64*1024,{isFunction:Mo}=$,TA=(({Request:e,Response:r})=>({Request:e,Response:r}))($.global),{ReadableStream:U0,TextEncoder:j0}=$.global,H0=(e,...r)=>{try{return!!e(...r)}catch{return!1}},kA=e=>{e=$.merge.call({skipUndefined:!0},TA,e);const{fetch:r,Request:i,Response:o}=e,u=r?Mo(r):typeof fetch=="function",d=Mo(i),g=Mo(o);if(!u)return!1;const m=u&&Mo(U0),y=u&&(typeof j0=="function"?(k=>D=>k.encode(D))(new j0):async k=>new Uint8Array(await new i(k).arrayBuffer())),p=d&&m&&H0(()=>{let k=!1;const D=new i(Lr.origin,{body:new U0,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!D}),v=g&&m&&H0(()=>$.isReadableStream(new o("").body)),A={stream:v&&(k=>k.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!A[k]&&(A[k]=(D,P)=>{let H=D&&D[k];if(H)return H.call(D);throw new ut(`Response type '${k}' is not supported`,ut.ERR_NOT_SUPPORT,P)})});const T=async k=>{if(k==null)return 0;if($.isBlob(k))return k.size;if($.isSpecCompliantForm(k))return(await new i(Lr.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if($.isArrayBufferView(k)||$.isArrayBuffer(k))return k.byteLength;if($.isURLSearchParams(k)&&(k=k+""),$.isString(k))return(await y(k)).byteLength},O=async(k,D)=>{const P=$.toFiniteNumber(k.getContentLength());return P??T(D)};return async k=>{let{url:D,method:P,data:H,signal:W,cancelToken:L,timeout:V,onDownloadProgress:q,onUploadProgress:Y,responseType:B,headers:ee,withCredentials:U="same-origin",fetchOptions:ge}=Dh(k),oe=r||fetch;B=B?(B+"").toLowerCase():"text";let re=EA([W,L&&L.toAbortSignal()],V),ne=null;const ce=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let R;try{if(Y&&p&&P!=="get"&&P!=="head"&&(R=await O(ee,H))!==0){let qe=new i(D,{method:"POST",body:H,duplex:"half"}),_e;if($.isFormData(H)&&(_e=qe.headers.get("content-type"))&&ee.setContentType(_e),qe.body){const[Ze,ze]=D0(R,il(P0(Y)));H=B0(qe.body,F0,Ze,ze)}}$.isString(U)||(U=U?"include":"omit");const pe=d&&"credentials"in i.prototype,se={...ge,signal:re,method:P.toUpperCase(),headers:ee.normalize().toJSON(),body:H,duplex:"half",credentials:pe?U:void 0};ne=d&&new i(D,se);let Oe=await(d?oe(ne,ge):oe(D,se));const He=v&&(B==="stream"||B==="response");if(v&&(q||He&&ce)){const qe={};["status","statusText","headers"].forEach(nt=>{qe[nt]=Oe[nt]});const _e=$.toFiniteNumber(Oe.headers.get("content-length")),[Ze,ze]=q&&D0(_e,il(P0(q),!0))||[];Oe=new o(B0(Oe.body,F0,Ze,()=>{ze&&ze(),ce&&ce()}),qe)}B=B||"text";let Ye=await A[$.findKey(A,B)||"text"](Oe,k);return!He&&ce&&ce(),await new Promise((qe,_e)=>{Mh(qe,_e,{data:Ye,headers:en.from(Oe.headers),status:Oe.status,statusText:Oe.statusText,config:k,request:ne})})}catch(pe){throw ce&&ce(),pe&&pe.name==="TypeError"&&/Load failed|fetch/i.test(pe.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,k,ne),{cause:pe.cause||pe}):ut.from(pe,pe&&pe.code,k,ne)}}},NA=new Map,Ph=e=>{let r=e?e.env:{};const{fetch:i,Request:o,Response:u}=r,d=[o,u,i];let g=d.length,m=g,y,p,v=NA;for(;m--;)y=d[m],p=v.get(y),p===void 0&&v.set(y,p=m?new Map:kA(r)),v=p;return p};Ph();const iu={http:Y_,xhr:AA,fetch:{get:Ph}};$.forEach(iu,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const z0=e=>`- ${e}`,OA=e=>$.isFunction(e)||e===null||e===!1,Lh={getAdapter:(e,r)=>{e=$.isArray(e)?e:[e];const{length:i}=e;let o,u;const d={};for(let g=0;g<i;g++){o=e[g];let m;if(u=o,!OA(o)&&(u=iu[(m=String(o)).toLowerCase()],u===void 0))throw new ut(`Unknown adapter '${m}'`);if(u&&($.isFunction(u)||(u=u.get(r))))break;d[m||"#"+g]=u}if(!u){const g=Object.entries(d).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=i?g.length>1?`since :
`+g.map(z0).join(`
`):" "+z0(g[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return u},adapters:iu};function Tc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Es(null,e)}function V0(e){return Tc(e),e.headers=en.from(e.headers),e.data=Ic.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lh.getAdapter(e.adapter||xo.adapter,e)(e).then(function(o){return Tc(e),o.data=Ic.call(e,e.transformResponse,o),o.headers=en.from(o.headers),o},function(o){return Oh(o)||(Tc(e),o&&o.response&&(o.response.data=Ic.call(e,e.transformResponse,o.response),o.response.headers=en.from(o.response.headers))),Promise.reject(o)})}const Bh="1.12.2",Ml={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Ml[e]=function(o){return typeof o===e||"a"+(r<1?"n ":" ")+e}});const G0={};Ml.transitional=function(r,i,o){function u(d,g){return"[Axios v"+Bh+"] Transitional option '"+d+"'"+g+(o?". "+o:"")}return(d,g,m)=>{if(r===!1)throw new ut(u(g," has been removed"+(i?" in "+i:"")),ut.ERR_DEPRECATED);return i&&!G0[g]&&(G0[g]=!0,console.warn(u(g," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(d,g,m):!0}};Ml.spelling=function(r){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function MA(e,r,i){if(typeof e!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let u=o.length;for(;u-- >0;){const d=o[u],g=r[d];if(g){const m=e[d],y=m===void 0||g(m,d,e);if(y!==!0)throw new ut("option "+d+" must be "+y,ut.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ut("Unknown option "+d,ut.ERR_BAD_OPTION)}}const Vo={assertOptions:MA,validators:Ml},Zn=Vo.validators;let _a=class{constructor(r){this.defaults=r||{},this.interceptors={request:new M0,response:new M0}}async request(r,i){try{return await this._request(r,i)}catch(o){if(o instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const d=u.stack?u.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=Ia(this.defaults,i);const{transitional:o,paramsSerializer:u,headers:d}=i;o!==void 0&&Vo.assertOptions(o,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),u!=null&&($.isFunction(u)?i.paramsSerializer={serialize:u}:Vo.assertOptions(u,{encode:Zn.function,serialize:Zn.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Vo.assertOptions(i,{baseUrl:Zn.spelling("baseURL"),withXsrfToken:Zn.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let g=d&&$.merge(d.common,d[i.method]);d&&$.forEach(["delete","get","head","post","put","patch","common"],k=>{delete d[k]}),i.headers=en.concat(g,d);const m=[];let y=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(i)===!1||(y=y&&D.synchronous,m.unshift(D.fulfilled,D.rejected))});const p=[];this.interceptors.response.forEach(function(D){p.push(D.fulfilled,D.rejected)});let v,A=0,T;if(!y){const k=[V0.bind(this),void 0];for(k.unshift(...m),k.push(...p),T=k.length,v=Promise.resolve(i);A<T;)v=v.then(k[A++],k[A++]);return v}T=m.length;let O=i;for(;A<T;){const k=m[A++],D=m[A++];try{O=k(O)}catch(P){D.call(this,P);break}}try{v=V0.call(this,O)}catch(k){return Promise.reject(k)}for(A=0,T=p.length;A<T;)v=v.then(p[A++],p[A++]);return v}getUri(r){r=Ia(this.defaults,r);const i=Rh(r.baseURL,r.url,r.allowAbsoluteUrls);return Th(i,r.params,r.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(r){_a.prototype[r]=function(i,o){return this.request(Ia(o||{},{method:r,url:i,data:(o||{}).data}))}});$.forEach(["post","put","patch"],function(r){function i(o){return function(d,g,m){return this.request(Ia(m||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:g}))}}_a.prototype[r]=i(),_a.prototype[r+"Form"]=i(!0)});let RA=class Fh{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const o=this;this.promise.then(u=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](u);o._listeners=null}),this.promise.then=u=>{let d;const g=new Promise(m=>{o.subscribe(m),d=m}).then(u);return g.cancel=function(){o.unsubscribe(d)},g},r(function(d,g,m){o.reason||(o.reason=new Es(d,g,m),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=o=>{r.abort(o)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new Fh(function(u){r=u}),cancel:r}}};function DA(e){return function(i){return e.apply(null,i)}}function PA(e){return $.isObject(e)&&e.isAxiosError===!0}const au={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(au).forEach(([e,r])=>{au[r]=e});function Uh(e){const r=new _a(e),i=xh(_a.prototype.request,r);return $.extend(i,_a.prototype,r,{allOwnKeys:!0}),$.extend(i,r,null,{allOwnKeys:!0}),i.create=function(u){return Uh(Ia(e,u))},i}const zt=Uh(xo);zt.Axios=_a;zt.CanceledError=Es;zt.CancelToken=RA;zt.isCancel=Oh;zt.VERSION=Bh;zt.toFormData=Ol;zt.AxiosError=ut;zt.Cancel=zt.CanceledError;zt.all=function(r){return Promise.all(r)};zt.spread=DA;zt.isAxiosError=PA;zt.mergeConfig=Ia;zt.AxiosHeaders=en;zt.formToJSON=e=>Nh($.isHTMLForm(e)?new FormData(e):e);zt.getAdapter=Lh.getAdapter;zt.HttpStatusCode=au;zt.default=zt;const{Axios:aS,AxiosError:sS,CanceledError:oS,isCancel:lS,CancelToken:cS,VERSION:uS,all:dS,Cancel:fS,isAxiosError:hS,spread:gS,toFormData:pS,AxiosHeaders:xS,HttpStatusCode:mS,formToJSON:yS,getAdapter:vS,mergeConfig:bS}=zt;var LA=class{constructor(e){this.config={},this.defaults=e}extend(e){return e&&(this.defaults={...this.defaults,...e}),this}replace(e){this.config=e}get(e){return sb(this.config,e)?to(this.config,e):to(this.defaults,e)}set(e,r){typeof e=="string"?ro(this.config,e,r):Object.entries(e).forEach(([i,o])=>{ro(this.config,i,o)})}},io=new LA({form:{recentlySuccessfulDuration:2e3},future:{preserveEqualProps:!1,useDataInertiaHeadAttribute:!1,useDialogForErrorModal:!1},prefetch:{cacheFor:3e4,hoverDelay:75}});function W0(e,r){let i;return function(...o){clearTimeout(i),i=setTimeout(()=>e.apply(this,o),r)}}function In(e,r){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,r))}var X0=e=>In("before",{cancelable:!0,detail:{visit:e}}),BA=e=>In("error",{detail:{errors:e}}),FA=e=>In("exception",{cancelable:!0,detail:{exception:e}}),UA=e=>In("finish",{detail:{visit:e}}),jA=e=>In("invalid",{cancelable:!0,detail:{response:e}}),HA=e=>In("beforeUpdate",{detail:{page:e}}),Ks=e=>In("navigate",{detail:{page:e}}),zA=e=>In("progress",{detail:{progress:e}}),VA=e=>In("start",{detail:{visit:e}}),GA=e=>In("success",{detail:{page:e}}),WA=(e,r)=>In("prefetched",{detail:{fetchedAt:Date.now(),response:e.data,visit:r}}),XA=e=>In("prefetching",{detail:{visit:e}}),Hr=class{static set(e,r){typeof window<"u"&&window.sessionStorage.setItem(e,JSON.stringify(r))}static get(e){if(typeof window<"u")return JSON.parse(window.sessionStorage.getItem(e)||"null")}static merge(e,r){const i=this.get(e);i===null?this.set(e,r):this.set(e,{...i,...r})}static remove(e){typeof window<"u"&&window.sessionStorage.removeItem(e)}static removeNested(e,r){const i=this.get(e);i!==null&&(delete i[r],this.set(e,i))}static exists(e){try{return this.get(e)!==null}catch{return!1}}static clear(){typeof window<"u"&&window.sessionStorage.clear()}};Hr.locationVisitKey="inertiaLocationVisit";var YA=async e=>{if(typeof window>"u")throw new Error("Unable to encrypt history");const r=jh(),i=await Hh(),o=await JA(i);if(!o)throw new Error("Unable to encrypt history");return await ZA(r,o,e)},ds={key:"historyKey",iv:"historyIv"},qA=async e=>{const r=jh(),i=await Hh();if(!i)throw new Error("Unable to decrypt history");return await KA(r,i,e)},ZA=async(e,r,i)=>{if(typeof window>"u")throw new Error("Unable to encrypt history");if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(i);const o=new TextEncoder,u=JSON.stringify(i),d=new Uint8Array(u.length*3),g=o.encodeInto(u,d);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:e},r,d.subarray(0,g.written))},KA=async(e,r,i)=>{if(typeof window.crypto.subtle>"u")return console.warn("Decryption is not supported in this environment. SSL is required."),Promise.resolve(i);const o=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},r,i);return JSON.parse(new TextDecoder().decode(o))},jh=()=>{const e=Hr.get(ds.iv);if(e)return new Uint8Array(e);const r=window.crypto.getRandomValues(new Uint8Array(12));return Hr.set(ds.iv,Array.from(r)),r},QA=async()=>typeof window.crypto.subtle>"u"?(console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(null)):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),$A=async e=>{if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve();const r=await window.crypto.subtle.exportKey("raw",e);Hr.set(ds.key,Array.from(new Uint8Array(r)))},JA=async e=>{if(e)return e;const r=await QA();return r?(await $A(r),r):null},Hh=async()=>{const e=Hr.get(ds.key);return e?await window.crypto.subtle.importKey("raw",new Uint8Array(e),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]):null},En=class{static save(){Et.saveScrollPositions(Array.from(this.regions()).map(e=>({top:e.scrollTop,left:e.scrollLeft})))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){const e=typeof window<"u"?window.location.hash:null;e||window.scrollTo(0,0),this.regions().forEach(r=>{typeof r.scrollTo=="function"?r.scrollTo(0,0):(r.scrollTop=0,r.scrollLeft=0)}),this.save(),e&&setTimeout(()=>{const r=document.getElementById(e.slice(1));r?r.scrollIntoView():window.scrollTo(0,0)})}static restore(e){typeof window>"u"||window.requestAnimationFrame(()=>{this.restoreDocument(),this.restoreScrollRegions(e)})}static restoreScrollRegions(e){typeof window>"u"||this.regions().forEach((r,i)=>{const o=e[i];o&&(typeof r.scrollTo=="function"?r.scrollTo(o.left,o.top):(r.scrollTop=o.top,r.scrollLeft=o.left))})}static restoreDocument(){const e=Et.getDocumentScrollPosition();window.scrollTo(e.left,e.top)}static onScroll(e){const r=e.target;typeof r.hasAttribute=="function"&&r.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){Et.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}};function su(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(r=>su(r))||typeof e=="object"&&e!==null&&Object.values(e).some(r=>su(r))}var ou=e=>e instanceof FormData;function zh(e,r=new FormData,i=null){e=e||{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&Gh(r,Vh(i,o),e[o]);return r}function Vh(e,r){return e?e+"["+r+"]":r}function Gh(e,r,i){if(Array.isArray(i))return Array.from(i.keys()).forEach(o=>Gh(e,Vh(r,o.toString()),i[o]));if(i instanceof Date)return e.append(r,i.toISOString());if(i instanceof File)return e.append(r,i,i.name);if(i instanceof Blob)return e.append(r,i);if(typeof i=="boolean")return e.append(r,i?"1":"0");if(typeof i=="string")return e.append(r,i);if(typeof i=="number")return e.append(r,`${i}`);if(i==null)return e.append(r,"");zh(i,e,r)}function Gi(e){return new URL(e.toString(),typeof window>"u"?void 0:window.location.toString())}var eE=(e,r,i,o,u)=>{let d=typeof e=="string"?Gi(e):e;if((su(r)||o)&&!ou(r)&&(r=zh(r)),ou(r))return[d,r];const[g,m]=Wh(i,d,r,u);return[Gi(g),m]};function Wh(e,r,i,o="brackets"){const u=e==="get"&&!ou(i)&&Object.keys(i).length>0,d=tE(r.toString()),g=d||r.toString().startsWith("/")||r.toString()==="",m=!g&&!r.toString().startsWith("#")&&!r.toString().startsWith("?"),y=/^[.]{1,2}([/]|$)/.test(r.toString()),p=r.toString().includes("?")||u,v=r.toString().includes("#"),A=new URL(r.toString(),typeof window>"u"?"http://localhost":window.location.toString());if(u){const T={ignoreQueryPrefix:!0,parseArrays:!1};A.search=T0.stringify({...T0.parse(A.search,T),...i},{encodeValuesOnly:!0,arrayFormat:o})}return[[d?`${A.protocol}//${A.host}`:"",g?A.pathname:"",m?A.pathname.substring(y?0:1):"",p?A.search:"",v?A.hash:""].join(""),u?{}:i]}function al(e){return e=new URL(e.href),e.hash="",e}var Y0=(e,r)=>{e.hash&&!r.hash&&al(e).href===r.href&&(r.hash=e.hash)},lu=(e,r)=>al(e).href===al(r).href;function fs(e){return e!==null&&typeof e=="object"&&e!==void 0&&"url"in e&&"method"in e}function tE(e){return/^[a-z][a-z0-9+.-]*:\/\//i.test(e)}var rE=class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null}init({initialPage:e,swapComponent:r,resolveComponent:i}){return this.page=e,this.swapComponent=r,this.resolveComponent=i,this}set(e,{replace:r=!1,preserveScroll:i=!1,preserveState:o=!1,viewTransition:u=!1}={}){Object.keys(e.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:e.deferredProps,component:e.component,url:e.url}),this.componentId={};const d=this.componentId;return e.clearHistory&&Et.clear(),this.resolve(e.component).then(g=>{if(d!==this.componentId)return;e.rememberedState??(e.rememberedState={});const m=typeof window>"u",y=m?new URL(e.url):window.location,p=!m&&i?Et.getScrollRegions():[];return r=r||lu(Gi(e.url),y),new Promise(v=>{r?Et.replaceState(e,()=>v(null)):Et.pushState(e,()=>v(null))}).then(()=>{const v=!this.isTheSame(e);return!v&&Object.keys(e.props.errors||{}).length>0&&(u=!1),this.page=e,this.cleared=!1,v&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,this.swap({component:g,page:e,preserveState:o,viewTransition:u}).then(()=>{i?window.requestAnimationFrame(()=>En.restoreScrollRegions(p)):En.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===e.component&&this.pendingDeferredProps.url===e.url&&ha.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,r||Ks(e)})})})}setQuietly(e,{preserveState:r=!1}={}){return this.resolve(e.component).then(i=>(this.page=e,this.cleared=!1,Et.setCurrent(e),this.swap({component:i,page:e,preserveState:r,viewTransition:!1})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}merge(e){this.page={...this.page,...e}}setUrlHash(e){this.page.url.includes(e)||(this.page.url+=e)}remember(e){this.page.rememberedState=e}swap({component:e,page:r,preserveState:i,viewTransition:o}){const u=()=>this.swapComponent({component:e,page:r,preserveState:i});if(!o||!(document!=null&&document.startViewTransition))return u();const d=typeof o=="boolean"?()=>null:o;return new Promise(g=>{const m=document.startViewTransition(()=>u().then(g));d(m)})}resolve(e){return Promise.resolve(this.resolveComponent(e))}isTheSame(e){return this.page.component===e.component}on(e,r){return this.listeners.push({event:e,callback:r}),()=>{this.listeners=this.listeners.filter(i=>i.event!==e&&i.callback!==r)}}fireEventsFor(e){this.listeners.filter(r=>r.event===e).forEach(r=>r.callback())}},$e=new rE,Xh=class{constructor(){this.items=[],this.processingPromise=null}add(e){return this.items.push(e),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const e=this.items.shift();return e?Promise.resolve(e()).then(()=>this.processNext()):Promise.resolve()}},js=typeof window>"u",Fs=new Xh,q0=!js&&/CriOS/.test(window.navigator.userAgent),nE=class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(e,r){var i;this.replaceState({...$e.get(),rememberedState:{...((i=$e.get())==null?void 0:i.rememberedState)??{},[r]:e}})}restore(e){var r,i,o;if(!js)return this.current[this.rememberedState]?(r=this.current[this.rememberedState])==null?void 0:r[e]:(o=(i=this.initialState)==null?void 0:i[this.rememberedState])==null?void 0:o[e]}pushState(e,r=null){if(!js){if(this.preserveUrl){r&&r();return}this.current=e,Fs.add(()=>this.getPageData(e).then(i=>{const o=()=>this.doPushState({page:i},e.url).then(()=>r==null?void 0:r());return q0?new Promise(u=>{setTimeout(()=>o().then(u))}):o()}))}}clonePageProps(e){try{return structuredClone(e.props),e}catch{return{...e,props:$o(e.props)}}}getPageData(e){const r=this.clonePageProps(e);return new Promise(i=>e.encryptHistory?YA(r).then(i):i(r))}processQueue(){return Fs.process()}decrypt(e=null){var i;if(js)return Promise.resolve(e??$e.get());const r=e??((i=window.history.state)==null?void 0:i.page);return this.decryptPageData(r).then(o=>{if(!o)throw new Error("Unable to decrypt history");return this.initialState===null?this.initialState=o??void 0:this.current=o??{},o})}decryptPageData(e){return e instanceof ArrayBuffer?qA(e):Promise.resolve(e)}saveScrollPositions(e){Fs.add(()=>Promise.resolve().then(()=>{var r;if((r=window.history.state)!=null&&r.page&&!qc(this.getScrollRegions(),e))return this.doReplaceState({page:window.history.state.page,scrollRegions:e})}))}saveDocumentScrollPosition(e){Fs.add(()=>Promise.resolve().then(()=>{var r;if((r=window.history.state)!=null&&r.page&&!qc(this.getDocumentScrollPosition(),e))return this.doReplaceState({page:window.history.state.page,documentScrollPosition:e})}))}getScrollRegions(){var e;return((e=window.history.state)==null?void 0:e.scrollRegions)||[]}getDocumentScrollPosition(){var e;return((e=window.history.state)==null?void 0:e.documentScrollPosition)||{top:0,left:0}}replaceState(e,r=null){if($e.merge(e),!js){if(this.preserveUrl){r&&r();return}this.current=e,Fs.add(()=>this.getPageData(e).then(i=>{const o=()=>this.doReplaceState({page:i},e.url).then(()=>r==null?void 0:r());return q0?new Promise(u=>{setTimeout(()=>o().then(u))}):o()}))}}doReplaceState(e,r){return Promise.resolve().then(()=>{var i,o;return window.history.replaceState({...e,scrollRegions:e.scrollRegions??((i=window.history.state)==null?void 0:i.scrollRegions),documentScrollPosition:e.documentScrollPosition??((o=window.history.state)==null?void 0:o.documentScrollPosition)},"",r)})}doPushState(e,r){return Promise.resolve().then(()=>window.history.pushState(e,"",r))}getState(e,r){var i;return((i=this.current)==null?void 0:i[e])??r}deleteState(e){this.current[e]!==void 0&&(delete this.current[e],this.replaceState(this.current))}clearInitialState(e){this.initialState&&this.initialState[e]!==void 0&&delete this.initialState[e]}hasAnyState(){return!!this.getAllState()}clear(){Hr.remove(ds.key),Hr.remove(ds.iv)}setCurrent(e){this.current=e}isValidState(e){return!!e.page}getAllState(){return this.current}};typeof window<"u"&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var Et=new nE,iE=class{constructor(){this.internalListeners=[]}init(){typeof window<"u"&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",W0(En.onWindowScroll.bind(En),100),!0)),typeof document<"u"&&document.addEventListener("scroll",W0(En.onScroll.bind(En),100),!0)}onGlobalEvent(e,r){const i=o=>{const u=r(o);o.cancelable&&!o.defaultPrevented&&u===!1&&o.preventDefault()};return this.registerListener(`inertia:${e}`,i)}on(e,r){return this.internalListeners.push({event:e,listener:r}),()=>{this.internalListeners=this.internalListeners.filter(i=>i.listener!==r)}}onMissingHistoryItem(){$e.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(e,...r){this.internalListeners.filter(i=>i.event===e).forEach(i=>i.listener(...r))}registerListener(e,r){return document.addEventListener(e,r),()=>document.removeEventListener(e,r)}handlePopstateEvent(e){const r=e.state||null;if(r===null){const i=Gi($e.get().url);i.hash=window.location.hash,Et.replaceState({...$e.get(),url:i.href}),En.reset();return}if(!Et.isValidState(r))return this.onMissingHistoryItem();Et.decrypt(r.page).then(i=>{if($e.get().version!==i.version){this.onMissingHistoryItem();return}er.cancelAll(),$e.setQuietly(i,{preserveState:!1}).then(()=>{En.restore(Et.getScrollRegions()),Ks($e.get())})}).catch(()=>{this.onMissingHistoryItem()})}},ha=new iE,aE=class{constructor(){this.type=this.resolveType()}resolveType(){return typeof window>"u"?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return this.type==="back_forward"}isReload(){return this.type==="reload"}},kc=new aE,sE=class{static handle(){this.clearRememberedStateOnReload(),[this.handleBackForward,this.handleLocation,this.handleDefault].find(r=>r.bind(this)())}static clearRememberedStateOnReload(){kc.isReload()&&(Et.deleteState(Et.rememberedState),Et.clearInitialState(Et.rememberedState))}static handleBackForward(){if(!kc.isBackForward()||!Et.hasAnyState())return!1;const e=Et.getScrollRegions();return Et.decrypt().then(r=>{$e.set(r,{preserveScroll:!0,preserveState:!0}).then(()=>{En.restore(e),Ks($e.get())})}).catch(()=>{ha.onMissingHistoryItem()}),!0}static handleLocation(){if(!Hr.exists(Hr.locationVisitKey))return!1;const e=Hr.get(Hr.locationVisitKey)||{};return Hr.remove(Hr.locationVisitKey),typeof window<"u"&&$e.setUrlHash(window.location.hash),Et.decrypt($e.get()).then(()=>{const r=Et.getState(Et.rememberedState,{}),i=Et.getScrollRegions();$e.remember(r),$e.set($e.get(),{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&En.restore(i),Ks($e.get())})}).catch(()=>{ha.onMissingHistoryItem()}),!0}static handleDefault(){typeof window<"u"&&$e.setUrlHash(window.location.hash),$e.set($e.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{kc.isReload()&&En.restore(Et.getScrollRegions()),Ks($e.get())})}},oE=class{constructor(e,r,i){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=i.keepAlive??!1,this.cb=r,this.interval=e,(i.autoStart??!0)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){typeof window>"u"||(this.stop(),this.id=window.setInterval(()=>{(!this.throttle||this.cbCount%10===0)&&this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(e){this.throttle=this.keepAlive?!1:e,this.throttle&&(this.cbCount=0)}},lE=class{constructor(){this.polls=[],this.setupVisibilityListener()}add(e,r,i){const o=new oE(e,r,i);return this.polls.push(o),{stop:()=>o.stop(),start:()=>o.start()}}clear(){this.polls.forEach(e=>e.stop()),this.polls=[]}setupVisibilityListener(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{this.polls.forEach(e=>e.isInBackground(document.hidden))},!1)}},cE=new lE,Yh=(e,r,i)=>{if(e===r)return!0;for(const o in e)if(!i.includes(o)&&e[o]!==r[o]&&!uE(e[o],r[o]))return!1;return!0},uE=(e,r)=>{switch(typeof e){case"object":return Yh(e,r,[]);case"function":return e.toString()===r.toString();default:return e===r}},dE={ms:1,s:1e3,m:1e3*60,h:1e3*60*60,d:1e3*60*60*24},Z0=e=>{if(typeof e=="number")return e;for(const[r,i]of Object.entries(dE))if(e.endsWith(r))return parseFloat(e)*i;return parseInt(e)},fE=class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(e,r,{cacheFor:i,cacheTags:o}){if(this.findInFlight(e))return Promise.resolve();const d=this.findCached(e);if(!e.fresh&&d&&d.staleTimestamp>Date.now())return Promise.resolve();const[g,m]=this.extractStaleValues(i),y=new Promise((p,v)=>{r({...e,onCancel:()=>{this.remove(e),e.onCancel(),v()},onError:A=>{this.remove(e),e.onError(A),v()},onPrefetching(A){e.onPrefetching(A)},onPrefetched(A,T){e.onPrefetched(A,T)},onPrefetchResponse(A){p(A)},onPrefetchError(A){pi.removeFromInFlight(e),v(A)}})}).then(p=>(this.remove(e),this.cached.push({params:{...e},staleTimestamp:Date.now()+g,response:y,singleUse:m===0,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(o)?o:[o]}),this.scheduleForRemoval(e,m),this.removeFromInFlight(e),p.handlePrefetch(),p));return this.inFlightRequests.push({params:{...e},response:y,staleTimestamp:null,inFlight:!0}),y}removeAll(){this.cached=[],this.removalTimers.forEach(e=>{clearTimeout(e.timer)}),this.removalTimers=[]}removeByTags(e){this.cached=this.cached.filter(r=>!r.tags.some(i=>e.includes(i)))}remove(e){this.cached=this.cached.filter(r=>!this.paramsAreEqual(r.params,e)),this.clearTimer(e)}removeFromInFlight(e){this.inFlightRequests=this.inFlightRequests.filter(r=>!this.paramsAreEqual(r.params,e))}extractStaleValues(e){const[r,i]=this.cacheForToStaleAndExpires(e);return[Z0(r),Z0(i)]}cacheForToStaleAndExpires(e){if(!Array.isArray(e))return[e,e];switch(e.length){case 0:return[0,0];case 1:return[e[0],e[0]];default:return[e[0],e[1]]}}clearTimer(e){const r=this.removalTimers.find(i=>this.paramsAreEqual(i.params,e));r&&(clearTimeout(r.timer),this.removalTimers=this.removalTimers.filter(i=>i!==r))}scheduleForRemoval(e,r){if(!(typeof window>"u")&&(this.clearTimer(e),r>0)){const i=window.setTimeout(()=>this.remove(e),r);this.removalTimers.push({params:e,timer:i})}}get(e){return this.findCached(e)||this.findInFlight(e)}use(e,r){const i=`${r.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=i,e.response.then(o=>{if(this.currentUseId===i)return o.mergeParams({...r,onPrefetched:()=>{}}),this.removeSingleUseItems(r),o.handle()})}removeSingleUseItems(e){this.cached=this.cached.filter(r=>this.paramsAreEqual(r.params,e)?!r.singleUse:!0)}findCached(e){return this.cached.find(r=>this.paramsAreEqual(r.params,e))||null}findInFlight(e){return this.inFlightRequests.find(r=>this.paramsAreEqual(r.params,e))||null}withoutPurposePrefetchHeader(e){const r=$o(e);return r.headers.Purpose==="prefetch"&&delete r.headers.Purpose,r}paramsAreEqual(e,r){return Yh(this.withoutPurposePrefetchHeader(e),this.withoutPurposePrefetchHeader(r),["showProgress","replace","prefetch","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onPrefetched","onCancelToken","onPrefetching","async","viewTransition"])}},pi=new fE,cu=class Go{constructor(r){if(this.callbacks=[],!r.prefetch)this.params=r;else{const i={onBefore:this.wrapCallback(r,"onBefore"),onBeforeUpdate:this.wrapCallback(r,"onBeforeUpdate"),onStart:this.wrapCallback(r,"onStart"),onProgress:this.wrapCallback(r,"onProgress"),onFinish:this.wrapCallback(r,"onFinish"),onCancel:this.wrapCallback(r,"onCancel"),onSuccess:this.wrapCallback(r,"onSuccess"),onError:this.wrapCallback(r,"onError"),onCancelToken:this.wrapCallback(r,"onCancelToken"),onPrefetched:this.wrapCallback(r,"onPrefetched"),onPrefetching:this.wrapCallback(r,"onPrefetching")};this.params={...r,...i,onPrefetchResponse:r.onPrefetchResponse||(()=>{}),onPrefetchError:r.onPrefetchError||(()=>{})}}}static create(r){return new Go(r)}data(){return this.params.method==="get"?null:this.params.data}queryParams(){return this.params.method==="get"?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}onCancelToken(r){this.params.onCancelToken({cancel:r})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:r=!0,interrupted:i=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=r,this.params.interrupted=i}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(r){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(r)}onPrefetchError(r){this.params.onPrefetchError&&this.params.onPrefetchError(r)}all(){return this.params}headers(){const r={...this.params.headers};this.isPartial()&&(r["X-Inertia-Partial-Component"]=$e.get().component);const i=this.params.only.concat(this.params.reset);return i.length>0&&(r["X-Inertia-Partial-Data"]=i.join(",")),this.params.except.length>0&&(r["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(r["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(r["X-Inertia-Error-Bag"]=this.params.errorBag),r}setPreserveOptions(r){this.params.preserveScroll=Go.resolvePreserveOption(this.params.preserveScroll,r),this.params.preserveState=Go.resolvePreserveOption(this.params.preserveState,r)}runCallbacks(){this.callbacks.forEach(({name:r,args:i})=>{this.params[r](...i)})}merge(r){this.params={...this.params,...r}}wrapCallback(r,i){return(...o)=>{this.recordCallback(i,o),r[i](...o)}}recordCallback(r,i){this.callbacks.push({name:r,args:i})}static resolvePreserveOption(r,i){return typeof r=="function"?r(i):r==="errors"?Object.keys(i.props.errors||{}).length>0:r}},qh={modal:null,listener:null,createIframeAndPage(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const r=document.createElement("html");r.innerHTML=e,r.querySelectorAll("a").forEach(o=>o.setAttribute("target","_top"));const i=document.createElement("iframe");return i.style.backgroundColor="white",i.style.borderRadius="5px",i.style.width="100%",i.style.height="100%",{iframe:i,page:r}},show(e){const{iframe:r,page:i}=this.createIframeAndPage(e);if(this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide()),this.modal.appendChild(r),document.body.prepend(this.modal),document.body.style.overflow="hidden",!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(i.outerHTML),r.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}},hE={show(e){const{iframe:r,page:i}=qh.createIframeAndPage(e);r.style.boxSizing="border-box",r.style.display="block";const o=document.createElement("dialog");o.id="inertia-error-dialog",Object.assign(o.style,{width:"calc(100vw - 100px)",height:"calc(100vh - 100px)",padding:"0",margin:"auto",border:"none",backgroundColor:"transparent"});const u=document.createElement("style");if(u.textContent=`
      dialog#inertia-error-dialog::backdrop {
        background-color: rgba(0, 0, 0, 0.6);
      }

      dialog#inertia-error-dialog:focus {
        outline: none;
      }
    `,document.head.appendChild(u),o.addEventListener("click",d=>{d.target===o&&o.close()}),o.addEventListener("close",()=>{u.remove(),o.remove()}),o.appendChild(r),document.body.prepend(o),o.showModal(),o.focus(),!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(i.outerHTML),r.contentWindow.document.close()}},gE=new Xh,K0=class Zh{constructor(r,i,o){this.requestParams=r,this.response=i,this.originatingPage=o,this.wasPrefetched=!1}static create(r,i,o){return new Zh(r,i,o)}async handlePrefetch(){lu(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return gE.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),WA(this.response,this.requestParams.all()),Promise.resolve();if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await Et.processQueue(),Et.preserveUrl=this.requestParams.all().preserveUrl,await this.setPage();const r=$e.get().props.errors||{};if(Object.keys(r).length>0){const i=this.getScopedErrors(r);return BA(i),this.requestParams.all().onError(i)}er.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||er.flush($e.get().url),GA($e.get()),await this.requestParams.all().onSuccess($e.get()),Et.preserveUrl=!1}mergeParams(r){this.requestParams.merge(r)}async handleNonInertiaResponse(){if(this.isLocationVisit()){const i=Gi(this.getHeader("x-inertia-location"));return Y0(this.requestParams.all().url,i),this.locationVisit(i)}const r={...this.response,data:this.getDataFromResponse(this.response.data)};if(jA(r))return io.get("future.useDialogForErrorModal")?hE.show(r.data):qh.show(r.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(r){return this.response.status===r}getHeader(r){return this.response.headers[r]}hasHeader(r){return this.getHeader(r)!==void 0}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(r){try{if(Hr.set(Hr.locationVisitKey,{preserveScroll:this.requestParams.all().preserveScroll===!0}),typeof window>"u")return;lu(window.location,r)?window.location.reload():window.location.href=r.href}catch{return!1}}async setPage(){const r=this.getDataFromResponse(this.response.data);return this.shouldSetPage(r)?(this.mergeProps(r),this.preserveEqualProps(r),await this.setRememberedState(r),this.requestParams.setPreserveOptions(r),r.url=Et.preserveUrl?$e.get().url:this.pageUrl(r),this.requestParams.all().onBeforeUpdate(r),HA(r),$e.set(r,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState,viewTransition:this.requestParams.all().viewTransition})):Promise.resolve()}getDataFromResponse(r){if(typeof r!="string")return r;try{return JSON.parse(r)}catch{return r}}shouldSetPage(r){if(!this.requestParams.all().async||this.originatingPage.component!==r.component)return!0;if(this.originatingPage.component!==$e.get().component)return!1;const i=Gi(this.originatingPage.url),o=Gi($e.get().url);return i.origin===o.origin&&i.pathname===o.pathname}pageUrl(r){const i=Gi(r.url);return Y0(this.requestParams.all().url,i),i.pathname+i.search+i.hash}preserveEqualProps(r){if(r.component!==$e.get().component||io.get("future.preserveEqualProps")!==!0)return;const i=$e.get().props;Object.entries(r.props).forEach(([o,u])=>{qc(u,i[o])&&(r.props[o]=i[o])})}mergeProps(r){if(!this.requestParams.isPartial()||r.component!==$e.get().component)return;const i=r.mergeProps||[],o=r.prependProps||[],u=r.deepMergeProps||[],d=r.matchPropsOn||[],g=(m,y)=>{const p=to($e.get().props,m),v=to(r.props,m);if(Array.isArray(v)){const A=this.mergeOrMatchItems(p||[],v,m,d,y);ro(r.props,m,A)}else if(typeof v=="object"&&v!==null){const A={...p||{},...v};ro(r.props,m,A)}};i.forEach(m=>g(m,!0)),o.forEach(m=>g(m,!1)),u.forEach(m=>{const y=$e.get().props[m],p=r.props[m],v=(A,T,O)=>Array.isArray(T)?this.mergeOrMatchItems(A,T,O,d):typeof T=="object"&&T!==null?Object.keys(T).reduce((k,D)=>(k[D]=v(A?A[D]:void 0,T[D],`${O}.${D}`),k),{...A}):T;r.props[m]=v(y,p,m)}),r.props={...$e.get().props,...r.props},$e.get().scrollProps&&(r.scrollProps={...$e.get().scrollProps||{},...r.scrollProps||{}})}mergeOrMatchItems(r,i,o,u,d=!0){const g=Array.isArray(r)?r:[],m=u.find(v=>v.split(".").slice(0,-1).join(".")===o);if(!m)return d?[...g,...i]:[...i,...g];const y=m.split(".").pop()||"",p=new Map;return i.forEach(v=>{this.hasUniqueProperty(v,y)&&p.set(v[y],v)}),d?this.appendWithMatching(g,i,p,y):this.prependWithMatching(g,i,p,y)}appendWithMatching(r,i,o,u){const d=r.map(m=>this.hasUniqueProperty(m,u)&&o.has(m[u])?o.get(m[u]):m),g=i.filter(m=>this.hasUniqueProperty(m,u)?!r.some(y=>this.hasUniqueProperty(y,u)&&y[u]===m[u]):!0);return[...d,...g]}prependWithMatching(r,i,o,u){const d=r.filter(g=>this.hasUniqueProperty(g,u)?!o.has(g[u]):!0);return[...i,...d]}hasUniqueProperty(r,i){return r&&typeof r=="object"&&i in r}async setRememberedState(r){const i=await Et.getState(Et.rememberedState,{});this.requestParams.all().preserveState&&i&&r.component===$e.get().component&&(r.rememberedState=i)}getScopedErrors(r){return this.requestParams.all().errorBag?r[this.requestParams.all().errorBag||""]||{}:r}},Q0=class Kh{constructor(r,i){this.page=i,this.requestHasFinished=!1,this.requestParams=cu.create(r),this.cancelToken=new AbortController}static create(r,i){return new Kh(r,i)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),VA(this.requestParams.all()),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),XA(this.requestParams.all()));const r=this.requestParams.all().prefetch;return zt({method:this.requestParams.all().method,url:al(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(i=>(this.response=K0.create(this.requestParams,i,this.page),this.response.handle())).catch(i=>i!=null&&i.response?(this.response=K0.create(this.requestParams,i.response,this.page),this.response.handle()):Promise.reject(i)).catch(i=>{if(!zt.isCancel(i)&&FA(i))return r&&this.requestParams.onPrefetchError(i),Promise.reject(i)}).finally(()=>{this.finish(),r&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,UA(this.requestParams.all()),this.requestParams.onFinish())}cancel({cancelled:r=!1,interrupted:i=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:r,interrupted:i}),this.fireFinishEvents())}onProgress(r){this.requestParams.data()instanceof FormData&&(r.percentage=r.progress?Math.round(r.progress*100):0,zA(r),this.requestParams.all().onProgress(r))}getHeaders(){const r={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0};return $e.get().version&&(r["X-Inertia-Version"]=$e.get().version),r}},$0=class{constructor({maxConcurrent:e,interruptible:r}){this.requests=[],this.maxConcurrent=e,this.interruptible=r}send(e){this.requests.push(e),e.send().then(()=>{this.requests=this.requests.filter(r=>r!==e)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:e=!1,interrupted:r=!1}={},i){if(!this.shouldCancel(i))return;const o=this.requests.shift();o==null||o.cancel({interrupted:r,cancelled:e})}shouldCancel(e){return e?!0:this.interruptible&&this.requests.length>=this.maxConcurrent}},pE=class{constructor(){this.syncRequestStream=new $0({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new $0({maxConcurrent:1/0,interruptible:!1})}init({initialPage:e,resolveComponent:r,swapComponent:i}){$e.init({initialPage:e,resolveComponent:r,swapComponent:i}),sE.handle(),ha.init(),ha.on("missingHistoryItem",()=>{typeof window<"u"&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),ha.on("loadDeferredProps",o=>{this.loadDeferredProps(o)})}get(e,r={},i={}){return this.visit(e,{...i,method:"get",data:r})}post(e,r={},i={}){return this.visit(e,{preserveState:!0,...i,method:"post",data:r})}put(e,r={},i={}){return this.visit(e,{preserveState:!0,...i,method:"put",data:r})}patch(e,r={},i={}){return this.visit(e,{preserveState:!0,...i,method:"patch",data:r})}delete(e,r={}){return this.visit(e,{preserveState:!0,...r,method:"delete"})}reload(e={}){if(!(typeof window>"u"))return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0,async:!0,headers:{...e.headers||{},"Cache-Control":"no-cache"}})}remember(e,r="default"){Et.remember(e,r)}restore(e="default"){return Et.restore(e)}on(e,r){return typeof window>"u"?()=>{}:ha.onGlobalEvent(e,r)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(e,r={},i={}){return cE.add(e,()=>this.reload(r),{autoStart:i.autoStart??!0,keepAlive:i.keepAlive??!1})}visit(e,r={}){const i=this.getPendingVisit(e,{...r,showProgress:r.showProgress??!r.async}),o=this.getVisitEvents(r);if(o.onBefore(i)===!1||!X0(i))return;const u=i.async?this.asyncRequestStream:this.syncRequestStream;u.interruptInFlight(),!$e.isCleared()&&!i.preserveUrl&&En.save();const d={...i,...o},g=pi.get(d);g?($r.reveal(g.inFlight),pi.use(g,d)):($r.reveal(!0),u.send(Q0.create(d,$e.get())))}getCached(e,r={}){return pi.findCached(this.getPrefetchParams(e,r))}flush(e,r={}){pi.remove(this.getPrefetchParams(e,r))}flushAll(){pi.removeAll()}flushByCacheTags(e){pi.removeByTags(Array.isArray(e)?e:[e])}getPrefetching(e,r={}){return pi.findInFlight(this.getPrefetchParams(e,r))}prefetch(e,r={},i={}){if((r.method??(fs(e)?e.method:"get"))!=="get")throw new Error("Prefetch requests must use the GET method");const u=this.getPendingVisit(e,{...r,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1}),d=u.url.origin+u.url.pathname+u.url.search,g=window.location.origin+window.location.pathname+window.location.search;if(d===g)return;const m=this.getVisitEvents(r);if(m.onBefore(u)===!1||!X0(u))return;$r.hide(),this.asyncRequestStream.interruptInFlight();const y={...u,...m};new Promise(v=>{const A=()=>{$e.get()?v():setTimeout(A,50)};A()}).then(()=>{pi.add(y,v=>{this.asyncRequestStream.send(Q0.create(v,$e.get()))},{cacheFor:io.get("prefetch.cacheFor"),cacheTags:[],...i})})}clearHistory(){Et.clear()}decryptHistory(){return Et.decrypt()}resolveComponent(e){return $e.resolve(e)}replace(e){this.clientVisit(e,{replace:!0})}replaceProp(e,r,i){this.replace({preserveScroll:!0,preserveState:!0,props(o){const u=typeof r=="function"?r(to(o,e),o):r;return ro($o(o),e,u)},...i||{}})}appendToProp(e,r,i){this.replaceProp(e,(o,u)=>{const d=typeof r=="function"?r(o,u):r;return Array.isArray(o)||(o=o!==void 0?[o]:[]),[...o,d]},i)}prependToProp(e,r,i){this.replaceProp(e,(o,u)=>{const d=typeof r=="function"?r(o,u):r;return Array.isArray(o)||(o=o!==void 0?[o]:[]),[d,...o]},i)}push(e){this.clientVisit(e)}clientVisit(e,{replace:r=!1}={}){const i=$e.get(),o=typeof e.props=="function"?e.props(i.props):e.props??i.props,{viewTransition:u,onError:d,onFinish:g,onSuccess:m,...y}=e,p={...i,...y,props:o},v=cu.resolvePreserveOption(e.preserveScroll??!1,p),A=cu.resolvePreserveOption(e.preserveState??!1,p);$e.set(p,{replace:r,preserveScroll:v,preserveState:A,viewTransition:u}).then(()=>{const T=$e.get().props.errors||{};if(Object.keys(T).length===0)return m==null?void 0:m($e.get());const O=e.errorBag?T[e.errorBag||""]||{}:T;return d==null?void 0:d(O)}).finally(()=>g==null?void 0:g(e))}getPrefetchParams(e,r){return{...this.getPendingVisit(e,{...r,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1}),...this.getVisitEvents(r)}}getPendingVisit(e,r,i={}){if(fs(e)){const p=e;e=p.url,r.method=r.method??p.method}const o=io.get("visitOptions"),u=o?o(e.toString(),$o(r))||{}:{},d={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],viewTransition:!1,...r,...u},[g,m]=eE(e,d.data,d.method,d.forceFormData,d.queryStringArrayFormat),y={cancelled:!1,completed:!1,interrupted:!1,...d,...i,url:g,data:m};return y.prefetch&&(y.headers.Purpose="prefetch"),y}getVisitEvents(e){return{onCancelToken:e.onCancelToken||(()=>{}),onBefore:e.onBefore||(()=>{}),onBeforeUpdate:e.onBeforeUpdate||(()=>{}),onStart:e.onStart||(()=>{}),onProgress:e.onProgress||(()=>{}),onFinish:e.onFinish||(()=>{}),onCancel:e.onCancel||(()=>{}),onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{}),onPrefetched:e.onPrefetched||(()=>{}),onPrefetching:e.onPrefetching||(()=>{})}}loadDeferredProps(e){e&&Object.entries(e).forEach(([r,i])=>{this.reload({only:i})})}};function Qh(e){return e.target instanceof HTMLElement&&e.target.isContentEditable||e.defaultPrevented}function Nc(e){const r=e.currentTarget.tagName.toLowerCase()==="a";return!(Qh(e)||r&&e.altKey||r&&e.ctrlKey||r&&e.metaKey||r&&e.shiftKey||r&&"button"in e&&e.button!==0)}function J0(e){const r=e.currentTarget.tagName.toLowerCase()==="button";return!Qh(e)&&(e.key==="Enter"||r&&e.key===" ")}var gr="nprogress",Qr,br={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},$i=null,xE=e=>{Object.assign(br,e),br.includeCSS&&_E(br.color),Qr=document.createElement("div"),Qr.id=gr,Qr.innerHTML=br.template},Rl=e=>{const r=$h();e=ng(e,br.minimum,1),$i=e===1?null:e;const i=yE(!r),o=i.querySelector(br.barSelector),u=br.speed,d=br.easing;i.offsetWidth,wE(g=>{const m=br.positionUsing==="translate3d"?{transition:`all ${u}ms ${d}`,transform:`translate3d(${Wo(e)}%,0,0)`}:br.positionUsing==="translate"?{transition:`all ${u}ms ${d}`,transform:`translate(${Wo(e)}%,0)`}:{marginLeft:`${Wo(e)}%`};for(const y in m)o.style[y]=m[y];if(e!==1)return setTimeout(g,u);i.style.transition="none",i.style.opacity="1",i.offsetWidth,setTimeout(()=>{i.style.transition=`all ${u}ms linear`,i.style.opacity="0",setTimeout(()=>{rg(),i.style.transition="",i.style.opacity="",g()},u)},u)})},$h=()=>typeof $i=="number",Jh=()=>{$i||Rl(0);const e=function(){setTimeout(function(){$i&&(eg(),e())},br.trickleSpeed)};br.trickle&&e()},mE=e=>{!e&&!$i||(eg(.3+.5*Math.random()),Rl(1))},eg=e=>{const r=$i;if(r===null)return Jh();if(!(r>1))return e=typeof e=="number"?e:(()=>{const i={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const o in i)if(r>=i[o][0]&&r<i[o][1])return parseFloat(o);return 0})(),Rl(ng(r+e,0,.994))},yE=e=>{var u;if(vE())return document.getElementById(gr);document.documentElement.classList.add(`${gr}-busy`);const r=Qr.querySelector(br.barSelector),i=e?"-100":Wo($i||0),o=tg();return r.style.transition="all 0 linear",r.style.transform=`translate3d(${i}%,0,0)`,br.showSpinner||(u=Qr.querySelector(br.spinnerSelector))==null||u.remove(),o!==document.body&&o.classList.add(`${gr}-custom-parent`),o.appendChild(Qr),Qr},tg=()=>bE(br.parent)?br.parent:document.querySelector(br.parent),rg=()=>{document.documentElement.classList.remove(`${gr}-busy`),tg().classList.remove(`${gr}-custom-parent`),Qr==null||Qr.remove()},vE=()=>document.getElementById(gr)!==null,bE=e=>typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e.nodeType===1&&typeof e.nodeName=="string";function ng(e,r,i){return e<r?r:e>i?i:e}var Wo=e=>(-1+e)*100,wE=(()=>{const e=[],r=()=>{const i=e.shift();i&&i(r)};return i=>{e.push(i),e.length===1&&r()}})(),_E=e=>{const r=document.createElement("style");r.textContent=`
    #${gr} {
      pointer-events: none;
    }

    #${gr} .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #${gr} .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      transform: rotate(3deg) translate(0px, -4px);
    }

    #${gr} .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #${gr} .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      animation: ${gr}-spinner 400ms linear infinite;
    }

    .${gr}-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .${gr}-custom-parent #${gr} .spinner,
    .${gr}-custom-parent #${gr} .bar {
      position: absolute;
    }

    @keyframes ${gr}-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(r)},AE=()=>{Qr&&(Qr.style.display="")},EE=()=>{Qr&&(Qr.style.display="none")},Rn={configure:xE,isStarted:$h,done:mE,set:Rl,remove:rg,start:Jh,status:$i,show:AE,hide:EE},CE=class{constructor(){this.hideCount=0}start(){Rn.start()}reveal(e=!1){this.hideCount=Math.max(0,this.hideCount-1),(e||this.hideCount===0)&&Rn.show()}hide(){this.hideCount++,Rn.hide()}set(e){Rn.set(Math.max(0,Math.min(1,e)))}finish(){Rn.done()}reset(){Rn.set(0)}remove(){Rn.done(),Rn.remove()}isStarted(){return Rn.isStarted()}getStatus(){return Rn.status}},$r=new CE;$r.reveal;$r.hide;function SE(e){document.addEventListener("inertia:start",r=>IE(r,e)),document.addEventListener("inertia:progress",TE)}function IE(e,r){e.detail.visit.showProgress||$r.hide();const i=setTimeout(()=>$r.start(),r);document.addEventListener("inertia:finish",o=>kE(o,i),{once:!0})}function TE(e){var r;$r.isStarted()&&((r=e.detail.progress)!=null&&r.percentage)&&$r.set(Math.max($r.getStatus(),e.detail.progress.percentage/100*.9))}function kE(e,r){clearTimeout(r),$r.isStarted()&&(e.detail.visit.completed?$r.finish():e.detail.visit.interrupted?$r.reset():e.detail.visit.cancelled&&$r.remove())}function NE({delay:e=250,color:r="#29d",includeCSS:i=!0,showSpinner:o=!1}={}){SE(e),Rn.configure({showSpinner:o,includeCSS:i,color:r})}var er=new pE;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */function ig(e,r){const i=Td(r,["children","$$slots","$$events","$$legacy"]),o=Td(i,["href","as","data","method","replace","preserveScroll","preserveState","preserveUrl","only","except","headers","queryStringArrayFormat","async","prefetch","cacheFor","cacheTags","viewTransition"]);Xt(r,!1);const u=Se(),d=Se(),g=Se(),m=Se();let y=Pe(r,"href",8,""),p=Pe(r,"as",8,"a"),v=Pe(r,"data",24,()=>({})),A=Pe(r,"method",8,"get"),T=Pe(r,"replace",8,!1),O=Pe(r,"preserveScroll",8,!1),k=Pe(r,"preserveState",8,null),D=Pe(r,"preserveUrl",8,!1),P=Pe(r,"only",24,()=>[]),H=Pe(r,"except",24,()=>[]),W=Pe(r,"headers",24,()=>({})),L=Pe(r,"queryStringArrayFormat",8,"brackets"),V=Pe(r,"async",8,!1),q=Pe(r,"prefetch",8,!1),Y=Pe(r,"cacheFor",8,0),B=Pe(r,"cacheTags",24,()=>[]),ee=Pe(r,"viewTransition",8,!1);oi(()=>(Ce(y()),Ce(A())),()=>{te(u,fs(y())?y().method:A())}),oi(()=>Ce(y()),()=>{te(d,fs(y())?y().url:y())}),oi(()=>(w(u),Ce(p())),()=>{te(g,w(u)!=="get"?"button":p().toLowerCase())}),oi(()=>(w(d),w(g)),()=>{te(m,{a:{href:w(d)},button:{type:"button"}}[w(g)]||{})}),wu(),Kt();var U=Dr(),ge=Ct(U);wx(ge,()=>w(g),!1,(oe,re)=>{pr(oe,(R,pe)=>et==null?void 0:et(R,pe),()=>({...w(g)!=="a"?{href:w(d)}:{},data:v(),method:w(u),replace:T(),preserveScroll:O(),preserveState:k()??w(u)!=="get",preserveUrl:D(),only:P(),except:H(),headers:W(),queryStringArrayFormat:L(),async:V(),prefetch:q(),cacheFor:Y(),cacheTags:B(),viewTransition:ee()})),Nx(oe,()=>({...o,...w(m)})),Be("focus",oe,function(R){lr.call(this,r,R)}),Be("blur",oe,function(R){lr.call(this,r,R)}),Be("click",oe,function(R){lr.call(this,r,R)}),Be("dblclick",oe,function(R){lr.call(this,r,R)}),Be("mousedown",oe,function(R){lr.call(this,r,R)}),Be("mousemove",oe,function(R){lr.call(this,r,R)}),Be("mouseout",oe,function(R){lr.call(this,r,R)}),Be("mouseover",oe,function(R){lr.call(this,r,R)}),Be("mouseup",oe,function(R){lr.call(this,r,R)}),Be("cancel-token",oe,function(R){lr.call(this,r,R)}),Be("before",oe,function(R){lr.call(this,r,R)}),Be("start",oe,function(R){lr.call(this,r,R)}),Be("progress",oe,function(R){lr.call(this,r,R)}),Be("finish",oe,function(R){lr.call(this,r,R)}),Be("cancel",oe,function(R){lr.call(this,r,R)}),Be("success",oe,function(R){lr.call(this,r,R)}),Be("error",oe,function(R){lr.call(this,r,R)}),Be("prefetching",oe,function(R){lr.call(this,r,R)}),Be("prefetched",oe,function(R){lr.call(this,r,R)});var ne=Dr(),ce=Ct(ne);bx(ce,r,"default",{}),K(re,ne)}),K(e,U),Yt()}const Ro=(e,r,i,o=null)=>{const u=typeof r=="object"&&r!==null&&!Array.isArray(r);return{component:e,key:u?o:typeof i=="number"?i:null,props:u?r:{},children:u?Array.isArray(i)?i:i!==null?[i]:[]:Array.isArray(r)?r:r!==null?[r]:[]}};function ag(e,r){Xt(r,!1);let i=Pe(r,"component",8),o=Pe(r,"props",24,()=>({})),u=Pe(r,"children",24,()=>[]),d=Pe(r,"key",8,null);Kt();var g=Dr(),m=Ct(g);{var y=p=>{var v=Dr(),A=Ct(v);xx(A,()=>(Ce(u()),Ce(d()),z(()=>{var T;return((T=u())==null?void 0:T.length)===0?d():null})),T=>{var O=Dr(),k=Ct(O);{var D=H=>{var W=Dr(),L=Ct(W);_d(L,i,(V,q)=>{q(V,Lo(o,{children:(Y,B)=>{var ee=Dr(),U=Ct(ee);cr(U,1,u,xr,(ge,oe)=>{var re=Dr(),ne=Ct(re);ag(ne,Lo(()=>w(oe))),K(ge,re)}),K(Y,ee)},$$slots:{default:!0}}))}),K(H,W)},P=H=>{var W=Dr(),L=Ct(W);_d(L,i,(V,q)=>{q(V,Lo(o))}),K(H,W)};je(k,H=>{Ce(u()),z(()=>u().length>0)?H(D):H(P,!1)})}K(T,O)}),K(p,v)};je(m,p=>{i()&&p(y)})}K(e,g),Yt()}const{set:OE,subscribe:ME}=Fx(),ef=OE,Yu={subscribe:ME};function RE(e,r){Xt(r,!1);let i=Pe(r,"initialComponent",8),o=Pe(r,"initialPage",8),u=Pe(r,"resolveComponent",8),d=i(),g=null,m=o(),y=Se(v(d,m,g));ef(m),typeof window>"u"||er.init({initialPage:o(),resolveComponent:u(),swapComponent:async O=>{d=O.component,m=O.page,g=O.preserveState?g:Date.now(),te(y,v(d,m,g)),ef(m)}});function v(O,k,D=null){const P=Ro(O.default,k.props,[],D),H=O.layout;return H?A(H,P,k.props,D):P}function A(O,k,D,P){return T(O)?O(Ro,k):Array.isArray(O)?O.slice().reverse().reduce((H,W)=>Ro(W,D,[H],P),k):Ro(O,D,k?[k]:[],P)}function T(O){return typeof O=="function"&&O.length===2&&typeof O.prototype>"u"}Kt(),ag(e,Lo(()=>w(y))),Yt()}async function DE({id:e="app",resolve:r,setup:i,progress:o={},page:u,defaults:d={}}){uu.replace(d);const g=typeof window>"u",m=g?null:document.getElementById(e),y=u||JSON.parse((m==null?void 0:m.dataset.page)||"{}"),p=A=>Promise.resolve(r(A)),v=await Promise.all([p(y.component),er.decryptHistory().catch(()=>{})]).then(([A])=>i({el:m,App:RE,props:{initialPage:y,initialComponent:A,resolveComponent:p}}));if(g&&v){const{html:A,head:T,css:O}=v;return{body:`<div data-server-rendered="true" id="${e}" data-page="${rb(JSON.stringify(y))}">${A}</div>`,head:[T,O?`<style data-vite-css>${O.code}</style>`:""]}}!g&&o&&NE(o)}function et(e,r={}){let i=0,o,u=[],d,g=[],m,y,p,v,A;const T={click:ee=>{Nc(ee)&&(ee.preventDefault(),er.visit(y,A))}},O={mouseenter:()=>o=setTimeout(()=>W(),uu.get("prefetch.hoverDelay")),mouseleave:()=>clearTimeout(o),click:T.click},k={mousedown:ee=>{Nc(ee)&&(ee.preventDefault(),W())},keydown:ee=>{J0(ee)&&(ee.preventDefault(),W())},mouseup:ee=>{ee.preventDefault(),er.visit(y,A)},keyup:ee=>{J0(ee)&&(ee.preventDefault(),er.visit(y,A))},click:ee=>{Nc(ee)&&ee.preventDefault()}};function D({cacheFor:ee=0,prefetch:U=!1,cacheTags:ge=[],viewTransition:oe=!1,...re}){var ne;u=U===!0?["hover"]:U===!1?[]:Array.isArray(U)?U:[U],d=ee!==0?ee:u.length===1&&u[0]==="click"?0:uu.get("prefetch.cacheFor"),g=Array.isArray(ge)?ge:[ge],m=fs(re.href)?re.href.method:((ne=re.method)==null?void 0:ne.toLowerCase())||"get",[y,p]=H(m,re),e.tagName==="A"&&(e.href=y),v={data:p,method:m,replace:re.replace||!1,preserveScroll:re.preserveScroll||!1,preserveState:re.preserveState??m!=="get",preserveUrl:re.preserveUrl||!1,only:re.only||[],except:re.except||[],headers:re.headers||{},async:re.async||!1},A={...v,viewTransition:oe,onStart:ce=>(i++,L(),P("start",{detail:{visit:ce}})),onProgress:ce=>P("progress",{detail:{progress:ce}}),onFinish:ce=>(i--,L(),P("finish",{detail:{visit:ce}})),onBefore:ce=>P("before",{cancelable:!0,detail:{visit:ce}}),onCancel:()=>P("cancel"),onSuccess:ce=>P("success",{detail:{page:ce}}),onError:ce=>P("error",{detail:{errors:ce}}),onCancelToken:ce=>P("cancel-token",{detail:{token:ce}}),onPrefetching:ce=>P("prefetching",{detail:{visit:ce}}),onPrefetched:(ce,R)=>P("prefetched",{detail:{response:ce,visit:R}})},V()}function P(ee,U={}){return e.dispatchEvent(new CustomEvent(ee,U))}function H(ee,U){return Wh(ee,fs(U.href)?U.href.url:e.href||U.href||"",U.data||{},U.queryStringArrayFormat||"brackets")}function W(){er.prefetch(y,{...v,onPrefetching:ee=>P("prefetching",{detail:{visit:ee}}),onPrefetched:(ee,U)=>P("prefetched",{detail:{response:ee,visit:U}})},{cacheFor:d,cacheTags:g})}function L(){if(i>0){e.setAttribute("data-loading","");return}e.removeAttribute("data-loading")}function V(){if(Y(),u.includes("hover")){q(O);return}if(u.includes("click")){q(k);return}q(T)}function q(ee){Object.entries(ee).forEach(([U,ge])=>{e.addEventListener(U,ge)})}function Y(){[O,k,T].forEach(ee=>{Object.entries(ee).forEach(([U,ge])=>{e.removeEventListener(U,ge)})})}function B(){clearTimeout(o),Y()}return D(r),u.includes("mount")&&W(),{update:D,destroy:B}}const uu=io.extend({});var PE=ye('<span class="flex gap-2 items-center"><img class="h-16" src="/public/logo.png" alt="QRScan"/></span>');function Dl(e){var r=PE();K(e,r)}var LE=ye('<div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-red-900 dark:text-red-400" role="alert"> </div>'),BE=ye(`<div class="p-4 mb-4 text-sm text-green-800 rounded-lg bg-green-50 dark:bg-green-900 dark:text-green-400" role="alert">Link reset password telah dikirim ke email atau nomor
                        telepon Anda.</div>`),FE=ye('<section class="bg-gray-50 dark:bg-gray-900"><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto h-screen lg:py-0"><div class="flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white"><!></div> <div class="w-full bg-white rounded-lg shadow dark:bg-gray-800 dark:border dark:border-gray-700 md:mt-0 sm:max-w-md xl:p-0"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white md:text-2xl">Reset Password</h1> <!> <!> <form class="space-y-4 md:space-y-6"><div><label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email atau Nomor Telepon</label> <input type="text" name="email" id="email" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" placeholder="email@example.com atau 08xxxxxxxxxx" required/></div> <button type="submit" class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">Kirim Link Reset Password</button> <p class="text-sm font-light text-gray-500 dark:text-gray-400">Ingat password Anda? <a href="/login" class="font-medium text-primary-600 hover:underline dark:text-primary-400">Login disini</a></p></form></div></div></div></section>');function UE(e,r){Xt(r,!1);let i=Se({email:"",phone:""}),o=Se(!1),u=Pe(r,"error",8);function d(){zt.post("/forgot-password",w(i)).then(q=>{te(o,!0),Rr(i,w(i).email=""),Rr(i,w(i).phone="")})}Kt();var g=FE(),m=_(g),y=_(m),p=_(y);Dl(p);var v=I(y,2),A=_(v),T=I(_(A),2);{var O=q=>{var Y=LE(),B=_(Y);Me(()=>ae(B,u())),K(q,Y)};je(T,q=>{u()&&q(O)})}var k=I(T,2);{var D=q=>{var Y=BE();K(q,Y)};je(k,q=>{w(o)&&q(D)})}var P=I(k,2),H=_(P),W=I(_(H),2),L=I(H,4),V=I(_(L));pr(V,q=>et==null?void 0:et(q)),ht(W,()=>w(i).email,q=>Rr(i,w(i).email=q)),Be("submit",P,Sn(d)),K(e,g),Yt()}const jE=Object.freeze(Object.defineProperty({__proto__:null,default:UE},Symbol.toStringTag,{value:"Module"}));var HE=ye('<div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50  dark:text-red-400 dark:bg-red-900" role="alert"> </div>'),zE=ye('<section class="bg-gray-50 dark:bg-gray-900"><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto h-screen lg:py-0"><div class="flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white"><!></div> <div class="w-full bg-white rounded-lg shadow dark:border dark:bg-gray-800 dark:border-gray-700 md:mt-0 sm:max-w-md xl:p-0"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><!> <div class="flex flex-col space-y-4"><a href="/google/redirect" class="w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"><svg class="h-5 w-5 mr-2" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg> Continue with Google</a> <div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300 dark:border-gray-600"></div></div> <div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500 dark:bg-gray-800 dark:text-gray-400">Or continue with</span></div></div></div> <form class="space-y-4 md:space-y-6"><div><label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label> <input required type="text" name="email" id="email" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" placeholder="maulanaibrahim@gmail.com"/></div> <div><label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label> <input required type="password" name="password" id="password" placeholder="â¢â¢â¢â¢â¢â¢â¢â¢" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/></div> <div class="flex items-center justify-end"><a href="/forgot-password" class="text-sm font-medium text-primary-600 hover:underline dark:text-primary-400">Lupa Password?</a></div> <button type="submit" class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">Login</button> <p class="text-sm font-light text-gray-500 dark:text-gray-400">Belum punya akun? <a href="/register" class="font-medium text-primary-600 hover:underline dark:text-primary-400">Buat disini</a></p></form></div></div></div></section>');function VE(e,r){Xt(r,!1);let i=Se({email:"",password:"",password_confirmation:"",terms:!1}),o=Pe(r,"error",8);function u(){er.post("/login",{email:w(i).email,password:w(i).password})}Kt();var d=zE(),g=_(d),m=_(g),y=_(m);Dl(y);var p=I(m,2),v=_(p),A=_(v);{var T=Y=>{var B=HE(),ee=_(B);Me(()=>ae(ee,o())),K(Y,B)};je(A,Y=>{o()&&Y(T)})}var O=I(A,4),k=_(O),D=I(_(k),2),P=I(k,2),H=I(_(P),2),W=I(P,2),L=_(W);pr(L,Y=>et==null?void 0:et(Y));var V=I(W,4),q=I(_(V));pr(q,Y=>et==null?void 0:et(Y)),ht(D,()=>w(i).email,Y=>Rr(i,w(i).email=Y)),ht(H,()=>w(i).password,Y=>Rr(i,w(i).password=Y)),Be("submit",O,Sn(u)),K(e,d),Yt()}const GE=Object.freeze(Object.defineProperty({__proto__:null,default:VE},Symbol.toStringTag,{value:"Module"}));function Wa(e){const r=i=>{e&&!e.contains(i.target)&&!i.defaultPrevented&&e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",r,!0),{destroy(){document.removeEventListener("click",r,!0)}}}function sg(e){var r="abcdefghijklmnopqrstuvwxyz",i="123456789",o="!@#_",u="",d=Math.ceil(e/2);d=d-1;var g=e-2*d;for(let m=0;m<d;m++)u+=r.charAt(Math.floor(Math.random()*r.length)),u+=i.charAt(Math.floor(Math.random()*i.length));for(let m=0;m<g;m++)u+=o.charAt(Math.floor(Math.random()*o.length));return u=u.split("").sort(function(){return .5-Math.random()}).join(""),u}function sa(e,r="success",i=3e3){let o=document.getElementById("toast-container");o||(o=document.createElement("div"),o.id="toast-container",o.style.cssText=`
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        `,document.body.appendChild(o));const u=document.createElement("div");u.style.cssText=`
        min-width: 300px;
        max-width: 90vw;
        margin: 0;
        padding: 12px 16px;
        border-radius: 8px;
        color: white;
        font-size: 14px;
        font-weight: 500;
        opacity: 0;
        transform: translateY(20px) scale(0.95);
        transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15), 0 0 1px rgba(0,0,0,0.1);
        display: flex;
        align-items: center;
        gap: 12px;
        backdrop-filter: blur(8px);
    `;const d={success:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>',error:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',info:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>'};switch(r){case"success":u.style.backgroundColor="rgba(34, 197, 94, 0.95)";break;case"error":u.style.backgroundColor="rgba(239, 68, 68, 0.95)";break;case"warning":u.style.backgroundColor="rgba(245, 158, 11, 0.95)";break;default:u.style.backgroundColor="rgba(59, 130, 246, 0.95)",r="info"}const g=document.createElement("div");g.style.cssText=`
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    `,g.innerHTML=d[r];const m=document.createElement("div");m.style.cssText=`
        flex-grow: 1;
        line-height: 1.4;
    `,m.textContent=e,u.appendChild(g),u.appendChild(m),o.appendChild(u),requestAnimationFrame(()=>{u.style.opacity="1",u.style.transform="translateY(0) scale(1)"}),setTimeout(()=>{u.style.opacity="0",u.style.transform="translateY(-20px) scale(0.95)",setTimeout(()=>{o.removeChild(u),o.children.length===0&&document.body.removeChild(o)},200)},i)}var WE=ye('<div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-red-900 dark:text-red-400" role="alert"> </div>'),XE=ye('<section class="bg-gray-50 dark:bg-gray-900"><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto h-screen lg:py-0"><div class="flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white"><!></div> <div class="w-full bg-white rounded-lg shadow dark:border dark:bg-gray-800 dark:border-gray-700 md:mt-0 sm:max-w-md xl:p-0"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white md:text-2xl">Create and account</h1> <!> <div class="flex flex-col space-y-4"><a href="/google/redirect" class="w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"><svg class="h-5 w-5 mr-2" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg> Sign up with Google</a> <div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300 dark:border-gray-600"></div></div> <div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500 dark:bg-gray-800 dark:text-gray-400">Or sign up with email</span></div></div></div> <form class="space-y-4 md:space-y-6"><div><label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nama</label> <input required type="text" name="name" id="name" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" placeholder="Maulana Ibrahim"/></div> <div><label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label> <input required type="text" name="email" id="email" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" placeholder="maulanaibrahim@gmail.com"/></div> <div><label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password</label> <input required type="password" name="password" id="password" placeholder="â¢â¢â¢â¢â¢â¢â¢â¢" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/> <button type="button" class="text-xs text-gray-500 dark:text-gray-400">Buat Password</button></div> <div><label for="confirm-password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Konfirmasi password</label> <input type="password" name="confirm-password" id="confirm-password" placeholder="â¢â¢â¢â¢â¢â¢â¢â¢" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/></div> <button type="submit" class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">Buat Akun Baru</button> <p class="text-sm font-light text-gray-500 dark:text-gray-400">Sudah punya akun? <a href="/login" class="font-medium text-primary-600 hover:underline dark:text-primary-400">Login disini</a></p></form></div></div></div></section>');function YE(e,r){Xt(r,!1);let i=Se({email:"",password:"",name:"",phone:"",password_confirmation:""}),o=Pe(r,"error",8);function u(){if(w(i).password!=w(i).password_confirmation)return alert("Password and konfirmasi password haru sama"),!1;Rr(i,w(i).phone=w(i).phone.toString()),er.post("/register",w(i))}function d(){const ge=sg(10);Rr(i,w(i).password=ge),Rr(i,w(i).password_confirmation=ge)}Kt();var g=XE(),m=_(g),y=_(m),p=_(y);Dl(p);var v=I(y,2),A=_(v),T=I(_(A),2);{var O=ge=>{var oe=WE(),re=_(oe);Me(()=>ae(re,o())),K(ge,oe)};je(T,ge=>{o()&&ge(O)})}var k=I(T,4),D=_(k),P=I(_(D),2),H=I(D,2),W=I(_(H),2),L=I(H,2),V=I(_(L),2),q=I(V,2),Y=I(L,2),B=I(_(Y),2),ee=I(Y,4),U=I(_(ee));pr(U,ge=>et==null?void 0:et(ge)),ht(P,()=>w(i).name,ge=>Rr(i,w(i).name=ge)),ht(W,()=>w(i).email,ge=>Rr(i,w(i).email=ge)),ht(V,()=>w(i).password,ge=>Rr(i,w(i).password=ge)),Be("click",q,d),ht(B,()=>w(i).password_confirmation,ge=>Rr(i,w(i).password_confirmation=ge)),Be("submit",k,Sn(u)),K(e,g),Yt()}const qE=Object.freeze(Object.defineProperty({__proto__:null,default:YE},Symbol.toStringTag,{value:"Module"}));var ZE=ye('<div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-red-900 dark:text-red-400" role="alert"> </div>'),KE=ye('<section class="bg-gray-50 dark:bg-gray-900"><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto h-screen lg:py-0"><div class="flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white"><!></div> <div class="w-full bg-white rounded-lg shadow dark:bg-gray-800 dark:border dark:border-gray-700 md:mt-0 sm:max-w-md xl:p-0"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white md:text-2xl">Reset Password</h1> <!> <form class="space-y-4 md:space-y-6"><div><label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password Baru</label> <input type="password" name="password" id="password" placeholder="â¢â¢â¢â¢â¢â¢â¢â¢" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" required/> <button type="button" class="text-xs text-gray-500 dark:text-gray-400 mt-1">Generate Password</button></div> <div><label for="confirm-password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Konfirmasi Password</label> <input type="password" name="confirm-password" id="confirm-password" placeholder="â¢â¢â¢â¢â¢â¢â¢â¢" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-600 focus:outline-none block w-full py-2.5 px-3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" required/></div> <button type="submit" class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800">Reset Password</button> <p class="text-sm font-light text-gray-500 dark:text-gray-400">Ingat password Anda? <a href="/login" class="font-medium text-primary-600 hover:underline dark:text-primary-400">Login disini</a></p></form></div></div></div></section>');function QE(e,r){Xt(r,!1);let i=Pe(r,"id",8),o=Pe(r,"error",8),u=Se({password:"",password_confirmation:"",id:i()});function d(){const B=sg(10);Rr(u,w(u).password=B),Rr(u,w(u).password_confirmation=B)}function g(){if(w(u).password!=w(u).password_confirmation)return alert("Password dan konfirmasi password harus sama"),!1;er.post("/reset-password",w(u))}Kt();var m=KE(),y=_(m),p=_(y),v=_(p);Dl(v);var A=I(p,2),T=_(A),O=I(_(T),2);{var k=B=>{var ee=ZE(),U=_(ee);Me(()=>ae(U,o())),K(B,ee)};je(O,B=>{o()&&B(k)})}var D=I(O,2),P=_(D),H=I(_(P),2),W=I(H,2),L=I(P,2),V=I(_(L),2),q=I(L,4),Y=I(_(q));pr(Y,B=>et==null?void 0:et(B)),ht(H,()=>w(u).password,B=>Rr(u,w(u).password=B)),Be("click",W,d),ht(V,()=>w(u).password_confirmation,B=>Rr(u,w(u).password_confirmation=B)),Be("submit",D,Sn(g)),K(e,m),Yt()}const $E=Object.freeze(Object.defineProperty({__proto__:null,default:QE},Symbol.toStringTag,{value:"Module"})),JE=e=>e;function og(e){const r=e-1;return r*r*r+1}function tf(e){const r=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return r?[parseFloat(r[1]),r[2]||"px"]:[e,"px"]}function rf(e,{delay:r=0,duration:i=400,easing:o=JE}={}){const u=+getComputedStyle(e).opacity;return{delay:r,duration:i,easing:o,css:d=>`opacity: ${d*u}`}}function ua(e,{delay:r=0,duration:i=400,easing:o=og,x:u=0,y:d=0,opacity:g=0}={}){const m=getComputedStyle(e),y=+m.opacity,p=m.transform==="none"?"":m.transform,v=y*(1-g),[A,T]=tf(u),[O,k]=tf(d);return{delay:r,duration:i,easing:o,css:(D,P)=>`
			transform: ${p} translate(${(1-D)*A}${T}, ${(1-D)*O}${k});
			opacity: ${y-v*P}`}}function e4(e,{delay:r=0,duration:i=400,easing:o=og,start:u=0,opacity:d=0}={}){const g=getComputedStyle(e),m=+g.opacity,y=g.transform==="none"?"":g.transform,p=1-u,v=m*(1-d);return{delay:r,duration:i,easing:o,css:(A,T)=>`
			transform: ${y} scale(${1-p*T});
			opacity: ${m-v*T}
		`}}var t4=bs('<svg class="w-5 h-5 text-gray-800 dark:text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>'),r4=bs('<svg class="w-5 h-5 text-gray-800 dark:text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>'),n4=ye('<button class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-label="Toggle dark mode"><!></button>');function i4(e,r){Xt(r,!1);let i=Se(!1),o=Pe(r,"onchange",8,p=>{});g1(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)").matches,v=localStorage.getItem("darkMode");te(i,v===null?p:v==="true"),w(i)&&document.documentElement.classList.add("dark"),setTimeout(()=>{document.documentElement.classList.add("transition-colors")},100),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",A=>{localStorage.getItem("darkMode")===null&&(te(i,A.matches),u())})});function u(){te(i,!w(i)),w(i)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",w(i)),o()(w(i))}Kt();var d=n4(),g=_(d);{var m=p=>{var v=t4();K(p,v)},y=p=>{var v=r4();K(p,v)};je(g,p=>{w(i)?p(m):p(y,!1)})}Be("click",d,u),K(e,d),Yt()}var a4=ye('<a class="relative px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium transition-all duration-200 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100/70 dark:hover:bg-gray-800/80"><span> </span></a>'),s4=ye('<div class="absolute right-0 mt-2 w-52 rounded-2xl bg-white/95 dark:bg-gray-900/95 shadow-xl ring-1 ring-black/5 dark:ring-white/10 py-2 text-xs text-gray-700 dark:text-gray-200"><a class="block px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-800">Profile</a> <a href="/profile" class="block px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-800">Edit Profile</a> <a href="/settings" class="block px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-800">Settings</a> <button class="w-full text-left px-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-gray-800">Logout</button></div>'),o4=ye('<div class="relative"><button class="flex items-center gap-2 rounded-full border border-gray-200/80 dark:border-gray-700/80 bg-white/80 dark:bg-gray-900/80 px-2.5 py-1.5 hover:border-primary-400/70 hover:bg-primary-50/70 dark:hover:bg-gray-800/90 transition-all"><div class="h-7 w-7 rounded-full bg-gradient-to-tr from-primary-500 to-emerald-400 text-[11px] font-semibold text-white flex items-center justify-center"><span> </span></div> <span class="hidden md:inline text-xs font-medium text-gray-800 dark:text-gray-100 max-w-[120px] truncate"> </span> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4 text-gray-400"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg></button> <!></div>'),l4=ye('<a href="/login" class="inline-flex items-center justify-center rounded-full bg-primary-600 px-4 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-primary-700 hover:shadow-md transition-all">Masuk</a>'),c4=bs('<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>'),u4=bs('<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>'),d4=ye("<a> </a>"),f4=ye('<button class="w-full btn-secondary dark:bg-gray-900 dark:border-gray-700 dark:hover:bg-gray-800 dark:hover:text-white dark:text-gray-300 text-xs py-2">Logout</button>'),h4=ye('<a href="/login" class="w-full btn-primary text-xs py-2">Masuk</a>'),g4=ye('<div class="fixed inset-0 bg-black/40 backdrop-blur-sm z-40 md:hidden"><div class="absolute right-3 top-20 w-64 rounded-3xl bg-white/95 dark:bg-gray-950/95 shadow-2xl ring-1 ring-black/5 dark:ring-white/10 overflow-hidden"><div class="px-4 pt-4 pb-3 border-b border-gray-100 dark:border-gray-800"><p class="text-[11px] font-medium uppercase tracking-[0.18em] text-gray-400 mb-1">Navigasi</p> <div class="flex flex-col space-y-1"></div></div> <div class="px-4 py-3 space-y-2"><!></div></div></div>'),p4=ye('<header class="fixed inset-x-0 top-0 z-50"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"><div class="mt-3 flex items-center justify-between rounded-full border border-gray-200/70 dark:border-gray-800/80 bg-white/80 dark:bg-gray-950/80 backdrop-blur-xl shadow-sm shadow-gray-900/5 dark:shadow-black/40 px-3 sm:px-4 py-2.5"><div class="flex items-center gap-3"><a class="flex items-center gap-2"><img src="/public/logo.png" alt="QRScan" class="h-8 w-8 rounded-lg"/> <div class="hidden sm:flex flex-col leading-tight"><span class="text-sm font-semibold text-gray-900 dark:text-white">QRScan</span></div></a></div> <nav class="hidden md:flex items-center gap-1 lg:gap-2"></nav> <div class="flex items-center gap-1 sm:gap-2"><!> <div class="hidden sm:flex items-center gap-2 ml-1"><!></div> <button class="md:hidden inline-flex items-center justify-center h-9 w-9 rounded-full border border-gray-200/80 dark:border-gray-700/80 bg-white/80 dark:bg-gray-900/80 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 ml-1" aria-label="Menu"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><!></svg></button></div></div></div> <!></header>');function Vr(e,r){Xt(r,!1);const i=()=>Iu(Yu,"$page",o),[o,u]=Tu();let d=i().props.user,g=Se(!1),m=Se(!1),y=Pe(r,"group",8);const p=[{href:"/#features",label:"Fitur",show:!0},{href:"/#flow",label:"Alur",show:!0},{href:"/#roles",label:"Peran",show:!0},{href:"/#cta",label:"Mulai",show:!0}];let v=Se(p);function A(){er.post("/logout")}const T=(pe,se)=>{if(se&&se.includes("#")){const Oe=se.split("#")[1],He=document.getElementById(Oe);He&&(pe.preventDefault(),He.scrollIntoView({behavior:"smooth",block:"start"}))}};oi(()=>Ce(y()),()=>{if(y()==="home")te(v,p);else{const pe=!!(d&&d.id),se=pe&&(d.role==="super_admin"||d.role==="organizer");te(v,[{href:"/dashboard",label:"Dashboard",show:pe},{href:"/events",label:"Event",show:se}])}}),wu(),Kt();var O=p4(),k=_(O),D=_(k),P=_(D),H=_(P);pr(H,pe=>et==null?void 0:et(pe));var W=I(P,2);cr(W,5,()=>(w(v),z(()=>w(v).filter(pe=>pe.show))),xr,(pe,se)=>{var Oe=a4(),He=_(Oe),Ye=_(He);pr(Oe,qe=>et==null?void 0:et(qe)),si(()=>Be("click",Oe,qe=>T(qe,w(se).href))),Me(()=>{kt(Oe,"href",(w(se),z(()=>w(se).href))),ae(Ye,(w(se),z(()=>w(se).label)))}),K(pe,Oe)});var L=I(W,2),V=_(L);i4(V,{});var q=I(V,2),Y=_(q);{var B=pe=>{var se=o4(),Oe=_(se),He=_(Oe),Ye=_(He),qe=_(Ye),_e=I(He,2),Ze=_(_e),ze=I(Oe,2);{var nt=ue=>{var st=s4(),tt=_(st);pr(tt,Xe=>et==null?void 0:et(Xe));var it=I(tt,2);pr(it,Xe=>et==null?void 0:et(Xe));var at=I(it,2);pr(at,Xe=>et==null?void 0:et(Xe));var Te=I(at,2);Me(()=>kt(tt,"href",`/profile/${z(()=>d.username)??""}`)),Be("click",Te,A),Qn(3,st,()=>ua,()=>({y:-10,duration:180})),K(ue,st)};je(ze,ue=>{w(m)&&ue(nt)})}pr(se,ue=>Wa==null?void 0:Wa(ue)),si(()=>Be("click_outside",se,()=>te(m,!1))),Me(ue=>{ae(qe,ue),ae(Ze,z(()=>d.name))},[()=>z(()=>d.name[0].toUpperCase())]),Be("click",Oe,()=>te(m,!w(m))),K(pe,se)},ee=pe=>{var se=l4();pr(se,Oe=>et==null?void 0:et(Oe)),K(pe,se)};je(Y,pe=>{z(()=>d&&d.id)?pe(B):pe(ee,!1)})}var U=I(q,2),ge=_(U),oe=_(ge);{var re=pe=>{var se=c4();K(pe,se)},ne=pe=>{var se=u4();K(pe,se)};je(oe,pe=>{w(g)?pe(ne,!1):pe(re)})}var ce=I(k,2);{var R=pe=>{var se=g4(),Oe=_(se),He=_(Oe),Ye=I(_(He),2);cr(Ye,5,()=>(w(v),z(()=>w(v).filter(nt=>nt.show))),xr,(nt,ue)=>{var st=d4(),tt=_(st);pr(st,it=>et==null?void 0:et(it)),si(()=>Be("click",st,it=>T(it,w(ue).href))),Me(()=>{kt(st,"href",(w(ue),z(()=>w(ue).href))),Si(st,1,`mobile-nav-link dark:text-gray-200 dark:hover:bg-gray-800/90 dark:hover:text-white ${w(ue),Ce(y()),z(()=>w(ue).group===y()?"active":"")??""}`),ae(tt,(w(ue),z(()=>w(ue).label)))}),K(nt,st)});var qe=I(He,2),_e=_(qe);{var Ze=nt=>{var ue=f4();Be("click",ue,A),K(nt,ue)},ze=nt=>{var ue=h4();pr(ue,st=>et==null?void 0:et(st)),K(nt,ue)};je(_e,nt=>{d?nt(Ze):nt(ze,!1)})}pr(se,nt=>Wa==null?void 0:Wa(nt)),si(()=>Be("click_outside",se,()=>te(g,!1))),si(()=>Be("click",se,()=>te(g,!1))),Be("click",Oe,Bx(function(nt){lr.call(this,r,nt)})),K(pe,se)};je(ce,pe=>{w(g)&&pe(R)})}Me(()=>kt(H,"href",z(()=>d&&d.id?"/dashboard":"/"))),Be("click",U,()=>te(g,!w(g))),Qn(1,O,()=>ua,()=>({y:-20,duration:800,delay:150})),K(e,O),Yt(),u()}var x4=ye('<p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400">Belum ada event yang terjadwal setelah hari ini.</p>'),m4=ye('<li class="flex items-start justify-between rounded-2xl bg-white/90 dark:bg-gray-950/60 border border-gray-200/80 dark:border-gray-800 px-3 py-3 sm:px-4 sm:py-3.5"><div class="mr-3"><p class="text-sm font-medium text-gray-900 dark:text-white"> </p> <p class="mt-0.5 text-[11px] sm:text-xs text-gray-500 dark:text-gray-400"> </p> <p class="mt-1 text-[11px] text-gray-500 dark:text-gray-400"> </p></div> <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-semibold bg-emerald-50 text-emerald-700 border border-emerald-100 dark:bg-emerald-500/10 dark:text-emerald-300 dark:border-emerald-500/30"> </span></li>'),y4=ye('<ul class="space-y-3"></ul>'),v4=ye('<p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400">Belum ada event yang dibuat.</p>'),b4=ye('<li class="flex items-center justify-between text-[11px] sm:text-xs text-gray-700 dark:text-gray-300"><div class="flex-1 min-w-0 mr-2"><p class="font-medium truncate text-gray-900 dark:text-white"> </p> <p class="mt-0.5 text-[10px] text-gray-500 dark:text-gray-400"> </p></div> <span class="inline-flex items-center px-2 py-1 rounded-full text-[10px] font-semibold bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100 capitalize"> </span></li>'),w4=ye('<ul class="space-y-2.5"></ul>'),_4=ye(`<!> <main class="min-h-screen bg-gradient-to-b from-white via-gray-50 to-gray-50 dark:from-gray-950 dark:via-gray-950 dark:to-gray-900 pt-24 pb-10 sm:pt-28 sm:pb-12"><section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6 sm:space-y-8"><header class="space-y-3"><p class="text-[11px] sm:text-xs uppercase tracking-[0.18em] text-emerald-600/80 dark:text-emerald-300/70">Dashboard</p> <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3"><div><h1 class="text-2xl sm:text-3xl md:text-4xl font-semibold text-gray-900 dark:text-white leading-tight"> </h1> <p class="mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-400 max-w-xl">Lihat ringkasan event, kapasitas, dan performa check-in dalam satu tampilan. Semua dirancang mobile-first
            supaya mudah dipantau dari HP.</p></div></div></header> <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4"><article class="rounded-2xl bg-gradient-to-br from-emerald-100 via-emerald-50 to-sky-50 dark:from-emerald-500/15 dark:via-emerald-500/5 dark:to-sky-500/10 border border-emerald-200 dark:border-emerald-500/30 px-4 py-3.5 sm:px-5 sm:py-4 flex items-center justify-between"><div><p class="text-[11px] font-medium uppercase tracking-wide text-emerald-700 dark:text-emerald-300">Total event</p> <p class="mt-1 text-2xl font-semibold text-gray-900 dark:text-white"> </p> <p class="mt-1 text-[11px] text-emerald-700/80 dark:text-emerald-200/80">Semua status</p></div> <div class="hidden sm:flex h-10 w-10 rounded-2xl bg-emerald-100 text-emerald-700 dark:bg-emerald-400/20 dark:text-emerald-200 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 19.5l6-6 4 4 5-5"></path></svg></div></article> <article class="rounded-2xl bg-white/80 dark:bg-gray-900/80 border border-gray-200/70 dark:border-gray-800 px-4 py-3.5 sm:px-5 sm:py-4"><p class="text-[11px] font-medium uppercase tracking-wide text-gray-600 dark:text-gray-400">Status event</p> <div class="mt-2 grid grid-cols-3 gap-2 text-[11px] sm:text-xs text-gray-700 dark:text-gray-300"><div><p class="text-gray-500 dark:text-gray-400">Draft</p> <p class="mt-0.5 text-sm sm:text-base font-semibold text-gray-900 dark:text-white"> </p></div> <div><p class="text-gray-500 dark:text-gray-400">Published</p> <p class="mt-0.5 text-sm sm:text-base font-semibold text-emerald-700 dark:text-emerald-300"> </p></div> <div><p class="text-gray-500 dark:text-gray-400">Closed</p> <p class="mt-0.5 text-sm sm:text-base font-semibold text-gray-800 dark:text-gray-300"> </p></div></div></article> <article class="rounded-2xl bg-white/80 dark:bg-gray-900/80 border border-gray-200/70 dark:border-gray-800 px-4 py-3.5 sm:px-5 sm:py-4 flex flex-col justify-between"><div><p class="text-[11px] font-medium uppercase tracking-wide text-gray-600 dark:text-gray-400">Peserta & tiket</p> <p class="mt-2 text-sm text-gray-700 dark:text-gray-300">Peserta terdaftar</p> <p class="text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white"> </p></div> <div class="mt-2 flex items-center justify-between text-[11px] text-gray-500 dark:text-gray-400"><span>Total tiket: <span class="text-gray-900 dark:text-gray-100"> </span></span> <span>Check-in: <span class="text-emerald-700 dark:text-emerald-300"> </span></span></div></article> <article class="rounded-2xl bg-gradient-to-br from-sky-100 via-sky-50 to-emerald-50 dark:from-sky-500/15 dark:via-sky-500/5 dark:to-emerald-500/10 border border-sky-200 dark:border-sky-500/30 px-4 py-3.5 sm:px-5 sm:py-4 flex flex-col justify-between"><div><p class="text-[11px] font-medium uppercase tracking-wide text-sky-700 dark:text-sky-200">Kehadiran</p> <p class="mt-2 text-3xl font-semibold text-gray-900 dark:text-white"> </p></div> <p class="mt-1 text-[11px] text-sky-700/80 dark:text-sky-100/80">Dari semua tiket yang dibuat untuk event yang kamu kelola.</p></article></section> <section class="grid grid-cols-1 lg:grid-cols-[minmax(0,1.2fr)_minmax(0,1fr)] gap-4 sm:gap-6"><div class="rounded-3xl bg-white/80 dark:bg-gray-900/80 border border-gray-200/80 dark:border-gray-800 p-4 sm:p-5"><div class="flex items-center justify-between mb-3"><h2 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white">Event yang akan datang</h2> <span class="text-[11px] text-gray-500 dark:text-gray-400"> </span></div> <!></div> <div class="rounded-3xl bg-white/80 dark:bg-gray-900/80 border border-gray-200/80 dark:border-gray-800 p-4 sm:p-5"><div class="flex items-center justify-between mb-3"><h2 class="text-sm sm:text-base font-semibold text-gray-900 dark:text-white">Aktivitas event terbaru</h2> <span class="text-[11px] text-gray-500 dark:text-gray-400"> </span></div> <!></div></section></section></main>`,1);function A4(e,r){Xt(r,!1);const i=()=>Iu(Yu,"$page",o),[o,u]=Tu();let d=Pe(r,"overview",8),g=Pe(r,"upcoming_events",24,()=>[]),m=Pe(r,"recent_events",24,()=>[]);const y=i().props.user;function p(de){return de==null?"0":de.toLocaleString("id-ID")}function v(de){return de==null?"0%":`${de.toFixed(1)}%`}function A(de){if(!de)return"-";const De=new Date(Number(de));return Number.isNaN(De.getTime())?"-":De.toLocaleString("id-ID",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}Kt();var T=_4(),O=Ct(T);Vr(O,{group:"dashboard"});var k=I(O,2),D=_(k),P=_(D),H=I(_(P),2),W=_(H),L=_(W),V=_(L),q=I(P,2),Y=_(q),B=_(Y),ee=I(_(B),2),U=_(ee),ge=I(Y,2),oe=I(_(ge),2),re=_(oe),ne=I(_(re),2),ce=_(ne),R=I(re,2),pe=I(_(R),2),se=_(pe),Oe=I(R,2),He=I(_(Oe),2),Ye=_(He),qe=I(ge,2),_e=_(qe),Ze=I(_(_e),4),ze=_(Ze),nt=I(_e,2),ue=_(nt),st=I(_(ue)),tt=_(st),it=I(ue,2),at=I(_(it)),Te=_(at),Xe=I(qe,2),Le=_(Xe),dt=I(_(Le),2),be=_(dt),Ie=I(q,2),Ge=_(Ie),Ue=_(Ge),Ve=I(_(Ue),2),Re=_(Ve),he=I(Ue,2);{var Ee=de=>{var De=x4();K(de,De)},Fe=de=>{var De=y4();cr(De,5,g,xr,(gt,ie)=>{var mt=m4(),lt=_(mt),vt=_(lt),Ar=_(vt),pn=I(vt,2),Tn=_(pn),ft=I(pn,2),Nr=_(ft),kn=I(lt,2),Hn=_(kn);Me((ur,Nn)=>{ae(Ar,(w(ie),z(()=>w(ie).name))),ae(Tn,(w(ie),z(()=>w(ie).location||"Lokasi belum diisi"))),ae(Nr,`${ur??""}  Ì± ${Nn??""}`),ae(Hn,(w(ie),z(()=>w(ie).status)))},[()=>(w(ie),z(()=>A(w(ie).start_at))),()=>(w(ie),z(()=>A(w(ie).end_at)))]),K(gt,mt)}),K(de,De)};je(he,de=>{Ce(g()),z(()=>g().length===0)?de(Ee):de(Fe,!1)})}var Qe=I(Ge,2),J=_(Qe),me=I(_(J),2),Mt=_(me),St=I(J,2);{var It=de=>{var De=v4();K(de,De)},Ae=de=>{var De=w4();cr(De,5,m,xr,(gt,ie)=>{var mt=b4(),lt=_(mt),vt=_(lt),Ar=_(vt),pn=I(vt,2),Tn=_(pn),ft=I(lt,2),Nr=_(ft);Me(kn=>{ae(Ar,(w(ie),z(()=>w(ie).name))),ae(Tn,kn),ae(Nr,(w(ie),z(()=>w(ie).status)))},[()=>(w(ie),z(()=>A(w(ie).start_at)))]),K(gt,mt)}),K(de,De)};je(St,de=>{Ce(m()),z(()=>m().length===0)?de(It):de(Ae,!1)})}Me((de,De,gt,ie,mt,lt,vt,Ar)=>{ae(V,`Halo, ${z(()=>(y==null?void 0:y.name)||"Organizer")??""}`),ae(U,de),ae(ce,De),ae(se,gt),ae(Ye,ie),ae(ze,mt),ae(tt,lt),ae(Te,vt),ae(be,Ar),ae(Re,`${Ce(g()),z(()=>g().length||0)??""} event`),ae(Mt,`${Ce(m()),z(()=>m().length||0)??""} event`)},[()=>(Ce(d()),z(()=>{var de;return p((de=d())==null?void 0:de.total_events)})),()=>(Ce(d()),z(()=>{var de;return p((de=d())==null?void 0:de.draft_events)})),()=>(Ce(d()),z(()=>{var de;return p((de=d())==null?void 0:de.published_events)})),()=>(Ce(d()),z(()=>{var de;return p((de=d())==null?void 0:de.closed_events)})),()=>(Ce(d()),z(()=>{var de;return p((de=d())==null?void 0:de.total_participants)})),()=>(Ce(d()),z(()=>{var de;return p((de=d())==null?void 0:de.total_tickets)})),()=>(Ce(d()),z(()=>{var de;return p((de=d())==null?void 0:de.checked_in_tickets)})),()=>(Ce(d()),z(()=>{var de;return v((de=d())==null?void 0:de.attendance_rate)}))]),K(e,T),Yt(),u()}const E4=Object.freeze(Object.defineProperty({__proto__:null,default:A4},Symbol.toStringTag,{value:"Module"}));var C4=ye('<div class="mb-2 text-xs sm:text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800"> </div>'),S4=ye('<p class="text-[11px] text-red-600 dark:text-red-300">Seat belum dikonfigurasi untuk event ini. Silakan hubungi penyelenggara.</p>'),I4=ye('<label><input type="radio" name="seat" class="mt-1 h-3.5 w-3.5 text-primary-600 focus:ring-primary-500 border-gray-300"/> <div class="flex-1 min-w-0"><p class="font-semibold text-gray-900 dark:text-gray-100"> </p> <p class="text-[11px] text-primary-700 dark:text-primary-200 font-semibold"> </p></div></label>'),T4=ye('<div class="grid grid-cols-1 sm:grid-cols-2 gap-3"></div>'),k4=ye(`<!> <div class="min-h-screen bg-gradient-to-b from-white via-gray-50 to-gray-100 dark:from-gray-950 dark:via-gray-950 dark:to-gray-900 pt-24 pb-10 sm:pt-28 sm:pb-12"><main class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6"><section class="space-y-3"><p class="text-xs uppercase tracking-[0.18em] text-primary-600/80 dark:text-primary-300/80">Checkout tiket</p> <div><h1 class="text-2xl sm:text-3xl font-semibold text-gray-900 dark:text-white"> </h1> <p class="mt-1 text-sm text-gray-600 dark:text-gray-300 max-w-2xl">Pilih seat dan isi data kontak kamu. Pembayaran akan diproses melalui gateway Tripay (mode sandbox untuk
          pengujian), lalu kamu akan mendapatkan QR tiket.</p></div> <div class="flex flex-wrap gap-3 text-[11px] text-gray-500 dark:text-gray-400"><span><span class="font-semibold text-gray-700 dark:text-gray-200">Waktu:</span> </span> <span><span class="font-semibold text-gray-700 dark:text-gray-200">Lokasi:</span> </span></div></section> <section class="grid grid-cols-1 md:grid-cols-[minmax(0,1.1fr)_minmax(0,1fr)] gap-5 items-start"><form class="space-y-4 rounded-2xl bg-white/90 dark:bg-gray-900/90 border border-gray-200/80 dark:border-gray-800 px-4 sm:px-5 py-4 shadow-sm"><!> <div class="space-y-1"><label class="block text-xs font-medium text-gray-700 dark:text-gray-200" for="name">Nama lengkap</label> <input id="name" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Nama sesuai identitas"/></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><div class="space-y-1"><label class="block text-xs font-medium text-gray-700 dark:text-gray-200" for="email">Email</label> <input id="email" type="email" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="email@contoh.com"/></div> <div class="space-y-1"><label class="block text-xs font-medium text-gray-700 dark:text-gray-200" for="phone">No HP</label> <input id="phone" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="08xxxxxxxxxx"/></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><div class="space-y-1"><label class="block text-xs font-medium text-gray-700 dark:text-gray-200" for="gender">Jenis Kelamin</label> <select id="gender" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"><option>Pilih...</option><option>Laki-laki</option><option>Perempuan</option></select></div> <div class="space-y-1"><label class="block text-xs font-medium text-gray-700 dark:text-gray-200" for="age">Umur</label> <input id="age" type="number" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Contoh: 25"/></div></div> <p class="text-[11px] text-gray-500 dark:text-gray-400">Minimal salah satu dari email atau no HP harus diisi untuk pengiriman e-ticket.</p> <div class="pt-2 space-y-2"><p class="text-xs font-semibold text-gray-800 dark:text-gray-100">Pilih seat</p> <!></div> <div class="pt-3 flex items-center justify-between gap-3"><a href="/" class="text-xs sm:text-sm text-gray-600 dark:text-gray-300 hover:underline">Kembali ke beranda</a> <button type="submit" class="inline-flex items-center px-4 py-2.5 rounded-xl text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed shadow-sm hover:shadow-md transition-all"><!></button></div></form> <aside class="rounded-2xl bg-gradient-to-br from-primary-600 via-emerald-500 to-sky-500 text-white px-4 sm:px-5 py-4 shadow-md"><h2 class="text-sm sm:text-base font-semibold mb-2">Catatan penting</h2> <ul class="text-[11px] sm:text-xs space-y-1.5 text-primary-50/95"><li>â¢ Pembayaran menggunakan Tripay Payment Gateway dalam mode sandbox (uji coba).</li> <li>â¢ Setelah menyelesaikan pembayaran, kamu akan mendapatkan QR yang bisa dipakai untuk masuk gate.</li> <li>â¢ Simpan QR tersebut dan jangan dibagikan ke orang lain.</li></ul></aside></section></main></div>`,1);function N4(e,r){Xt(r,!1);const i=[];let o=Pe(r,"event",8),u=Pe(r,"seats",24,()=>[]),d=Se(""),g=Se(""),m=Se(""),y=Se(""),p=Se(""),v=Se(""),A=Se(""),T=Se(!1);function O(Re){if(Re==null)return"-";const he=Number(Re);return Number.isNaN(he)?"-":`Rp ${he.toLocaleString("id-ID")}`}function k(Re){if(Re.preventDefault(),!w(T)){if(te(A,""),!w(d)||!w(g)&&!w(m)||!w(v)){te(A,"Nama, seat, dan minimal salah satu kontak (email/phone) wajib diisi.");return}te(T,!0),er.post(`/events/${o().id}/checkout`,{name:w(d),email:w(g),phone:w(m),gender:w(y),age:w(p),seat_id:w(v)},{onFinish:()=>{te(T,!1)}})}}Kt();var D=k4(),P=Ct(D);Vr(P,{group:"home"});var H=I(P,2),W=_(H),L=_(W),V=I(_(L),2),q=_(V),Y=_(q),B=I(V,2),ee=_(B),U=I(_(ee)),ge=I(ee,2),oe=I(_(ge)),re=I(L,2),ne=_(re),ce=_(ne);{var R=Re=>{var he=C4(),Ee=_(he);Me(()=>ae(Ee,w(A))),K(Re,he)};je(ce,Re=>{w(A)&&Re(R)})}var pe=I(ce,2),se=I(_(pe),2),Oe=I(pe,2),He=_(Oe),Ye=I(_(He),2),qe=I(He,2),_e=I(_(qe),2),Ze=I(Oe,2),ze=_(Ze),nt=I(_(ze),2);Me(()=>{w(y),Eu(()=>{})});var ue=_(nt);ue.value=ue.__value="";var st=I(ue);st.value=st.__value="L";var tt=I(st);tt.value=tt.__value="P";var it=I(ze,2),at=I(_(it),2),Te=I(Ze,4),Xe=I(_(Te),2);{var Le=Re=>{var he=S4();K(Re,he)},dt=Re=>{var he=T4();cr(he,5,u,xr,(Ee,Fe)=>{var Qe=I4(),J=_(Qe),me,Mt=I(J,2),St=_(Mt),It=_(St),Ae=I(St,2),de=_(Ae);Me(De=>{Si(Qe,1,`relative flex items-start gap-3 rounded-2xl border px-3 py-2.5 text-xs sm:text-sm cursor-pointer transition-all
                    ${w(v),w(Fe),z(()=>w(v)===w(Fe).id?"border-primary-500 bg-primary-50/60 dark:border-primary-500 dark:bg-primary-900/30":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 hover:border-primary-300/80")??""}`),me!==(me=(w(Fe),z(()=>w(Fe).id)))&&(J.value=(J.__value=(w(Fe),z(()=>w(Fe).id)))??""),ae(It,(w(Fe),z(()=>w(Fe).name))),ae(de,De)},[()=>(w(Fe),z(()=>O(w(Fe).price)))]),Px(i,[],J,()=>(w(Fe),z(()=>w(Fe).id),w(v)),De=>te(v,De)),K(Ee,Qe)}),K(Re,he)};je(Xe,Re=>{Ce(u()),z(()=>u().length===0)?Re(Le):Re(dt,!1)})}var be=I(Te,2),Ie=I(_(be),2),Ge=_(Ie);{var Ue=Re=>{var he=Bt("Memproses...");K(Re,he)},Ve=Re=>{var he=Bt("Beli tiket (dummy)");K(Re,he)};je(Ge,Re=>{w(T)?Re(Ue):Re(Ve,!1)})}Me((Re,he)=>{ae(Y,(Ce(o()),z(()=>o().name))),ae(U,`  
          ${Re??""} â ${he??""}`),ae(oe,`  
          ${Ce(o()),z(()=>o().location||"Lokasi belum diisi")??""}`),Ie.disabled=(w(T),Ce(u()),z(()=>w(T)||u().length===0))},[()=>(Ce(o()),z(()=>new Date(Number(o().start_at)).toLocaleString("id-ID"))),()=>(Ce(o()),z(()=>new Date(Number(o().end_at)).toLocaleString("id-ID")))]),ht(se,()=>w(d),Re=>te(d,Re)),ht(Ye,()=>w(g),Re=>te(g,Re)),ht(_e,()=>w(m),Re=>te(m,Re)),Su(nt,()=>w(y),Re=>te(y,Re)),ht(at,()=>w(p),Re=>te(p,Re)),Be("submit",ne,Sn(k)),K(e,D),Yt()}const O4=Object.freeze(Object.defineProperty({__proto__:null,default:N4},Symbol.toStringTag,{value:"Module"}));var M4=ye('<div class="mt-2 bg-white dark:bg-gray-950 rounded-2xl p-3 shadow-sm border border-gray-100 dark:border-gray-800"><img alt="QR Ticket" class="w-56 h-56 sm:w-64 sm:h-64 object-contain mx-auto"/></div>'),R4=ye('<a class="inline-flex items-center justify-center px-4 py-2.5 rounded-xl text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 shadow-sm hover:shadow-md transition-all w-full sm:w-auto">Download QR</a>'),D4=ye(`<span class="text-[11px] sm:text-xs text-gray-600 dark:text-gray-300">QR akan tersedia setelah pembayaran Tripay kamu berstatus berhasil. Refresh halaman ini setelah
              menyelesaikan pembayaran.</span>`),P4=ye('<p class="font-medium"> </p> <p class="text-[11px] text-gray-500 dark:text-gray-400"> </p>',1),L4=ye('<p class="text-[11px] text-gray-500 dark:text-gray-400">Tidak ada informasi seat.</p>'),B4=ye(`<!> <div class="min-h-screen bg-gradient-to-b from-white via-gray-50 to-gray-100 dark:from-gray-950 dark:via-gray-950 dark:to-gray-900 pt-24 pb-10 sm:pt-28 sm:pb-12"><main class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6"><section class="text-center space-y-3"><p class="text-xs uppercase tracking-[0.18em] text-primary-600/80 dark:text-primary-300/80"><!></p> <h1 class="text-2xl sm:text-3xl font-semibold text-gray-900 dark:text-white"><!></h1> <p class="text-sm text-gray-600 dark:text-gray-300 max-w-xl mx-auto"><!></p></section> <section class="grid grid-cols-1 md:grid-cols-[minmax(0,1.1fr)_minmax(0,1fr)] gap-5 items-start"><div class="rounded-2xl bg-white/90 dark:bg-gray-900/90 border border-gray-200/80 dark:border-gray-800 px-4 sm:px-5 py-5 shadow-sm flex flex-col items-center gap-4"><div class="inline-flex items-center px-3 py-1.5 rounded-full bg-emerald-50 text-emerald-700 text-xs font-semibold border border-emerald-200 dark:bg-emerald-900/30 dark:border-emerald-800 dark:text-emerald-200"> </div> <!> <div class="w-full flex flex-col sm:flex-row items-center justify-center gap-3 mt-2"><!> <a class="inline-flex items-center justify-center px-4 py-2.5 rounded-xl text-sm font-semibold text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/80 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all w-full sm:w-auto">Beli tiket lain</a></div></div> <aside class="rounded-2xl bg-white/90 dark:bg-gray-900/90 border border-gray-200/80 dark:border-gray-800 px-4 sm:px-5 py-4 shadow-sm space-y-3 text-xs sm:text-sm text-gray-700 dark:text-gray-200"><div><p class="text-[11px] font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1">Detail event</p> <p class="font-semibold text-gray-900 dark:text-white"> </p> <p class="text-[11px] text-gray-500 dark:text-gray-400 mt-0.5"> <span class="mx-1 text-gray-400">â</span> </p> <p class="text-[11px] text-gray-500 dark:text-gray-400 mt-0.5"> </p></div> <div><p class="text-[11px] font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1">Atas nama</p> <p class="font-medium"> </p> <p class="text-[11px] text-gray-500 dark:text-gray-400 mt-0.5"> </p> <p class="text-[11px] text-gray-500 dark:text-gray-400"> </p></div> <div><p class="text-[11px] font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1">Seat</p> <!></div> <div><p class="text-[11px] font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1">Info tiket</p> <p class="text-[11px] text-gray-500 dark:text-gray-400">Status: <span class="font-medium text-gray-800 dark:text-gray-100"> </span></p> <p class="text-[11px] text-gray-500 dark:text-gray-400 break-all">Token: <span class="font-mono"> </span></p></div> <div class="pt-1 border-t border-dashed border-gray-200 dark:border-gray-800 mt-2"><p class="text-[11px] text-gray-500 dark:text-gray-400">Simpan QR ini di galeri atau aplikasi catatan kamu. Saat hari-H, cukup tunjukkan QR ini ke petugas gate
            untuk proses check-in.</p></div></aside></section></main></div>`,1);function F4(e,r){Xt(r,!1);let i=Pe(r,"event",8),o=Pe(r,"participant",8),u=Pe(r,"ticket",8),d=Pe(r,"seat",8),g=Pe(r,"is_paid",8,!1),m=Pe(r,"qr_image_url",8),y=Pe(r,"qr_download_url",8);function p(Ae){if(Ae==null)return"-";const de=Number(Ae);return Number.isNaN(de)?"-":`Rp ${de.toLocaleString("id-ID")}`}function v(Ae){if(!Ae)return"-";const de=new Date(Number(Ae));return Number.isNaN(de.getTime())?"-":de.toLocaleString("id-ID",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}Kt();var A=B4(),T=Ct(A);Vr(T,{group:"home"});var O=I(T,2),k=_(O),D=_(k),P=_(D),H=_(P);{var W=Ae=>{var de=Bt("Checkout berhasil");K(Ae,de)},L=Ae=>{var de=Bt("Menunggu pembayaran Tripay");K(Ae,de)};je(H,Ae=>{g()?Ae(W):Ae(L,!1)})}var V=I(P,2),q=_(V);{var Y=Ae=>{var de=Bt("Tiket kamu siap dipakai");K(Ae,de)},B=Ae=>{var de=Bt("Selesaikan pembayaranmu terlebih dahulu");K(Ae,de)};je(q,Ae=>{g()?Ae(Y):Ae(B,!1)})}var ee=I(V,2),U=_(ee);{var ge=Ae=>{var de=Bt("Simpan QR di bawah ini. QR ini akan dipindai saat check-in di gate event.");K(Ae,de)},oe=Ae=>{var de=Bt(`Pembayaran kamu belum kami terima. Selesaikan pembayaran di halaman Tripay, lalu refresh halaman ini untuk
          melihat QR tiket.`);K(Ae,de)};je(U,Ae=>{g()?Ae(ge):Ae(oe,!1)})}var re=I(D,2),ne=_(re),ce=_(ne),R=_(ce),pe=I(ce,2);{var se=Ae=>{var de=M4(),De=_(de);Me(()=>kt(De,"src",m())),K(Ae,de)};je(pe,Ae=>{m()&&Ae(se)})}var Oe=I(pe,2),He=_(Oe);{var Ye=Ae=>{var de=R4();Me(()=>kt(de,"href",y())),K(Ae,de)},qe=Ae=>{var de=D4();K(Ae,de)};je(He,Ae=>{y()?Ae(Ye):Ae(qe,!1)})}var _e=I(He,2),Ze=I(ne,2),ze=_(Ze),nt=I(_(ze),2),ue=_(nt),st=I(nt,2),tt=_(st),it=I(tt,2),at=I(st,2),Te=_(at),Xe=I(ze,2),Le=I(_(Xe),2),dt=_(Le),be=I(Le,2),Ie=_(be),Ge=I(be,2),Ue=_(Ge),Ve=I(Xe,2),Re=I(_(Ve),2);{var he=Ae=>{var de=P4(),De=Ct(de),gt=_(De),ie=I(De,2),mt=_(ie);Me(lt=>{ae(gt,(Ce(d()),z(()=>d().name))),ae(mt,lt)},[()=>(Ce(d()),z(()=>p(d().price)))]),K(Ae,de)},Ee=Ae=>{var de=L4();K(Ae,de)};je(Re,Ae=>{d()?Ae(he):Ae(Ee,!1)})}var Fe=I(Ve,2),Qe=I(_(Fe),2),J=I(_(Qe)),me=_(J),Mt=I(Qe,2),St=I(_(Mt)),It=_(St);Me((Ae,de)=>{ae(R,`Tiket aktif â¢ ${Ce(i()),z(()=>{var De;return(De=i())==null?void 0:De.name})??""}`),kt(_e,"href",(Ce(i()),z(()=>{var De;return`/events/${(De=i())==null?void 0:De.id}/checkout`}))),ae(ue,(Ce(i()),z(()=>{var De;return(De=i())==null?void 0:De.name}))),ae(tt,`${Ae??""} `),ae(it,` ${de??""}`),ae(Te,(Ce(i()),z(()=>{var De;return((De=i())==null?void 0:De.location)||"Lokasi belum diisi"}))),ae(dt,(Ce(o()),z(()=>{var De;return(De=o())==null?void 0:De.name}))),ae(Ie,(Ce(o()),z(()=>{var De;return((De=o())==null?void 0:De.email)||"-"}))),ae(Ue,(Ce(o()),z(()=>{var De;return((De=o())==null?void 0:De.phone)||"-"}))),ae(me,(Ce(u()),z(()=>{var De;return((De=u())==null?void 0:De.status)||"pending"}))),ae(It,(Ce(u()),z(()=>{var De;return((De=u())==null?void 0:De.token)||"-"})))},[()=>(Ce(i()),z(()=>{var Ae;return v((Ae=i())==null?void 0:Ae.start_at)})),()=>(Ce(i()),z(()=>{var Ae;return v((Ae=i())==null?void 0:Ae.end_at)}))]),K(e,A),Yt()}const U4=Object.freeze(Object.defineProperty({__proto__:null,default:F4},Symbol.toStringTag,{value:"Module"}));var j4=ye('<div class="mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800"> </div>'),H4=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8"><h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-6">Buat Event Baru</h1> <!> <form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Nama Event</label> <input class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Contoh: Konferensi Tech 2025"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Deskripsi</label> <textarea rows="3" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Ringkasan singkat tentang event"></textarea></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Lokasi</label> <input class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Alamat / venue / link online"/></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Mulai</label> <input type="datetime-local" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Selesai</label> <input type="datetime-local" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Kapasitas (opsional)</label> <input type="number" min="0" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div> <div class="flex items-center justify-between pt-2"><!> <button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 disabled:hover:bg-primary-600 disabled:opacity-60 disabled:cursor-not-allowed shadow-sm hover:shadow-md transition-all"><!></button></div></form></div></div>',1);function z4(e,r){Xt(r,!1);let i=Se(""),o=Se(""),u=Se(""),d=Se(""),g=Se(""),m=Se(""),y=Se(""),p=Se(!1),v=null;function A(_e){if(_e.preventDefault(),w(p))return;te(y,"");const Ze=Number(new Date(w(d)).getTime()),ze=Number(new Date(w(g)).getTime());if(!w(i)||!w(d)||!w(g)||Number.isNaN(Ze)||Number.isNaN(ze)||Ze>ze){te(y,"Tanggal mulai/selesai tidak valid.");return}!v&&typeof crypto<"u"&&typeof crypto.randomUUID=="function"&&(v=crypto.randomUUID()),te(p,!0),er.post("/events",{id:v,name:w(i),description:w(o),location:w(u),start_at:Ze,end_at:ze,capacity:w(m)?Number(w(m)):null},{onFinish:()=>{te(p,!1)}})}Kt();var T=H4(),O=Ct(T);Vr(O,{group:"events"});var k=I(O,2),D=_(k),P=I(_(D),2);{var H=_e=>{var Ze=j4(),ze=_(Ze);Me(()=>ae(ze,w(y))),K(_e,Ze)};je(P,_e=>{w(y)&&_e(H)})}var W=I(P,2),L=_(W),V=I(_(L),2),q=I(L,2),Y=I(_(q),2),B=I(q,2),ee=I(_(B),2),U=I(B,2),ge=_(U),oe=I(_(ge),2),re=I(ge,2),ne=I(_(re),2),ce=I(U,2),R=I(_(ce),2),pe=I(ce,2),se=_(pe);ig(se,{href:"/events",class:"text-sm text-gray-600 dark:text-gray-300 hover:underline",children:(_e,Ze)=>{var ze=Bt("Kembali ke daftar");K(_e,ze)},$$slots:{default:!0}});var Oe=I(se,2),He=_(Oe);{var Ye=_e=>{var Ze=Bt("Menyimpan...");K(_e,Ze)},qe=_e=>{var Ze=Bt("Simpan Event");K(_e,Ze)};je(He,_e=>{w(p)?_e(Ye):_e(qe,!1)})}Me(()=>Oe.disabled=w(p)),ht(V,()=>w(i),_e=>te(i,_e)),ht(Y,()=>w(o),_e=>te(o,_e)),ht(ee,()=>w(u),_e=>te(u,_e)),ht(oe,()=>w(d),_e=>te(d,_e)),ht(ne,()=>w(g),_e=>te(g,_e)),ht(R,()=>w(m),_e=>te(m,_e)),Be("submit",W,Sn(A)),K(e,T),Yt()}const V4=Object.freeze(Object.defineProperty({__proto__:null,default:z4},Symbol.toStringTag,{value:"Module"}));var G4=ye('<div class="mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800"> </div>'),W4=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between mb-4"><h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">Edit Event</h1> <span> </span></div> <!> <form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Nama Event</label> <input class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Deskripsi</label> <textarea rows="3" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"></textarea></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Lokasi</label> <input class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Mulai</label> <input type="datetime-local" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Selesai</label> <input type="datetime-local" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Kapasitas (opsional)</label> <input type="number" min="0" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div> <div class="flex items-center justify-between pt-2"><a href="/events" class="text-sm text-gray-600 dark:text-gray-300 hover:underline">Kembali ke daftar</a> <button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 shadow-sm hover:shadow-md transition-all">Simpan Perubahan</button></div></form> <div class="mt-6 border-t border-gray-200 dark:border-gray-800 pt-4 flex items-center justify-between"><p class="text-xs text-gray-500 dark:text-gray-400">Ubah status event:</p> <div class="flex gap-2"><button type="button" class="px-3 py-1.5 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100">Draft</button> <button type="button" class="px-3 py-1.5 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100">Publish</button> <button type="button" class="px-3 py-1.5 rounded-full text-xs font-semibold bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100">Close</button></div></div> <div class="mt-6 border-t border-dashed border-gray-200 dark:border-gray-800 pt-4"><p class="text-xs text-gray-500 dark:text-gray-400 mb-3">Langkah berikutnya untuk event ini:</p> <div class="flex flex-wrap gap-2"><a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 hover:bg-gray-50/80 dark:hover:bg-gray-800/40">Kelola peserta</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-emerald-700 dark:text-emerald-300 border border-emerald-100 dark:border-emerald-800 hover:bg-emerald-50/80 dark:hover:bg-emerald-900/30">Halaman scan gate</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-sky-700 dark:text-sky-300 border border-sky-100 dark:border-sky-800 hover:bg-sky-50/80 dark:hover:bg-sky-900/30">Laporan kehadiran</a></div></div></div></div>',1);function X4(e,r){var at,Te,Xe,Le,dt,be;Xt(r,!1);let i=Pe(r,"event",8),o=Se(((at=i())==null?void 0:at.name)||""),u=Se(((Te=i())==null?void 0:Te.description)||""),d=Se(((Xe=i())==null?void 0:Xe.location)||""),g=Se((Le=i())!=null&&Le.start_at?new Date(Number(i().start_at)).toISOString().slice(0,16):""),m=Se((dt=i())!=null&&dt.end_at?new Date(Number(i().end_at)).toISOString().slice(0,16):""),y=Se(((be=i())==null?void 0:be.capacity)??""),p=Se("");function v(Ie){Ie.preventDefault(),te(p,"");const Ge=Number(new Date(w(g)).getTime()),Ue=Number(new Date(w(m)).getTime());if(!w(o)||!w(g)||!w(m)||Number.isNaN(Ge)||Number.isNaN(Ue)||Ge>Ue){te(p,"Tanggal mulai/selesai tidak valid.");return}er.post(`/events/${i().id}`,{name:w(o),description:w(u),location:w(d),start_at:Ge,end_at:Ue,capacity:w(y)?Number(w(y)):null})}function A(Ie){er.post(`/events/${i().id}/status`,{status:Ie})}Kt();var T=W4(),O=Ct(T);Vr(O,{group:"events"});var k=I(O,2),D=_(k),P=_(D),H=I(_(P),2);let W;var L=_(H),V=I(P,2);{var q=Ie=>{var Ge=G4(),Ue=_(Ge);Me(()=>ae(Ue,w(p))),K(Ie,Ge)};je(V,Ie=>{w(p)&&Ie(q)})}var Y=I(V,2),B=_(Y),ee=I(_(B),2),U=I(B,2),ge=I(_(U),2),oe=I(U,2),re=I(_(oe),2),ne=I(oe,2),ce=_(ne),R=I(_(ce),2),pe=I(ce,2),se=I(_(pe),2),Oe=I(ne,2),He=I(_(Oe),2),Ye=I(Y,2),qe=I(_(Ye),2),_e=_(qe),Ze=I(_e,2),ze=I(Ze,2),nt=I(Ye,2),ue=I(_(nt),2),st=_(ue),tt=I(st,2),it=I(tt,2);Me(()=>{W=Si(H,1,"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold",null,W,{"bg-yellow-100":i().status==="draft","text-yellow-800":i().status==="draft","bg-emerald-100":i().status==="published","text-emerald-800":i().status==="published","bg-red-100":i().status==="closed","text-red-800":i().status==="closed"}),ae(L,(Ce(i()),z(()=>i().status))),kt(st,"href",(Ce(i()),z(()=>`/events/${i().id}/participants`))),kt(tt,"href",(Ce(i()),z(()=>`/events/${i().id}/scan`))),kt(it,"href",(Ce(i()),z(()=>`/events/${i().id}/report`)))}),ht(ee,()=>w(o),Ie=>te(o,Ie)),ht(ge,()=>w(u),Ie=>te(u,Ie)),ht(re,()=>w(d),Ie=>te(d,Ie)),ht(R,()=>w(g),Ie=>te(g,Ie)),ht(se,()=>w(m),Ie=>te(m,Ie)),ht(He,()=>w(y),Ie=>te(y,Ie)),Be("submit",Y,Sn(v)),Be("click",_e,()=>A("draft")),Be("click",Ze,()=>A("published")),Be("click",ze,()=>A("closed")),K(e,T),Yt()}const Y4=Object.freeze(Object.defineProperty({__proto__:null,default:X4},Symbol.toStringTag,{value:"Module"}));var q4=ye('<div class="mb-4"><div class="flex items-center justify-between gap-3 rounded-xl border border-emerald-200 bg-emerald-50 text-emerald-800 px-3 py-2 text-xs sm:text-sm dark:border-emerald-900 dark:bg-emerald-900/30 dark:text-emerald-100"><span> </span> <button type="button" class="text-[11px] font-medium underline-offset-2 hover:underline">Tutup</button></div></div>'),Z4=ye("<option> </option>"),K4=ye('<div class="rounded-2xl bg-white/80 dark:bg-gray-900/80 border border-gray-200 dark:border-gray-800 px-4 py-4 text-sm text-gray-600 dark:text-gray-300">Belum ada event. Mulai dengan membuat event baru.</div>'),Q4=ye('<article class="rounded-2xl bg-white/90 dark:bg-gray-900/90 border border-gray-200/80 dark:border-gray-800 px-4 py-3.5 shadow-sm"><div class="flex items-start justify-between gap-3"><div class="min-w-0"><h2 class="text-sm font-semibold text-gray-900 dark:text-white truncate"> </h2> <p class="mt-0.5 text-[11px] text-gray-500 dark:text-gray-400 line-clamp-2"> </p> <p class="mt-2 text-[11px] text-gray-500 dark:text-gray-400"> <span class="mx-1 text-gray-400">â</span> </p> <p class="mt-0.5 text-[11px] text-gray-500 dark:text-gray-400"> </p></div> <span> </span></div> <div class="mt-3 flex flex-wrap gap-2"><a class="inline-flex items-center px-3 py-1.5 rounded-lg text-[11px] font-semibold text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-gray-950/60">Peserta</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-[11px] font-semibold text-amber-700 dark:text-amber-300 border border-amber-100 dark:border-amber-800 bg-amber-50/70 dark:bg-amber-900/30">Seat</a> <button type="button" class="inline-flex items-center px-3 py-1.5 rounded-lg text-[11px] font-semibold text-indigo-700 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800 bg-indigo-50/80 dark:bg-indigo-900/30">Checkout link</button> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-[11px] font-semibold text-emerald-700 dark:text-emerald-300 border border-emerald-100 dark:border-emerald-800 bg-emerald-50/70 dark:bg-emerald-900/30">Scan</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-[11px] font-semibold text-sky-700 dark:text-sky-300 border border-sky-100 dark:border-sky-800 bg-sky-50/70 dark:bg-sky-900/30">Laporan</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-[11px] font-semibold text-primary-700 dark:text-primary-300 border border-primary-100 dark:border-primary-900 bg-primary-50/80 dark:bg-primary-900/40">Edit</a> <button type="button" class="inline-flex items-center px-3 py-1.5 rounded-lg text-[11px] font-semibold text-red-700 dark:text-red-300 border border-red-100 dark:border-red-900 bg-red-50/80 dark:bg-red-900/30 disabled:opacity-60 disabled:cursor-not-allowed"><!></button></div></article>'),$4=ye('<div class="space-y-3"></div>'),J4=ye('<tr><td colspan="5" class="px-4 py-8 text-center text-gray-500 dark:text-gray-400">Belum ada event. Mulai dengan membuat event baru.</td></tr>'),eC=ye('<tr class="border-t border-gray-100 dark:border-gray-800 hover:bg-gray-50/60 dark:hover:bg-gray-800/60"><td class="px-4 py-3"><div class="font-medium text-gray-900 dark:text-gray-50"> </div> <div class="text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs"> </div></td><td class="px-4 py-3 text-xs text-gray-700 dark:text-gray-200"><div> </div> <div class="text-gray-500 dark:text-gray-400"> </div></td><td class="px-4 py-3 text-xs text-gray-700 dark:text-gray-200"> </td><td class="px-4 py-3"><span> </span></td><td class="px-4 py-3 text-right space-x-2"><a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 hover:bg-gray-50/80 dark:hover:bg-gray-800/40">Peserta</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-amber-700 dark:text-amber-300 border border-amber-100 dark:border-amber-800 hover:bg-amber-50/80 dark:hover:bg-amber-900/30">Seat</a> <button type="button" class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-indigo-700 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800 hover:bg-indigo-50/80 dark:hover:bg-indigo-900/30">Checkout link</button> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-emerald-700 dark:text-emerald-300 border border-emerald-100 dark:border-emerald-800 hover:bg-emerald-50/80 dark:hover:bg-emerald-900/30">Scan</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-sky-700 dark:text-sky-300 border border-sky-100 dark:border-sky-800 hover:bg-sky-50/80 dark:hover:bg-sky-900/30">Laporan</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-primary-700 dark:text-primary-300 border border-primary-100 dark:border-primary-900 hover:bg-primary-50/80 dark:hover:bg-primary-900/30">Edit</a> <button type="button" class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-red-700 dark:text-red-300 border border-red-100 dark:border-red-900 hover:bg-red-50/80 dark:hover:bg-red-900/30 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-transparent"><!></button></td></tr>'),tC=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"><!> <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-6"><div><h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">Manajemen Event</h1> <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">Kelola event, jadwal, kapasitas dan status publikasinya.</p></div> <!></div> <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-4"><div class="rounded-xl bg-white/80 dark:bg-gray-900/80 border border-gray-200/70 dark:border-gray-800 px-3 py-2.5 sm:px-4 sm:py-3"><p class="text-[11px] font-medium text-gray-500 dark:text-gray-400">Total event</p> <p class="mt-1 text-base sm:text-lg font-semibold text-gray-900 dark:text-white"> </p></div> <div class="rounded-xl bg-emerald-50/80 dark:bg-emerald-900/40 border border-emerald-200/70 dark:border-emerald-800 px-3 py-2.5 sm:px-4 sm:py-3"><p class="text-[11px] font-medium text-emerald-700 dark:text-emerald-200">Published</p> <p class="mt-1 text-base sm:text-lg font-semibold text-emerald-800 dark:text-emerald-50"> </p></div> <div class="rounded-xl bg-yellow-50/80 dark:bg-yellow-900/40 border border-yellow-200/70 dark:border-yellow-800 px-3 py-2.5 sm:px-4 sm:py-3"><p class="text-[11px] font-medium text-yellow-700 dark:text-yellow-200">Draft</p> <p class="mt-1 text-base sm:text-lg font-semibold text-yellow-800 dark:text-yellow-50"> </p></div> <div class="rounded-xl bg-gray-900/80 dark:bg-gray-900/80 border border-gray-700 px-3 py-2.5 sm:px-4 sm:py-3"><p class="text-[11px] font-medium text-gray-300">Upcoming</p> <p class="mt-1 text-base sm:text-lg font-semibold text-white"> </p></div></div> <div class="flex flex-col sm:flex-row sm:items-center gap-3 mb-4"><div class="flex items-center gap-2"><label class="text-sm font-medium text-gray-700 dark:text-gray-200" for="status-filter">Filter status</label> <select id="status-filter" class="text-sm rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"></select></div> <p class="text-xs text-gray-500 dark:text-gray-400"> </p></div> <div class="space-y-4"><div class="sm:hidden"><!></div> <div class="hidden sm:block overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/70 shadow-sm"><table class="min-w-full text-sm"><thead class="bg-gray-50 dark:bg-gray-800/80"><tr><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Nama</th><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Waktu</th><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Lokasi</th><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Status</th><th class="px-4 py-3 text-right font-semibold text-gray-600 dark:text-gray-300">Aksi</th></tr></thead><tbody><!></tbody></table></div></div></div></div>',1);function rC(e,r){Xt(r,!1);const i=Se(),o=Se(),u=Se(),d=Se(),g=Se();let m=Pe(r,"events",28,()=>[]),y=Pe(r,"status",8,"all"),p=Se(y()||"all"),v=Se(null),A=Se(!1),T=Se(""),O;const k=[{value:"all",label:"Semua status"},{value:"draft",label:"Draft"},{value:"published",label:"Published"},{value:"closed",label:"Closed"}],D=Date.now();function P(){er.get("/events",{status:w(p)},{preserveState:!0,replace:!0})}function H(Ee){if(!Ee)return"-";const Fe=new Date(Number(Ee));return Number.isNaN(Fe.getTime())?"-":Fe.toLocaleString()}function W(Ee){switch(Ee){case"draft":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"published":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200";case"closed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}}async function L(Ee){if(!(!Ee||!Ee.id||!confirm(`Hapus event "${Ee.name}"? Semua peserta & tiket terkait juga akan ikut terhapus.`))){te(v,Ee.id);try{const Qe=await fetch(`/events/${Ee.id}`,{method:"DELETE",headers:{"X-Inertia":"true",Accept:"application/json"}});!Qe.ok&&Qe.status!==204?(console.error("Failed to delete event",await Qe.text()),te(T,"Gagal menghapus event"),te(A,!0)):(m(m().filter(J=>J.id!==Ee.id)),te(T,"Event berhasil dihapus"),te(A,!0)),O&&clearTimeout(O),O=setTimeout(()=>{te(A,!1)},2500)}catch(Qe){console.error("Delete error",Qe),te(T,"Terjadi kesalahan saat menghapus"),te(A,!0)}finally{te(v,null)}}}async function V(Ee){if(!Ee||!Ee.id)return;const Qe=`${typeof window<"u"?window.location.origin:""}/events/${Ee.id}/checkout`;try{if(navigator&&navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(Qe);else{const J=document.createElement("textarea");J.value=Qe,J.setAttribute("readonly",""),J.style.position="absolute",J.style.left="-9999px",document.body.appendChild(J),J.select(),document.execCommand("copy"),document.body.removeChild(J)}te(T,"Link checkout event sudah disalin."),te(A,!0)}catch(J){console.error("Copy checkout link error",J),te(T,"Gagal menyalin link checkout."),te(A,!0)}O&&clearTimeout(O),O=setTimeout(()=>{te(A,!1)},2200)}oi(()=>Ce(m()),()=>{te(i,m().length)}),oi(()=>Ce(m()),()=>{te(o,m().filter(Ee=>Ee.status==="draft").length)}),oi(()=>Ce(m()),()=>{te(u,m().filter(Ee=>Ee.status==="published").length)}),oi(()=>Ce(m()),()=>{te(d,m().filter(Ee=>Ee.status==="closed").length)}),oi(()=>Ce(m()),()=>{te(g,m().filter(Ee=>Ee.start_at&&Number(Ee.start_at)>D).length)}),wu(),Kt();var q=tC(),Y=Ct(q);Vr(Y,{group:"events"});var B=I(Y,2),ee=_(B),U=_(ee);{var ge=Ee=>{var Fe=q4(),Qe=_(Fe),J=_(Qe),me=_(J),Mt=I(J,2);Me(()=>ae(me,w(T))),Be("click",Mt,()=>te(A,!1)),K(Ee,Fe)};je(U,Ee=>{w(A)&&Ee(ge)})}var oe=I(U,2),re=I(_(oe),2);ig(re,{href:"/events/create",class:"inline-flex items-center justify-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 shadow-sm hover:shadow-md transition-all",children:(Ee,Fe)=>{var Qe=Bt("+ Buat Event");K(Ee,Qe)},$$slots:{default:!0}});var ne=I(oe,2),ce=_(ne),R=I(_(ce),2),pe=_(R),se=I(ce,2),Oe=I(_(se),2),He=_(Oe),Ye=I(se,2),qe=I(_(Ye),2),_e=_(qe),Ze=I(Ye,2),ze=I(_(Ze),2),nt=_(ze),ue=I(ne,2),st=_(ue),tt=I(_(st),2);Me(()=>{w(p),Eu(()=>{})}),cr(tt,5,()=>k,xr,(Ee,Fe)=>{var Qe=Z4(),J=_(Qe),me={};Me(()=>{ae(J,(w(Fe),z(()=>w(Fe).label))),me!==(me=(w(Fe),z(()=>w(Fe).value)))&&(Qe.value=(Qe.__value=(w(Fe),z(()=>w(Fe).value)))??"")}),K(Ee,Qe)});var it=I(st,2),at=_(it),Te=I(ue,2),Xe=_(Te),Le=_(Xe);{var dt=Ee=>{var Fe=K4();K(Ee,Fe)},be=Ee=>{var Fe=$4();cr(Fe,5,m,xr,(Qe,J)=>{var me=Q4(),Mt=_(me),St=_(Mt),It=_(St),Ae=_(It),de=I(It,2),De=_(de),gt=I(de,2),ie=_(gt),mt=I(ie,2),lt=I(gt,2),vt=_(lt),Ar=I(St,2),pn=_(Ar),Tn=I(Mt,2),ft=_(Tn),Nr=I(ft,2),kn=I(Nr,2),Hn=I(kn,2),ur=I(Hn,2),Nn=I(ur,2),Qt=I(Nn,2),On=_(Qt);{var gi=xn=>{var Fr=Bt("Menghapus...");K(xn,Fr)},Or=xn=>{var Fr=Bt("Delete");K(xn,Fr)};je(On,xn=>{w(v),w(J),z(()=>w(v)===w(J).id)?xn(gi):xn(Or,!1)})}Me((xn,Fr,ra)=>{ae(Ae,(w(J),z(()=>w(J).name))),ae(De,(w(J),z(()=>w(J).description||"Belum ada deskripsi event."))),ae(ie,`${xn??""} `),ae(mt,` ${Fr??""}`),ae(vt,(w(J),z(()=>w(J).location||"Lokasi belum diisi"))),Si(Ar,1,ra),ae(pn,(w(J),z(()=>w(J).status))),kt(ft,"href",(w(J),z(()=>`/events/${w(J).id}/participants`))),kt(Nr,"href",(w(J),z(()=>`/events/${w(J).id}/seats`))),kt(Hn,"href",(w(J),z(()=>`/events/${w(J).id}/scan`))),kt(ur,"href",(w(J),z(()=>`/events/${w(J).id}/report`))),kt(Nn,"href",(w(J),z(()=>`/events/${w(J).id}/edit`))),Qt.disabled=(w(v),w(J),z(()=>w(v)===w(J).id))},[()=>(w(J),z(()=>H(w(J).start_at))),()=>(w(J),z(()=>H(w(J).end_at))),()=>(w(J),z(()=>`inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-semibold ${W(w(J).status)}`))]),Be("click",kn,()=>V(w(J))),Be("click",Qt,()=>L(w(J))),K(Qe,me)}),K(Ee,Fe)};je(Le,Ee=>{Ce(m()),z(()=>m().length===0)?Ee(dt):Ee(be,!1)})}var Ie=I(Xe,2),Ge=_(Ie),Ue=I(_(Ge)),Ve=_(Ue);{var Re=Ee=>{var Fe=J4();K(Ee,Fe)},he=Ee=>{var Fe=Dr(),Qe=Ct(Fe);cr(Qe,1,m,xr,(J,me)=>{var Mt=eC(),St=_(Mt),It=_(St),Ae=_(It),de=I(It,2),De=_(de),gt=I(St),ie=_(gt),mt=_(ie),lt=I(ie,2),vt=_(lt),Ar=I(gt),pn=_(Ar),Tn=I(Ar),ft=_(Tn),Nr=_(ft),kn=I(Tn),Hn=_(kn),ur=I(Hn,2),Nn=I(ur,2),Qt=I(Nn,2),On=I(Qt,2),gi=I(On,2),Or=I(gi,2),xn=_(Or);{var Fr=$t=>{var rn=Bt("Menghapus...");K($t,rn)},ra=$t=>{var rn=Bt("Delete");K($t,rn)};je(xn,$t=>{w(v),w(me),z(()=>w(v)===w(me).id)?$t(Fr):$t(ra,!1)})}Me(($t,rn,Gr)=>{ae(Ae,(w(me),z(()=>w(me).name))),ae(De,(w(me),z(()=>w(me).description))),ae(mt,$t),ae(vt,`â ${rn??""}`),ae(pn,(w(me),z(()=>w(me).location||"-"))),Si(ft,1,Gr),ae(Nr,(w(me),z(()=>w(me).status))),kt(Hn,"href",(w(me),z(()=>`/events/${w(me).id}/participants`))),kt(ur,"href",(w(me),z(()=>`/events/${w(me).id}/seats`))),kt(Qt,"href",(w(me),z(()=>`/events/${w(me).id}/scan`))),kt(On,"href",(w(me),z(()=>`/events/${w(me).id}/report`))),kt(gi,"href",(w(me),z(()=>`/events/${w(me).id}/edit`))),Or.disabled=(w(v),w(me),z(()=>w(v)===w(me).id))},[()=>(w(me),z(()=>H(w(me).start_at))),()=>(w(me),z(()=>H(w(me).end_at))),()=>(w(me),z(()=>`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${W(w(me).status)}`))]),Be("click",Nn,()=>V(w(me))),Be("click",Or,()=>L(w(me))),K(J,Mt)}),K(Ee,Fe)};je(Ve,Ee=>{Ce(m()),z(()=>m().length===0)?Ee(Re):Ee(he,!1)})}Me(()=>{ae(pe,w(i)),ae(He,w(u)),ae(_e,w(o)),ae(nt,w(g)),ae(at,`Menampilkan ${Ce(m()),z(()=>m().length)??""} event`)}),Su(tt,()=>w(p),Ee=>te(p,Ee)),Be("change",tt,P),K(e,q),Yt()}const nC=Object.freeze(Object.defineProperty({__proto__:null,default:rC},Symbol.toStringTag,{value:"Module"}));var iC=ye('<tr><td colspan="2" class="px-4 py-6 text-center text-gray-500 dark:text-gray-400">Belum ada peserta hadir.</td></tr>'),aC=ye('<tr class="border-t border-gray-100 dark:border-gray-800"><td class="px-4 py-2 text-gray-900 dark:text-gray-50"> </td><td class="px-4 py-2 text-gray-700 dark:text-gray-200"><div> </div> <div class="text-[11px] text-gray-500 dark:text-gray-400"> </div></td></tr>'),sC=ye('<tr><td colspan="2" class="px-4 py-6 text-center text-gray-500 dark:text-gray-400">Semua peserta sudah hadir.</td></tr>'),oC=ye('<tr class="border-t border-gray-100 dark:border-gray-800"><td class="px-4 py-2 text-gray-900 dark:text-gray-50"> </td><td class="px-4 py-2 text-gray-700 dark:text-gray-200"><div> </div> <div class="text-[11px] text-gray-500 dark:text-gray-400"> </div></td></tr>'),lC=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 py-8 sm:py-12"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8"><div><p class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1">Laporan Kehadiran</p> <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"> </h1> <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">Ringkasan tiket dan kehadiran peserta untuk event ini.</p></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-4"><div class="p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800"><p class="text-xs text-gray-500 dark:text-gray-400 mb-1">Total Tiket</p> <p class="text-2xl font-bold text-gray-900 dark:text-white"> </p></div> <div class="p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800"><p class="text-xs text-gray-500 dark:text-gray-400 mb-1">Sudah Check-in</p> <p class="text-2xl font-bold text-emerald-600 dark:text-emerald-400"> </p></div> <div class="p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800"><p class="text-xs text-gray-500 dark:text-gray-400 mb-1">Persentase Kehadiran</p> <p class="text-2xl font-bold text-primary-600 dark:text-primary-400"> </p></div></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="rounded-xl border border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/70 shadow-sm overflow-hidden"><div class="px-4 py-3 border-b border-gray-100 dark:border-gray-800 flex items-center justify-between"><h2 class="text-sm font-semibold text-gray-800 dark:text-gray-100">Peserta Hadir</h2> <span class="text-[11px] text-gray-500 dark:text-gray-400"> </span></div> <div class="overflow-x-auto"><table class="min-w-full text-xs"><thead class="bg-gray-50 dark:bg-gray-800/80"><tr><th class="px-4 py-2 text-left font-semibold text-gray-600 dark:text-gray-300">Nama</th><th class="px-4 py-2 text-left font-semibold text-gray-600 dark:text-gray-300">Kontak</th></tr></thead><tbody><!></tbody></table></div></div> <div class="rounded-xl border border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/70 shadow-sm overflow-hidden"><div class="px-4 py-3 border-b border-gray-100 dark:border-gray-800 flex items-center justify-between"><h2 class="text-sm font-semibold text-gray-800 dark:text-gray-100">Peserta Belum Hadir</h2> <span class="text-[11px] text-gray-500 dark:text-gray-400"> </span></div> <div class="overflow-x-auto"><table class="min-w-full text-xs"><thead class="bg-gray-50 dark:bg-gray-800/80"><tr><th class="px-4 py-2 text-left font-semibold text-gray-600 dark:text-gray-300">Nama</th><th class="px-4 py-2 text-left font-semibold text-gray-600 dark:text-gray-300">Kontak</th></tr></thead><tbody><!></tbody></table></div></div></div></div></div>',1);function cC(e,r){Xt(r,!1);let i=Pe(r,"event",8),o=Pe(r,"totalTickets",8),u=Pe(r,"totalChecked",8),d=Pe(r,"attendancePercent",8),g=Pe(r,"present",24,()=>[]),m=Pe(r,"absent",24,()=>[]);function y(Te){return`${Te.toFixed(1)}%`}Kt();var p=lC(),v=Ct(p);Vr(v,{group:"events"});var A=I(v,2),T=_(A),O=_(T),k=I(_(O),2),D=_(k),P=I(O,2),H=_(P),W=I(_(H),2),L=_(W),V=I(H,2),q=I(_(V),2),Y=_(q),B=I(V,2),ee=I(_(B),2),U=_(ee),ge=I(P,2),oe=_(ge),re=_(oe),ne=I(_(re),2),ce=_(ne),R=I(re,2),pe=_(R),se=I(_(pe)),Oe=_(se);{var He=Te=>{var Xe=iC();K(Te,Xe)},Ye=Te=>{var Xe=Dr(),Le=Ct(Xe);cr(Le,1,g,xr,(dt,be)=>{var Ie=aC(),Ge=_(Ie),Ue=_(Ge),Ve=I(Ge),Re=_(Ve),he=_(Re),Ee=I(Re,2),Fe=_(Ee);Me(()=>{ae(Ue,(w(be),z(()=>w(be).name))),ae(he,(w(be),z(()=>w(be).email||"-"))),ae(Fe,(w(be),z(()=>w(be).phone||"")))}),K(dt,Ie)}),K(Te,Xe)};je(Oe,Te=>{Ce(g()),z(()=>g().length===0)?Te(He):Te(Ye,!1)})}var qe=I(oe,2),_e=_(qe),Ze=I(_(_e),2),ze=_(Ze),nt=I(_e,2),ue=_(nt),st=I(_(ue)),tt=_(st);{var it=Te=>{var Xe=sC();K(Te,Xe)},at=Te=>{var Xe=Dr(),Le=Ct(Xe);cr(Le,1,m,xr,(dt,be)=>{var Ie=oC(),Ge=_(Ie),Ue=_(Ge),Ve=I(Ge),Re=_(Ve),he=_(Re),Ee=I(Re,2),Fe=_(Ee);Me(()=>{ae(Ue,(w(be),z(()=>w(be).name))),ae(he,(w(be),z(()=>w(be).email||"-"))),ae(Fe,(w(be),z(()=>w(be).phone||"")))}),K(dt,Ie)}),K(Te,Xe)};je(tt,Te=>{Ce(m()),z(()=>m().length===0)?Te(it):Te(at,!1)})}Me(Te=>{ae(D,(Ce(i()),z(()=>i().name))),ae(L,o()),ae(Y,u()),ae(U,Te),ae(ce,`${Ce(g()),z(()=>g().length)??""} peserta`),ae(ze,`${Ce(m()),z(()=>m().length)??""} peserta`)},[()=>(Ce(d()),z(()=>y(d())))]),K(e,p),Yt()}const uC=Object.freeze(Object.defineProperty({__proto__:null,default:cC},Symbol.toStringTag,{value:"Module"}));var dC=ye('<article class="group relative overflow-hidden rounded-2xl bg-gray-50 dark:bg-gray-900/70 border border-gray-100 dark:border-gray-800 p-6 flex flex-col justify-between transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:border-primary-500/60"><div><div class="mb-4 inline-flex h-11 w-11 items-center justify-center rounded-xl bg-primary-50 dark:bg-primary-500/10 text-primary-600 dark:text-primary-300"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5"><!></svg></div> <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2"> </h3> <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed"> </p></div> <span class="mt-5 inline-flex items-center text-xs font-medium text-primary-600 dark:text-primary-300 group-hover:translate-x-0.5 transition-transform">Lihat bagaimana ini bekerja <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="ml-1 h-3 w-3"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0-7.5 7.5M21 12H3"></path></svg></span></article>'),fC=ye('<span class="mt-2 h-full w-px bg-gradient-to-b from-primary-500/40 via-gray-300/40 to-transparent dark:from-primary-500/50 dark:via-gray-700/60"></span>'),hC=ye('<li class="relative rounded-2xl bg-white dark:bg-gray-950/70 border border-gray-100 dark:border-gray-800 p-4 sm:p-5 flex gap-4"><div class="flex flex-col items-center"><span class="flex h-8 w-8 items-center justify-center rounded-full bg-primary-600 text-[13px] font-semibold text-white shadow-md shadow-primary-500/40"></span> <!></div> <div><div class="mb-1 inline-flex items-center gap-2 text-[11px] font-medium uppercase tracking-wide text-primary-600 dark:text-primary-300"><span class="h-1.5 w-1.5 rounded-full bg-primary-500"></span> </div> <p class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1"> </p> <p class="text-xs sm:text-sm text-gray-600 dark:text-gray-300 leading-relaxed"> </p></div></li>'),gC=ye('<div class="rounded-2xl bg-gray-800/80 p-3"><p class="text-[11px] text-gray-400 mb-1"> </p> <p class="text-lg font-semibold"> </p></div>'),pC=ye('<button type="button"> </button>'),xC=ye('<li class="flex gap-2"><span class="mt-1 h-1.5 w-1.5 rounded-full bg-primary-500"></span> <span> </span></li>'),mC=ye(`<div class="grid gap-8 lg:grid-cols-[minmax(0,1.2fr)_minmax(0,1fr)] items-start"><div class="rounded-3xl bg-gray-50 dark:bg-gray-900/80 border border-gray-100 dark:border-gray-800 p-6 sm:p-7"><h3 class="text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-3"> </h3> <ul class="space-y-3 text-sm text-gray-600 dark:text-gray-300"></ul></div> <div class="space-y-4"><div class="rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 bg-white/80 dark:bg-gray-950/80 p-4 text-xs sm:text-sm text-gray-600 dark:text-gray-300"> </div> <div class="rounded-2xl bg-gradient-to-r from-primary-600/10 via-primary-500/10 to-sky-500/10 border border-primary-500/30 p-4 text-xs sm:text-sm text-gray-700 dark:text-gray-100">Kombinasi role inilah yang membuat event lebih tertib: organizer mengatur, operator menjalankan,
                super admin memantau.</div></div></div>`),yC=ye(`<!> <main class="bg-gradient-to-b from-white via-gray-50 to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900"><section id="hero" class="relative overflow-hidden"><div class="pointer-events-none absolute inset-0"><div class="absolute -top-32 -left-16 h-64 w-64 rounded-full bg-primary-500/20 blur-3xl"></div> <div class="absolute top-48 -right-10 h-72 w-72 rounded-full bg-primary-300/10 blur-3xl"></div></div> <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-28 pb-20 lg:pt-32 lg:pb-28"><div class="grid gap-10 lg:grid-cols-2 lg:items-center"><div><div class="inline-flex items-center gap-2 rounded-full bg-gray-900/5 dark:bg-gray-100/5 px-3 py-1 text-xs font-medium text-gray-700 dark:text-gray-200 mb-4"><span class="h-1.5 w-1.5 rounded-full bg-primary-500"></span> QR-powered attendance untuk event modern</div> <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold tracking-tight text-gray-900 dark:text-white mb-4">Satu platform untuk <span class="block text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-primary-400">mengatur kehadiran event dengan rapi</span></h1> <p class="text-sm sm:text-base md:text-lg text-gray-600 dark:text-gray-300 max-w-xl mb-6">Kelola event, kirim QR e-ticket, dan proses check-in di gate hanya dengan browser. Tanpa antrian kacau,
            tanpa daftar manual yang berantakan.</p> <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 mb-4"><a class="px-6 py-3 rounded-xl bg-primary-600 text-white text-sm sm:text-base font-semibold shadow-lg shadow-primary-500/30 hover:bg-primary-700 transition-all flex items-center justify-center gap-2">Mulai kelola event <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0-7.5 7.5M21 12H3"></path></svg></a> <a href="/login" class="px-6 py-3 rounded-xl bg-white/70 dark:bg-gray-900/60 text-sm sm:text-base text-gray-800 dark:text-gray-100 border border-gray-200/70 dark:border-gray-700 hover:bg-gray-100/80 dark:hover:bg-gray-800 transition-all flex items-center justify-center gap-2">Coba sebagai gate operator</a></div> <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2"><span class="inline-flex -space-x-2 overflow-hidden rounded-full border border-gray-200/60 dark:border-gray-700/60 bg-white/50 dark:bg-gray-900/60 px-1 py-0.5"><span class="h-6 w-6 rounded-full bg-primary-500/80"></span> <span class="h-6 w-6 rounded-full bg-emerald-400/80"></span> <span class="h-6 w-6 rounded-full bg-sky-400/80"></span></span> Dipakai untuk seminar, konser mini, workshop kampus, dan internal company gathering.</p></div> <div class="relative"><div class="relative mx-auto max-w-md rounded-3xl border border-gray-100/80 dark:border-gray-800/80 bg-white/70 dark:bg-gray-900/80 backdrop-blur-xl shadow-2xl shadow-primary-500/20 p-5 sm:p-6"><div class="flex items-center justify-between mb-4"><div><p class="text-xs font-medium uppercase tracking-wide text-gray-400">Live check-in</p> <p class="text-sm font-semibold text-gray-900 dark:text-gray-100">Tech Conference 2025</p></div> <span class="inline-flex items-center gap-1 rounded-full bg-emerald-100/80 dark:bg-emerald-500/10 px-2 py-1 text-[11px] font-medium text-emerald-700 dark:text-emerald-300"><span class="h-1.5 w-1.5 rounded-full bg-emerald-500 animate-pulse"></span> Gate aktif</span></div> <div class="grid grid-cols-3 gap-3 mb-4"><div class="rounded-2xl bg-gray-900 text-gray-50 p-3 flex flex-col justify-between"><p class="text-[11px] text-gray-300">Check-in</p> <p class="text-xl font-semibold">324</p> <p class="text-[11px] text-emerald-400 mt-1">+27 baru</p></div> <div class="rounded-2xl bg-gray-50 dark:bg-gray-800 p-3"><p class="text-[11px] text-gray-500 dark:text-gray-400">Kapasitas</p> <p class="text-xl font-semibold text-gray-900 dark:text-gray-100">500</p> <p class="text-[11px] text-gray-400 mt-1">64% terisi</p></div> <div class="rounded-2xl bg-gray-50 dark:bg-gray-800 p-3"><p class="text-[11px] text-gray-500 dark:text-gray-400">Gate aktif</p> <p class="text-xl font-semibold text-gray-900 dark:text-gray-100">3</p> <p class="text-[11px] text-gray-400 mt-1">Hall A, B, C</p></div></div> <div class="flex items-center justify-between rounded-2xl bg-gray-50 dark:bg-gray-900/70 p-3 mb-3"><div class="flex items-center gap-3"><div class="h-10 w-10 rounded-xl bg-gray-900 text-white flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 4.5h16.5M3.75 9.75h16.5m-13.5 5.25h4.5"></path></svg></div> <div><p class="text-xs font-medium text-gray-500">Scan terakhir</p> <p class="text-sm font-semibold text-gray-900 dark:text-gray-100">Galih Pratama</p> <p class="text-[11px] text-gray-500 dark:text-gray-400">Gate B Â· 2 detik lalu</p></div></div> <span class="inline-flex items-center rounded-full bg-emerald-100 dark:bg-emerald-500/10 px-2 py-0.5 text-[11px] font-semibold text-emerald-700 dark:text-emerald-300">VALID</span></div> <div class="flex items-center justify-between text-[11px] text-gray-500 dark:text-gray-400 pt-1"><span>Proteksi double-scan aktif</span> <span>Data sinkron real-time</span></div></div></div></div></div></section> <section id="features" class="py-20 bg-white/70 dark:bg-gray-950/90"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="max-w-3xl mb-10"><h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-3">Semua alur kehadiran di satu aplikasi</h2> <p class="text-sm sm:text-base text-gray-600 dark:text-gray-300">Dari registrasi hingga laporan akhir, QRScan membantu mengurangi titik rawan error di setiap
          tahapan. Tanpa copy-paste data, tanpa verifikasi manual yang melelahkan.</p></div> <div class="grid gap-6 md:grid-cols-3"></div></div></section> <section id="flow" class="py-20 bg-gray-50/80 dark:bg-gray-900"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="grid gap-10 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,1fr)] lg:items-center"><div><h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-3">Alur check-in dalam 3 langkah</h2> <p class="text-sm sm:text-base text-gray-600 dark:text-gray-300 mb-6 max-w-xl">Flow yang dirancang untuk tim kecil maupun panitia besar. Setiap langkah dibuat eksplisit sehingga mudah
            di-onboard ke kru baru dalam hitungan menit.</p> <ol class="space-y-4"></ol></div> <div class="space-y-5"><div class="rounded-3xl bg-gray-900 text-gray-50 p-5 sm:p-6 shadow-2xl shadow-black/40 border border-gray-800"><div class="flex items-center justify-between mb-4"><p class="text-xs font-medium tracking-wide text-gray-400 uppercase">Realtime overview</p> <span class="rounded-full border border-emerald-400/40 bg-emerald-500/10 px-2 py-0.5 text-[11px] font-semibold text-emerald-300">Antrean stabil</span></div> <div class="grid grid-cols-3 gap-3 mb-3"></div> <div class="mt-4 space-y-2 text-[11px] text-gray-400"><p class="flex items-center gap-2"><span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span> Check-in valid langsung menutup kemungkinan double-scan di gate lain.</p> <p class="flex items-center gap-2"><span class="h-1.5 w-1.5 rounded-full bg-sky-400"></span> Operator cukup fokus ke antrean, sistem yang mengurus status.</p></div></div> <div class="rounded-2xl border border-dashed border-gray-300/70 dark:border-gray-700/80 bg-white/70 dark:bg-gray-950/50 p-4 text-xs sm:text-sm text-gray-600 dark:text-gray-300">"Yang paling membantu adalah saat event ramai, kami tidak lagi bingung siapa yang sudah check-in di gate
            sebelah." â Panitia internal perusahaan</div></div></div></div></section> <section id="roles" class="py-20 bg-white dark:bg-gray-950"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-8 mb-10"><div class="max-w-xl"><h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-3">Dibuat untuk peran yang berbeda dalam satu tim</h2> <p class="text-sm sm:text-base text-gray-600 dark:text-gray-300">Organizer, gate operator, dan super admin punya kebutuhan yang berbeda. Interface dan akses disesuaikan
            supaya setiap orang hanya melihat hal yang relevan.</p></div> <div class="flex bg-gray-100 dark:bg-gray-900 rounded-full p-1 text-xs sm:text-sm"></div></div> <!></div></section> <section id="cta" class="py-20 bg-gradient-to-r from-primary-600 via-primary-500 to-emerald-500"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="rounded-3xl bg-white/5 border border-white/20 px-6 py-10 sm:px-10 sm:py-12 text-center sm:text-left flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6"><div><h2 class="text-2xl sm:text-3xl font-bold text-white mb-2">Siap pakai QRScan di event berikutnya?</h2> <p class="text-sm sm:text-base text-primary-50/90 max-w-xl">Masuk ke dashboard, buat event, dan coba alur check-in dengan timmu. Mulai dari event internal kecil
            sampai acara besar, QRScan bantu jagain flow kehadiran.</p></div> <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center sm:justify-end"><a class="inline-flex items-center justify-center rounded-xl bg-white text-primary-700 px-6 py-3 text-sm sm:text-base font-semibold shadow-md hover:bg-primary-50 transition-colors">Masuk ke dashboard QRScan</a></div></div></div></section> <section class="py-14 bg-gray-950 text-gray-400"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row items-center justify-between gap-4 text-xs sm:text-sm"><p>QRScan Â· Dibangun di atas laju.dev stack (HyperExpress, Svelte, Inertia).</p> <p class="text-gray-500">Fokus ke experience di gate, bukan hanya tampilan admin.</p></div></section></main>`,1);function vC(e,r){Xt(r,!1);const i=()=>Iu(Yu,"$page",o),[o,u]=Tu();let d=i().props.user,g=[{title:"Kelola event dari satu dashboard",description:"Buat event, atur kapasitas, dan pantau status kehadiran tanpa spreadÂ­sheet dan kertas tambahan.",icon:'<path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M4.5 9.75h15M6 20.25h12a2.25 2.25 0 002.25-2.25V7.5A2.25 2.25 0 0018 5.25H6A2.25 2.25 0 003.75 7.5v10.5A2.25 2.25 0 006 20.25z" />'},{title:"QR e-ticket otomatis",description:"Setiap peserta langsung mendapat QR unik yang aman, siap discan di gate mana pun.",icon:'<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 4.5h6v6h-6v-6zM13.5 4.5h6v6h-6v-6zM4.5 13.5h6v6h-6v-6zM15 13.5h1.5a1.5 1.5 0 011.5 1.5V18" />'},{title:"Scan gate super cepat",description:"Optimalkan flow antrean dengan tampilan mobile-first, kode warna yang jelas, dan proteksi double-scan.",icon:'<path stroke-linecap="round" stroke-linejoin="round" d="M9 4.5v3m6-3v3M4.5 9h15M6.75 20.25h10.5A2.25 2.25 0 0019.5 18V9.75A2.25 2.25 0 0017.25 7.5h-10.5A2.25 2.25 0 004.5 9.75V18a2.25 2.25 0 002.25 2.25z" />'}],m=[{title:"Buat event & atur kapasitas",description:"Definisikan jadwal, lokasi, kapasitas, dan multi-gate hanya dalam beberapa klik dari dashboard.",badge:"Organizer"},{title:"Kirim e-ticket QR ke peserta",description:"Import daftar peserta lalu kirim e-ticket lewat email atau bagikan link registrasi publik.",badge:"Ticketing"},{title:"Scan & pantau real-time",description:"Operator gate cukup buka halaman scan, arahkan ke QR, dan lihat status kehadiran bergerak real-time.",badge:"Gate operator"}],y=[{id:"organizer",label:"Organizer",headline:"Satu tempat untuk seluruh event-mu",points:["Buat banyak event dengan konfigurasi berbeda dalam satu akun.","Lihat ringkasan kapasitas, tiket terpakai, dan kehadiran secara langsung.","Undang tim untuk mengelola gate tanpa memberikan akses penuh admin."]},{id:"operator",label:"Gate operator",headline:"UI yang ramah di lapangan, bukan hanya di mockup",points:["Mode scan layar penuh dengan feedback warna hijau/merah yang jelas.","Info peserta penting tampil besar: nama, jenis tiket, dan status kehadiran.","Bisa digunakan dari HP pribadi tanpa instalasi aplikasi tambahan."]},{id:"admin",label:"Super admin",headline:"Kontrol dan keamanan data kehadiran",points:["Kelola role pengguna (organizer, operator, admin) dari satu panel.","Audit log check-in untuk investigasi jika ada komplain gate.","Export laporan kehadiran untuk kebutuhan sponsor atau internal."]}],p=Se("organizer"),v=[{label:"Max check-in / menit",value:"500+"},{label:"Keberhasilan scan",value:"99.9%"},{label:"Waktu setup event",value:"< 5 menit"}];Kt();var A=yC(),T=Ct(A);Vr(T,{group:"home"});var O=I(T,2),k=_(O),D=I(_(k),2),P=_(D),H=_(P),W=I(_(H),6),L=_(W);pr(L,it=>et==null?void 0:et(it));var V=I(L,2);pr(V,it=>et==null?void 0:et(it));var q=I(H,2),Y=_(q),B=I(k,2),ee=_(B),U=_(ee),ge=I(U,2);cr(ge,5,()=>g,xr,(it,at,Te)=>{var Xe=dC(),Le=_(Xe),dt=_(Le),be=_(dt),Ie=_(be);vx(Ie,()=>w(at).icon,!0);var Ge=I(dt,2),Ue=_(Ge),Ve=I(Ge,2),Re=_(Ve);Me(()=>{ae(Ue,w(at).title),ae(Re,w(at).description)}),Qn(1,Xe,()=>ua,()=>({y:20,duration:700,delay:150+Te*120})),K(it,Xe)});var oe=I(B,2),re=_(oe),ne=_(re),ce=_(ne),R=I(_(ce),4);cr(R,5,()=>m,xr,(it,at,Te)=>{var Xe=hC(),Le=_(Xe),dt=_(Le);dt.textContent=Te+1;var be=I(dt,2);{var Ie=Qe=>{var J=fC();K(Qe,J)};je(be,Qe=>{Te<m.length-1&&Qe(Ie)})}var Ge=I(Le,2),Ue=_(Ge),Ve=I(_(Ue)),Re=I(Ue,2),he=_(Re),Ee=I(Re,2),Fe=_(Ee);Me(()=>{ae(Ve,` ${w(at).badge??""}`),ae(he,w(at).title),ae(Fe,w(at).description)}),Qn(1,Xe,()=>ua,()=>({y:16,duration:650,delay:120+Te*100})),K(it,Xe)});var pe=I(ce,2),se=_(pe),Oe=I(_(se),2);cr(Oe,5,()=>v,xr,(it,at)=>{var Te=gC(),Xe=_(Te),Le=_(Xe),dt=I(Xe,2),be=_(dt);Me(()=>{ae(Le,w(at).label),ae(be,w(at).value)}),K(it,Te)});var He=I(oe,2),Ye=_(He),qe=_(Ye),_e=I(_(qe),2);cr(_e,5,()=>y,xr,(it,at)=>{var Te=pC(),Xe=_(Te);Me(()=>{Si(Te,1,`relative flex-1 rounded-full px-3 sm:px-4 py-1.5 sm:py-2 font-medium transition-all ${w(p)===w(at).id?"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-50 shadow-sm":"text-gray-500 dark:text-gray-400"}`),ae(Xe,w(at).label)}),Be("click",Te,()=>te(p,w(at).id)),K(it,Te)});var Ze=I(qe,2);cr(Ze,1,()=>y,it=>it.id,(it,at)=>{var Te=Dr(),Xe=Ct(Te);{var Le=dt=>{var be=mC(),Ie=_(be),Ge=_(Ie),Ue=_(Ge),Ve=I(Ge,2);cr(Ve,5,()=>w(at).points,xr,(Fe,Qe)=>{var J=xC(),me=I(_(J),2),Mt=_(me);Me(()=>ae(Mt,w(Qe))),K(Fe,J)});var Re=I(Ie,2),he=_(Re),Ee=_(he);Me(Fe=>{ae(Ue,w(at).headline),ae(Ee,`Tampilan dan aksi utama dioptimalkan untuk peran ${Fe??""}, sehingga onboarding kru
                baru menjadi lebih cepat dan minim kesalahan.`)},[()=>w(at).label.toLowerCase()]),Qn(1,be,()=>rf,()=>({duration:250})),K(dt,be)};je(Xe,dt=>{w(p)===w(at).id&&dt(Le)})}K(it,Te)});var ze=I(He,2),nt=_(ze),ue=_(nt),st=I(_(ue),2),tt=_(st);pr(tt,it=>et==null?void 0:et(it)),Me(()=>{kt(L,"href",d&&d.id?"/dashboard":"/login"),kt(tt,"href",d&&d.id?"/dashboard":"/login")}),Qn(1,H,()=>ua,()=>({y:20,duration:700})),Qn(1,Y,()=>e4,()=>({duration:300,delay:200})),Qn(1,q,()=>ua,()=>({y:20,duration:700,delay:150})),Qn(1,U,()=>ua,()=>({y:10,duration:600})),Qn(1,se,()=>rf,()=>({duration:400,delay:180})),K(e,A),Yt(),u()}const bC=Object.freeze(Object.defineProperty({__proto__:null,default:vC},Symbol.toStringTag,{value:"Module"}));var wC=ye('<div class="mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800"> </div>'),_C=ye("<option> <!></option>"),AC=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8"><h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-6">Tambah Peserta</h1> <!> <form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" for="name">Nama</label> <input id="name" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Nama peserta"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" for="email">Email</label> <input id="email" type="email" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="email@contoh.com"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" for="phone">No HP</label> <input id="phone" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="08xxxxxxxxxx"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" for="seat">Seat</label> <select id="seat" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"><option>Pilih seat</option><!></select></div> <p class="text-xs text-gray-500 dark:text-gray-400">Minimal salah satu dari email atau no HP harus diisi untuk pengiriman e-ticket.</p> <div class="flex items-center justify-between pt-2"><a class="text-sm text-gray-600 dark:text-gray-300 hover:underline">Kembali ke daftar</a> <button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 shadow-sm hover:shadow-md transition-all">Simpan Peserta</button></div></form></div></div>',1);function EC(e,r){Xt(r,!1);let i=Pe(r,"event",8),o=Pe(r,"seats",24,()=>[]),u=Se(""),d=Se(""),g=Se(""),m=Se(""),y=Se("");function p(ne){if(ne.preventDefault(),te(y,""),!w(u)||!w(d)&&!w(g)||!w(m)){te(y,"Nama, seat, dan minimal salah satu kontak (email/phone) wajib diisi.");return}er.post(`/events/${i().id}/participants`,{name:w(u),email:w(d),phone:w(g),seat_id:w(m)})}Kt();var v=AC(),A=Ct(v);Vr(A,{group:"events"});var T=I(A,2),O=_(T),k=I(_(O),2);{var D=ne=>{var ce=wC(),R=_(ce);Me(()=>ae(R,w(y))),K(ne,ce)};je(k,ne=>{w(y)&&ne(D)})}var P=I(k,2),H=_(P),W=I(_(H),2),L=I(H,2),V=I(_(L),2),q=I(L,2),Y=I(_(q),2),B=I(q,2),ee=I(_(B),2);Me(()=>{w(m),Eu(()=>{o()})});var U=_(ee);U.value=U.__value="";var ge=I(U);cr(ge,1,o,xr,(ne,ce)=>{var R=_C(),pe=_(R),se=I(pe);{var Oe=Ye=>{var qe=Bt();Me(_e=>ae(qe,` - Rp ${_e??""}`),[()=>(w(ce),z(()=>Number(w(ce).price).toLocaleString("id-ID")))]),K(Ye,qe)};je(se,Ye=>{w(ce),z(()=>w(ce).price!=null)&&Ye(Oe)})}var He={};Me(()=>{ae(pe,`${w(ce),z(()=>w(ce).name)??""} `),He!==(He=(w(ce),z(()=>w(ce).id)))&&(R.value=(R.__value=(w(ce),z(()=>w(ce).id)))??"")}),K(ne,R)});var oe=I(B,4),re=_(oe);Me(()=>kt(re,"href",(Ce(i()),z(()=>`/events/${i().id}/participants`)))),ht(W,()=>w(u),ne=>te(u,ne)),ht(V,()=>w(d),ne=>te(d,ne)),ht(Y,()=>w(g),ne=>te(g,ne)),Su(ee,()=>w(m),ne=>te(m,ne)),Be("submit",P,Sn(p)),K(e,v),Yt()}const CC=Object.freeze(Object.defineProperty({__proto__:null,default:EC},Symbol.toStringTag,{value:"Module"}));var SC=ye('<tr><td colspan="5" class="px-4 py-8 text-center text-gray-500 dark:text-gray-400">Belum ada peserta terdaftar.</td></tr>'),IC=ye('<div class="text-gray-500 dark:text-gray-400"> </div>'),TC=ye("<div> </div> <!>",1),kC=ye('<span class="text-xs text-gray-400">-</span>'),NC=ye("<span> </span>"),OC=ye('<span class="text-xs text-gray-400">-</span>'),MC=ye('<a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-primary-700 dark:text-primary-300 border border-primary-100 dark:border-primary-900 hover:bg-primary-50/80 dark:hover:bg-primary-900/30">Download</a>'),RC=ye('<tr class="border-t border-gray-100 dark:border-gray-800 hover:bg-gray-50/60 dark:hover:bg-gray-800/60"><td class="px-4 py-3"><div class="font-medium text-gray-900 dark:text-gray-50"> </div></td><td class="px-4 py-3 text-xs text-gray-700 dark:text-gray-200"><div> </div> <div class="text-gray-500 dark:text-gray-400"> </div></td><td class="px-4 py-3 text-xs text-gray-700 dark:text-gray-200"><div> </div> <div class="text-gray-500 dark:text-gray-400"> </div></td><td class="px-4 py-3 text-xs text-gray-700 dark:text-gray-200"><!></td><td class="px-4 py-3"><!></td><td class="px-4 py-3 text-right space-x-2"><!> <button type="button" class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-red-700 dark:text-red-300 border border-red-100 dark:border-red-900 hover:bg-red-50/80 dark:hover:bg-red-900/30 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-transparent"><!></button></td></tr>'),DC=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"><div><p class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1">Peserta</p> <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"> </h1> <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">Kelola peserta dan tiket untuk event ini.</p></div> <div class="flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-end"><div class="flex gap-2"><a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 hover:bg-gray-50/80 dark:hover:bg-gray-800/40">Kembali ke event</a> <a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs sm:text-sm font-semibold text-emerald-700 dark:text-emerald-300 border border-emerald-100 dark:border-emerald-800 hover:bg-emerald-50/80 dark:hover:bg-emerald-900/30">Scan gate</a></div> <button type="button" class="inline-flex items-center justify-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 shadow-sm hover:shadow-md transition-all">+ Tambah Peserta</button></div></div> <div class="overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/70 shadow-sm"><table class="min-w-full text-sm"><thead class="bg-gray-50 dark:bg-gray-800/80"><tr><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Nama</th><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Kontak</th><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Gender/Umur</th><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Seat</th><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Status tiket</th><th class="px-4 py-3 text-right font-semibold text-gray-600 dark:text-gray-300">Aksi</th></tr></thead><tbody><!></tbody></table></div></div></div>',1);function PC(e,r){Xt(r,!1);let i=Pe(r,"event",8),o=Pe(r,"participants",28,()=>[]),u=Se(null);function d(oe){switch(oe){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"sent":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"checked_in":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}}function g(){er.get(`/events/${i().id}/participants/create`)}async function m(oe){if(!(!oe||!oe.id||!confirm(`Hapus peserta "${oe.name}"? Tiket dan log check-in terkait akan ikut terhapus.`))){te(u,oe.id);try{const ne=await fetch(`/events/${i().id}/participants/${oe.id}`,{method:"DELETE",headers:{"X-Inertia":"true",Accept:"application/json"}});!ne.ok&&ne.status!==204?console.error("Failed to delete participant",await ne.text()):o(o().filter(ce=>ce.id!==oe.id))}catch(ne){console.error("Participant delete error",ne)}finally{te(u,null)}}}Kt();var y=DC(),p=Ct(y);Vr(p,{group:"events"});var v=I(p,2),A=_(v),T=_(A),O=_(T),k=I(_(O),2),D=_(k),P=I(O,2),H=_(P),W=_(H),L=I(W,2),V=I(H,2),q=I(T,2),Y=_(q),B=I(_(Y)),ee=_(B);{var U=oe=>{var re=SC();K(oe,re)},ge=oe=>{var re=Dr(),ne=Ct(re);cr(ne,1,o,xr,(ce,R)=>{var pe=RC(),se=_(pe),Oe=_(se),He=_(Oe),Ye=I(se),qe=_(Ye),_e=_(qe),Ze=I(qe,2),ze=_(Ze),nt=I(Ye),ue=_(nt),st=_(ue),tt=I(ue,2),it=_(tt),at=I(nt),Te=_(at);{var Xe=J=>{var me=TC(),Mt=Ct(me),St=_(Mt),It=I(Mt,2);{var Ae=de=>{var De=IC(),gt=_(De);Me(ie=>ae(gt,`Rp ${ie??""}`),[()=>(w(R),z(()=>Number(w(R).seat_price).toLocaleString("id-ID")))]),K(de,De)};je(It,de=>{w(R),z(()=>w(R).seat_price!=null)&&de(Ae)})}Me(()=>ae(St,(w(R),z(()=>w(R).seat_name)))),K(J,me)},Le=J=>{var me=kC();K(J,me)};je(Te,J=>{w(R),z(()=>w(R).seat_name)?J(Xe):J(Le,!1)})}var dt=I(at),be=_(dt);{var Ie=J=>{var me=NC(),Mt=_(me);Me(St=>{Si(me,1,St),ae(Mt,(w(R),z(()=>w(R).ticket_status)))},[()=>(w(R),z(()=>`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${d(w(R).ticket_status)}`))]),K(J,me)},Ge=J=>{var me=OC();K(J,me)};je(be,J=>{w(R),z(()=>w(R).ticket_status)?J(Ie):J(Ge,!1)})}var Ue=I(dt),Ve=_(Ue);{var Re=J=>{var me=MC();Me(()=>kt(me,"href",(w(R),z(()=>`/tickets/${w(R).ticket_token}`)))),K(J,me)};je(Ve,J=>{w(R),z(()=>w(R).ticket_token)&&J(Re)})}var he=I(Ve,2),Ee=_(he);{var Fe=J=>{var me=Bt("Menghapus...");K(J,me)},Qe=J=>{var me=Bt("Delete");K(J,me)};je(Ee,J=>{w(u),w(R),z(()=>w(u)===w(R).id)?J(Fe):J(Qe,!1)})}Me(()=>{ae(He,(w(R),z(()=>w(R).name))),ae(_e,(w(R),z(()=>w(R).email||"-"))),ae(ze,(w(R),z(()=>w(R).phone||""))),ae(st,(w(R),z(()=>w(R).gender==="L"?"Laki-laki":w(R).gender==="P"?"Perempuan":"-"))),ae(it,(w(R),z(()=>w(R).age?`${w(R).age} th`:"-"))),he.disabled=(w(u),w(R),z(()=>w(u)===w(R).id))}),Be("click",he,()=>m(w(R))),K(ce,pe)}),K(oe,re)};je(ee,oe=>{Ce(o()),z(()=>o().length===0)?oe(U):oe(ge,!1)})}Me(()=>{ae(D,(Ce(i()),z(()=>i().name))),kt(W,"href",(Ce(i()),z(()=>`/events/${i().id}/edit`))),kt(L,"href",(Ce(i()),z(()=>`/events/${i().id}/scan`)))}),Be("click",V,g),K(e,y),Yt()}const LC=Object.freeze(Object.defineProperty({__proto__:null,default:PC},Symbol.toStringTag,{value:"Module"}));var BC=ye('<img alt="Profile" class="w-full h-full object-cover"/>'),FC=ye('<div class="w-full h-full flex items-center justify-center"><span class="text-2xl font-bold text-primary-600 dark:text-primary-400"> </span></div>'),UC=bs('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Saving...',1),jC=bs('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Updating...',1),HC=ye('<!> <div class="max-w-4xl mx-auto p-4"><div class="max-w-3xl mx-auto mb-8"><div class="bg-white mt-24 dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden"><div class="p-6"><div class="flex items-center space-x-4"><div class="relative group"><div class="w-20 h-20 rounded-full bg-primary-100 dark:bg-primary-900 overflow-hidden"><!></div> <label class="absolute bottom-0 right-0 bg-primary-500 text-white p-1.5 rounded-full cursor-pointer hover:bg-primary-600 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <input type="file" accept="image/*" class="hidden"/></label></div> <div><h1 class="text-2xl font-bold text-gray-900 dark:text-white"> </h1> <p class="text-gray-500 dark:text-gray-400"> </p></div></div></div></div></div> <div class="max-w-3xl mx-auto space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm"><div class="p-6"><h2 class="text-lg font-medium text-gray-900 dark:text-white mb-6">Personal Information</h2> <form class="space-y-6"><div class="grid grid-cols-1 gap-6"><div class="space-y-1"><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Name</label> <input type="text" id="name" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out" placeholder="Your full name"/></div> <div class="space-y-1"><label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email</label> <input type="email" id="email" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out" placeholder="you@example.com"/></div> <div class="space-y-1"><label for="phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Phone</label> <input type="text" id="phone" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out" placeholder="Your phone number"/></div></div> <div class="flex justify-end"><button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium shadow-sm hover:shadow-md transition duration-200 ease-in-out dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></form></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm"><div class="p-6"><h2 class="text-lg font-medium text-gray-900 dark:text-white mb-6">Change Password</h2> <form class="space-y-6"><div class="grid grid-cols-1 gap-6"><div><label for="current_password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Current Password</label> <input type="password" id="current_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out"/></div> <div><label for="new_password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">New Password</label> <input type="password" id="new_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out"/></div> <div><label for="confirm_password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Confirm New Password</label> <input type="password" id="confirm_password" class="w-full px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-gray-600 focus:border-primary-500 dark:focus:outline-none dark:focus:border-gray-600 dark:text-white transition duration-200 ease-in-out"/></div></div> <div class="flex justify-end"><button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium shadow-sm hover:shadow-md transition duration-200 ease-in-out dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></form></div></div></div></div>',1);function zC(e,r){Xt(r,!1);let i=Pe(r,"user",12),o=Se(),u=Se(),d=Se(),g=Se(!1),m=Se(i().avatar||null);function y(J){const me=J.target.files[0];if(me){const Mt=new FormData;Mt.append("file",me),te(g,!0),zt.post("/assets/avatar",Mt).then(St=>{setTimeout(()=>{te(g,!1),te(m,St.data+"?v="+Date.now())},500),i(i().avatar=St.data+"?v="+Date.now(),!0)}).catch(St=>{te(g,!1)})}}async function p(){te(g,!0);try{i(i().connection_details=connections,!0);const J=await zt.post("/change-profile",i());sa("Profile updated","success")}catch(J){J.response.data.code=="SQLITE_CONSTRAINT_UNIQUE"?sa("username atau email sudah digunakan","error"):sa(J.response.data.code,"error")}te(g,!1)}async function v(){if(w(u)!=w(d)){sa("Password not match","error");return}if(!w(o)||!w(u)||!w(d)){sa("Please fill all fields","error");return}te(g,!0);try{const J=await zt.post("/auth/change-password",{current_password:w(o),new_password:w(u),confirm_password:w(d)});sa(J.data.message),te(o,""),te(u,""),te(d,"")}catch(J){sa(J.response.data.message,"error")}te(g,!1)}Kt();var A=HC(),T=Ct(A);Vr(T,{group:"profile"});var O=I(T,2),k=_(O),D=_(k),P=_(D),H=_(P),W=_(H),L=_(W),V=_(L);{var q=J=>{var me=BC();Me(()=>kt(me,"src",w(m))),K(J,me)},Y=J=>{var me=FC(),Mt=_(me),St=_(Mt);Me(It=>ae(St,It),[()=>(Ce(i()),z(()=>i().name.charAt(0).toUpperCase()))]),K(J,me)};je(V,J=>{w(m)?J(q):J(Y,!1)})}var B=I(L,2),ee=I(_(B),2),U=I(W,2),ge=_(U),oe=_(ge),re=I(ge,2),ne=_(re),ce=I(k,2),R=_(ce),pe=_(R),se=I(_(pe),2),Oe=_(se),He=_(Oe),Ye=I(_(He),2),qe=I(He,2),_e=I(_(qe),2),Ze=I(qe,2),ze=I(_(Ze),2),nt=I(Oe,2),ue=_(nt),st=_(ue);{var tt=J=>{var me=UC();K(J,me)},it=J=>{var me=Bt("Save Changes");K(J,me)};je(st,J=>{w(g)?J(tt):J(it,!1)})}var at=I(R,2),Te=_(at),Xe=I(_(Te),2),Le=_(Xe),dt=_(Le),be=I(_(dt),2),Ie=I(dt,2),Ge=I(_(Ie),2),Ue=I(Ie,2),Ve=I(_(Ue),2),Re=I(Le,2),he=_(Re),Ee=_(he);{var Fe=J=>{var me=jC();K(J,me)},Qe=J=>{var me=Bt("Update Password");K(J,me)};je(Ee,J=>{w(g)?J(Fe):J(Qe,!1)})}Me(()=>{ae(oe,(Ce(i()),z(()=>i().name))),ae(ne,(Ce(i()),z(()=>i().email))),ue.disabled=w(g),he.disabled=w(g)}),Be("change",ee,y),ht(Ye,()=>i().name,J=>i(i().name=J,!0)),ht(_e,()=>i().email,J=>i(i().email=J,!0)),ht(ze,()=>i().phone,J=>i(i().phone=J,!0)),Be("submit",se,Sn(p)),ht(be,()=>w(o),J=>te(o,J)),ht(Ge,()=>w(u),J=>te(u,J)),ht(Ve,()=>w(d),J=>te(d,J)),Be("submit",Xe,Sn(v)),K(e,A),Yt()}const VC=Object.freeze(Object.defineProperty({__proto__:null,default:zC},Symbol.toStringTag,{value:"Module"}));var Ne;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ne||(Ne={}));var nf=new Map([[Ne.QR_CODE,"QR_CODE"],[Ne.AZTEC,"AZTEC"],[Ne.CODABAR,"CODABAR"],[Ne.CODE_39,"CODE_39"],[Ne.CODE_93,"CODE_93"],[Ne.CODE_128,"CODE_128"],[Ne.DATA_MATRIX,"DATA_MATRIX"],[Ne.MAXICODE,"MAXICODE"],[Ne.ITF,"ITF"],[Ne.EAN_13,"EAN_13"],[Ne.EAN_8,"EAN_8"],[Ne.PDF_417,"PDF_417"],[Ne.RSS_14,"RSS_14"],[Ne.RSS_EXPANDED,"RSS_EXPANDED"],[Ne.UPC_A,"UPC_A"],[Ne.UPC_E,"UPC_E"],[Ne.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),af;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(af||(af={}));function GC(e){return Object.values(Ne).includes(e)}var Ji;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ji||(Ji={}));var Ln=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ji.SCAN_TYPE_CAMERA,Ji.SCAN_TYPE_FILE],e}(),lg=function(){function e(r,i){this.format=r,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(r){if(!nf.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new e(r,nf.get(r))},e}(),sf=function(){function e(){}return e.createFromText=function(r){var i={text:r};return{decodedText:r,result:i}},e.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},e}(),du;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(du||(du={}));var cg=function(){function e(){}return e.createFrom=function(r){return{errorMessage:r,type:du.UNKWOWN_ERROR}},e}(),ug=function(){function e(r){this.verbose=r}return e.prototype.log=function(r){this.verbose&&console.log(r)},e.prototype.warn=function(r){this.verbose&&console.warn(r)},e.prototype.logError=function(r,i){(this.verbose||i===!0)&&console.error(r)},e.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},e}();function $n(e){return typeof e>"u"||e===null}function WC(e,r,i){return e>i?i:e<r?r:e}var Ka=function(){function e(){}return e.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},e.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Pt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(r){return"Last Match: ".concat(r)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),of=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),dg=function(){function e(){}return e.isMediaStreamConstraintsValid=function(r,i){if(typeof r!="object"){var o=typeof r;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(u),g=Object.keys(r),m=0,y=g;m<y.length;m++){var p=y[m];if(d.has(p))return i.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),fu={exports:{}};(function(e,r){(function(i,o){o(r)})(la,function(i){function o(E){return E==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,t){E.__proto__=t}||function(E,t){for(var n in t)t.hasOwnProperty(n)&&(E[n]=t[n])};function d(E,t){u(E,t);function n(){this.constructor=E}E.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function g(E,t){var n=Object.setPrototypeOf;n?n(E,t):E.__proto__=t}function m(E,t){t===void 0&&(t=E.constructor);var n=Error.captureStackTrace;n&&n(E,t)}var y=function(E){d(t,E);function t(n){var a=this.constructor,s=E.call(this,n)||this;return Object.defineProperty(s,"name",{value:a.name,enumerable:!1}),g(s,a.prototype),m(s),s}return t}(Error);class p extends y{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}p.kind="Exception";class v extends p{}v.kind="ArgumentException";class A extends p{}A.kind="IllegalArgumentException";class T{constructor(t){if(this.binarizer=t,t===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,n){return this.binarizer.getBlackRow(t,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,n,a,s){const l=this.binarizer.getLuminanceSource().crop(t,n,a,s);return new T(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends p{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class k{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(t,n,a,s,l){for(;l--;)a[s++]=t[n++]}static currentTimeMillis(){return Date.now()}}class P extends p{}P.kind="IndexOutOfBoundsException";class H extends P{constructor(t=void 0,n=void 0){super(n),this.index=t,this.message=n}}H.kind="ArrayIndexOutOfBoundsException";class W{static fill(t,n){for(let a=0,s=t.length;a<s;a++)t[a]=n}static fillWithin(t,n,a,s){W.rangeCheck(t.length,n,a);for(let l=n;l<a;l++)t[l]=s}static rangeCheck(t,n,a){if(n>a)throw new A("fromIndex("+n+") > toIndex("+a+")");if(n<0)throw new H(n);if(a>t)throw new H(a)}static asList(...t){return t}static create(t,n,a){return Array.from({length:t}).map(l=>Array.from({length:n}).fill(a))}static createInt32Array(t,n,a){return Array.from({length:t}).map(l=>Int32Array.from({length:n}).fill(a))}static equals(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(let a=0,s=t.length;a<s;a++)if(t[a]!==n[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let n=1;for(const a of t)n=31*n+a;return n}static fillUint8Array(t,n){for(let a=0;a!==t.length;a++)t[a]=n}static copyOf(t,n){return t.slice(0,n)}static copyOfUint8Array(t,n){if(t.length<=n){const a=new Uint8Array(n);return a.set(t),a}return t.slice(0,n)}static copyOfRange(t,n,a){const s=a-n,l=new Int32Array(s);return D.arraycopy(t,n,l,0,s),l}static binarySearch(t,n,a){a===void 0&&(a=W.numberComparator);let s=0,l=t.length-1;for(;s<=l;){const c=l+s>>1,f=a(n,t[c]);if(f>0)s=c+1;else if(f<0)l=c-1;else return c}return-s-1}static numberComparator(t,n){return t-n}}class L{static numberOfTrailingZeros(t){let n;if(t===0)return 32;let a=31;return n=t<<16,n!==0&&(a-=16,t=n),n=t<<8,n!==0&&(a-=8,t=n),n=t<<4,n!==0&&(a-=4,t=n),n=t<<2,n!==0&&(a-=2,t=n),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,n){return Math.trunc(t/n)}static parseInt(t,n=void 0){return parseInt(t,n)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=V.makeArray(t):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const n=V.makeArray(t);D.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const n=this.size;if(t>=n)return n;const a=this.bits;let s=Math.floor(t/32),l=a[s];l&=~((1<<(t&31))-1);const c=a.length;for(;l===0;){if(++s===c)return n;l=a[s]}const f=s*32+L.numberOfTrailingZeros(l);return f>n?n:f}getNextUnset(t){const n=this.size;if(t>=n)return n;const a=this.bits;let s=Math.floor(t/32),l=~a[s];l&=~((1<<(t&31))-1);const c=a.length;for(;l===0;){if(++s===c)return n;l=~a[s]}const f=s*32+L.numberOfTrailingZeros(l);return f>n?n:f}setBulk(t,n){this.bits[Math.floor(t/32)]=n}setRange(t,n){if(n<t||t<0||n>this.size)throw new A;if(n===t)return;n--;const a=Math.floor(t/32),s=Math.floor(n/32),l=this.bits;for(let c=a;c<=s;c++){const f=c>a?0:t&31,x=(2<<(c<s?31:n&31))-(1<<f);l[c]|=x}}clear(){const t=this.bits.length,n=this.bits;for(let a=0;a<t;a++)n[a]=0}isRange(t,n,a){if(n<t||t<0||n>this.size)throw new A;if(n===t)return!0;n--;const s=Math.floor(t/32),l=Math.floor(n/32),c=this.bits;for(let f=s;f<=l;f++){const h=f>s?0:t&31,b=(2<<(f<l?31:n&31))-(1<<h)&4294967295;if((c[f]&b)!==(a?b:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,n){if(n<0||n>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let a=n;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const n=t.size;this.ensureCapacity(this.size+n);for(let a=0;a<n;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new A("Sizes don't match");const n=this.bits;for(let a=0,s=n.length;a<s;a++)n[a]^=t.bits[a]}toBytes(t,n,a,s){for(let l=0;l<s;l++){let c=0;for(let f=0;f<8;f++)this.get(t)&&(c|=1<<7-f),t++;n[a+l]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),a=n+1,s=this.bits;for(let l=0;l<a;l++){let c=s[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[n-l]=c}if(this.size!==a*32){const l=a*32-this.size;let c=t[0]>>>l;for(let f=1;f<a;f++){const h=t[f];c|=h<<32-l,t[f-1]=c,c=h>>>l}t[a-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof V))return!1;const n=t;return this.size===n.size&&W.equals(this.bits,n.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let t="";for(let n=0,a=this.size;n<a;n++)n&7||(t+=" "),t+=this.get(n)?"X":".";return t}clone(){return new V(this.size,this.bits.slice())}}var q;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var Y=q;class B extends p{static getFormatInstance(){return new B}}B.kind="FormatException";var ee;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class U{constructor(t,n,a,...s){this.valueIdentifier=t,this.name=a,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,U.VALUE_IDENTIFIER_TO_ECI.set(t,this),U.NAME_TO_ECI.set(a,this);const l=this.values;for(let c=0,f=l.length;c!==f;c++){const h=l[c];U.VALUES_TO_ECI.set(h,this)}for(const c of s)U.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new B("incorect value");const n=U.VALUES_TO_ECI.get(t);if(n===void 0)throw new B("incorect value");return n}static getCharacterSetECIByName(t){const n=U.NAME_TO_ECI.get(t);if(n===void 0)throw new B("incorect value");return n}equals(t){if(!(t instanceof U))return!1;const n=t;return this.getName()===n.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(ee.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(ee.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(ee.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(ee.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(ee.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(ee.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(ee.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(ee.Big5,28,"Big5"),U.GB18030=new U(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(ee.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends p{}ge.kind="UnsupportedOperationException";class oe{static decode(t,n){const a=this.encodingName(n);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!oe.isBrowser()&&t==="ISO-8859-1"}static encode(t,n){const a=this.encodingName(n);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof U?t:U.getCharacterSetECIByName(t)}static decodeFallback(t,n){const a=this.encodingCharacterSet(n);if(oe.isDecodeFallbackSupported(a)){let s="";for(let l=0,c=t.length;l<c;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),s+="%"+f}return decodeURIComponent(s)}if(a.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ge(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(U.UTF8)||t.equals(U.ISO8859_1)||t.equals(U.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let l=0;l<a.length;l++)s.push(a[l].charCodeAt(0));return new Uint8Array(s)}}class re{static castAsNonUtf8Char(t,n=null){const a=n?n.getName():this.ISO88591;return oe.decode(new Uint8Array([t]),a)}static guessEncoding(t,n){if(n!=null&&n.get(Y.CHARACTER_SET)!==void 0)return n.get(Y.CHARACTER_SET).toString();const a=t.length;let s=!0,l=!0,c=!0,f=0,h=0,x=0,b=0,C=0,S=0,M=0,F=0,j=0,G=0,Q=0;const ve=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let we=0;we<a&&(s||l||c);we++){const xe=t[we]&255;c&&(f>0?xe&128?f--:c=!1:xe&128&&(xe&64?(f++,xe&32?(f++,xe&16?(f++,xe&8?c=!1:b++):x++):h++):c=!1)),s&&(xe>127&&xe<160?s=!1:xe>159&&(xe<192||xe===215||xe===247)&&Q++),l&&(C>0?xe<64||xe===127||xe>252?l=!1:C--:xe===128||xe===160||xe>239?l=!1:xe>160&&xe<224?(S++,F=0,M++,M>j&&(j=M)):xe>127?(C++,M=0,F++,F>G&&(G=F)):(M=0,F=0))}return c&&f>0&&(c=!1),l&&C>0&&(l=!1),c&&(ve||h+x+b>0)?re.UTF8:l&&(re.ASSUME_SHIFT_JIS||j>=3||G>=3)?re.SHIFT_JIS:s&&l?j===2&&S===2||Q*10>=a?re.SHIFT_JIS:re.ISO88591:s?re.ISO88591:l?re.SHIFT_JIS:c?re.UTF8:re.PLATFORM_DEFAULT_ENCODING}static format(t,...n){let a=-1;function s(c,f,h,x,b,C){if(c==="%%")return"%";if(n[++a]===void 0)return;c=x?parseInt(x.substr(1)):void 0;let S=b?parseInt(b.substr(1)):void 0,M;switch(C){case"s":M=n[a];break;case"c":M=n[a][0];break;case"f":M=parseFloat(n[a]).toFixed(c);break;case"p":M=parseFloat(n[a]).toPrecision(c);break;case"e":M=parseFloat(n[a]).toExponential(c);break;case"x":M=parseInt(n[a]).toString(S||16);break;case"d":M=parseFloat(parseInt(n[a],S||10).toPrecision(c)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(S);let F=parseInt(h),j=h&&h[0]+""=="0"?"0":" ";for(;M.length<F;)M=f!==void 0?M+j:j+M;return M}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}static getBytes(t,n){return oe.encode(t,n)}static getCharCode(t,n=0){return t.charCodeAt(n)}static getCharAt(t){return String.fromCharCode(t)}}re.SHIFT_JIS=U.SJIS.getName(),re.GB2312="GB2312",re.ISO88591=U.ISO8859_1.getName(),re.EUC_JP="EUC_JP",re.UTF8=U.UTF8.getName(),re.PLATFORM_DEFAULT_ENCODING=re.UTF8,re.ASSUME_SHIFT_JIS=!1;class ne{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=re.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,n,a){for(let s=n;n<n+a;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)}substring(t,n){return this.value.substring(t,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+n.length)}}class ce{constructor(t,n,a,s){if(this.width=t,this.height=n,this.rowSize=a,this.bits=s,n==null&&(n=t),this.height=n,t<1||n<1)throw new A("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const n=t.length,a=t[0].length,s=new ce(a,n);for(let l=0;l<n;l++){const c=t[l];for(let f=0;f<a;f++)c[f]&&s.set(f,l)}return s}static parseFromString(t,n,a){if(t===null)throw new A("stringRepresentation cannot be null");const s=new Array(t.length);let l=0,c=0,f=-1,h=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(l>c){if(f===-1)f=l-c;else if(l-c!==f)throw new A("row lengths do not match");c=l,h++}x++}else if(t.substring(x,x+n.length)===n)x+=n.length,s[l]=!0,l++;else if(t.substring(x,x+a.length)===a)x+=a.length,s[l]=!1,l++;else throw new A("illegal character encountered: "+t.substring(x));if(l>c){if(f===-1)f=l-c;else if(l-c!==f)throw new A("row lengths do not match");h++}const b=new ce(f,h);for(let C=0;C<l;C++)s[C]&&b.set(Math.floor(C%f),Math.floor(C/f));return b}get(t,n){const a=n*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,n){const a=n*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,n){const a=n*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,n){const a=n*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new A("input matrix dimensions do not match");const n=new V(Math.floor(this.width/32)+1),a=this.rowSize,s=this.bits;for(let l=0,c=this.height;l<c;l++){const f=l*a,h=t.getRow(l,n).getBitArray();for(let x=0;x<a;x++)s[f+x]^=h[x]}}clear(){const t=this.bits,n=t.length;for(let a=0;a<n;a++)t[a]=0}setRegion(t,n,a,s){if(n<0||t<0)throw new A("Left and top must be nonnegative");if(s<1||a<1)throw new A("Height and width must be at least 1");const l=t+a,c=n+s;if(c>this.height||l>this.width)throw new A("The region must fit inside the matrix");const f=this.rowSize,h=this.bits;for(let x=n;x<c;x++){const b=x*f;for(let C=t;C<l;C++)h[b+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(t,n){n==null||n.getSize()<this.width?n=new V(this.width):n.clear();const a=this.rowSize,s=this.bits,l=t*a;for(let c=0;c<a;c++)n.setBulk(c*32,s[l+c]);return n}setRow(t,n){D.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),n=this.getHeight();let a=new V(t),s=new V(t);for(let l=0,c=Math.floor((n+1)/2);l<c;l++)a=this.getRow(l,a),s=this.getRow(n-1-l,s),a.reverse(),s.reverse(),this.setRow(l,s),this.setRow(n-1-l,a)}getEnclosingRectangle(){const t=this.width,n=this.height,a=this.rowSize,s=this.bits;let l=t,c=n,f=-1,h=-1;for(let x=0;x<n;x++)for(let b=0;b<a;b++){const C=s[x*a+b];if(C!==0){if(x<c&&(c=x),x>h&&(h=x),b*32<l){let S=0;for(;!(C<<31-S&4294967295);)S++;b*32+S<l&&(l=b*32+S)}if(b*32+31>f){let S=31;for(;!(C>>>S);)S--;b*32+S>f&&(f=b*32+S)}}}return f<l||h<c?null:Int32Array.from([l,c,f-l+1,h-c+1])}getTopLeftOnBit(){const t=this.rowSize,n=this.bits;let a=0;for(;a<n.length&&n[a]===0;)a++;if(a===n.length)return null;const s=a/t;let l=a%t*32;const c=n[a];let f=0;for(;!(c<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,s])}getBottomRightOnBit(){const t=this.rowSize,n=this.bits;let a=n.length-1;for(;a>=0&&n[a]===0;)a--;if(a<0)return null;const s=Math.floor(a/t);let l=Math.floor(a%t)*32;const c=n[a];let f=31;for(;!(c>>>f);)f--;return l+=f,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ce))return!1;const n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&W.equals(this.bits,n.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+W.hashCode(this.bits),t}toString(t="X ",n="  ",a=`
`){return this.buildToString(t,n,a)}buildToString(t,n,a){let s=new ne;for(let l=0,c=this.height;l<c;l++){for(let f=0,h=this.width;f<h;f++)s.append(this.get(f,l)?t:n);s.append(a)}return s.toString()}clone(){return new ce(this.width,this.height,this.rowSize,this.bits.slice())}}class R extends p{static getNotFoundInstance(){return new R}}R.kind="NotFoundException";class pe extends k{constructor(t){super(t),this.luminances=pe.EMPTY,this.buckets=new Int32Array(pe.LUMINANCE_BUCKETS)}getBlackRow(t,n){const a=this.getLuminanceSource(),s=a.getWidth();n==null||n.getSize()<s?n=new V(s):n.clear(),this.initArrays(s);const l=a.getRow(t,this.luminances),c=this.buckets;for(let h=0;h<s;h++)c[(l[h]&255)>>pe.LUMINANCE_SHIFT]++;const f=pe.estimateBlackPoint(c);if(s<3)for(let h=0;h<s;h++)(l[h]&255)<f&&n.set(h);else{let h=l[0]&255,x=l[1]&255;for(let b=1;b<s-1;b++){const C=l[b+1]&255;(x*4-h-C)/2<f&&n.set(b),h=x,x=C}}return n}getBlackMatrix(){const t=this.getLuminanceSource(),n=t.getWidth(),a=t.getHeight(),s=new ce(n,a);this.initArrays(n);const l=this.buckets;for(let h=1;h<5;h++){const x=Math.floor(a*h/5),b=t.getRow(x,this.luminances),C=Math.floor(n*4/5);for(let S=Math.floor(n/5);S<C;S++){const M=b[S]&255;l[M>>pe.LUMINANCE_SHIFT]++}}const c=pe.estimateBlackPoint(l),f=t.getMatrix();for(let h=0;h<a;h++){const x=h*n;for(let b=0;b<n;b++)(f[x+b]&255)<c&&s.set(b,h)}return s}createBinarizer(t){return new pe(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const n=this.buckets;for(let a=0;a<pe.LUMINANCE_BUCKETS;a++)n[a]=0}static estimateBlackPoint(t){const n=t.length;let a=0,s=0,l=0;for(let b=0;b<n;b++)t[b]>l&&(s=b,l=t[b]),t[b]>a&&(a=t[b]);let c=0,f=0;for(let b=0;b<n;b++){const C=b-s,S=t[b]*C*C;S>f&&(c=b,f=S)}if(s>c){const b=s;s=c,c=b}if(c-s<=n/16)throw new R;let h=c-1,x=-1;for(let b=c-1;b>s;b--){const C=b-s,S=C*C*(c-b)*(a-t[b]);S>x&&(h=b,x=S)}return h<<pe.LUMINANCE_SHIFT}}pe.LUMINANCE_BITS=5,pe.LUMINANCE_SHIFT=8-pe.LUMINANCE_BITS,pe.LUMINANCE_BUCKETS=1<<pe.LUMINANCE_BITS,pe.EMPTY=Uint8ClampedArray.from([0]);class se extends pe{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),n=t.getWidth(),a=t.getHeight();if(n>=se.MINIMUM_DIMENSION&&a>=se.MINIMUM_DIMENSION){const s=t.getMatrix();let l=n>>se.BLOCK_SIZE_POWER;n&se.BLOCK_SIZE_MASK&&l++;let c=a>>se.BLOCK_SIZE_POWER;a&se.BLOCK_SIZE_MASK&&c++;const f=se.calculateBlackPoints(s,l,c,n,a),h=new ce(n,a);se.calculateThresholdForBlock(s,l,c,n,a,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new se(t)}static calculateThresholdForBlock(t,n,a,s,l,c,f){const h=l-se.BLOCK_SIZE,x=s-se.BLOCK_SIZE;for(let b=0;b<a;b++){let C=b<<se.BLOCK_SIZE_POWER;C>h&&(C=h);const S=se.cap(b,2,a-3);for(let M=0;M<n;M++){let F=M<<se.BLOCK_SIZE_POWER;F>x&&(F=x);const j=se.cap(M,2,n-3);let G=0;for(let ve=-2;ve<=2;ve++){const we=c[S+ve];G+=we[j-2]+we[j-1]+we[j]+we[j+1]+we[j+2]}const Q=G/25;se.thresholdBlock(t,F,C,Q,s,f)}}}static cap(t,n,a){return t<n?n:t>a?a:t}static thresholdBlock(t,n,a,s,l,c){for(let f=0,h=a*l+n;f<se.BLOCK_SIZE;f++,h+=l)for(let x=0;x<se.BLOCK_SIZE;x++)(t[h+x]&255)<=s&&c.set(n+x,a+f)}static calculateBlackPoints(t,n,a,s,l){const c=l-se.BLOCK_SIZE,f=s-se.BLOCK_SIZE,h=new Array(a);for(let x=0;x<a;x++){h[x]=new Int32Array(n);let b=x<<se.BLOCK_SIZE_POWER;b>c&&(b=c);for(let C=0;C<n;C++){let S=C<<se.BLOCK_SIZE_POWER;S>f&&(S=f);let M=0,F=255,j=0;for(let Q=0,ve=b*s+S;Q<se.BLOCK_SIZE;Q++,ve+=s){for(let we=0;we<se.BLOCK_SIZE;we++){const xe=t[ve+we]&255;M+=xe,xe<F&&(F=xe),xe>j&&(j=xe)}if(j-F>se.MIN_DYNAMIC_RANGE)for(Q++,ve+=s;Q<se.BLOCK_SIZE;Q++,ve+=s)for(let we=0;we<se.BLOCK_SIZE;we++)M+=t[ve+we]&255}let G=M>>se.BLOCK_SIZE_POWER*2;if(j-F<=se.MIN_DYNAMIC_RANGE&&(G=F/2,x>0&&C>0)){const Q=(h[x-1][C]+2*h[x][C-1]+h[x-1][C-1])/4;F<Q&&(G=Q)}h[x][C]=G}}return h}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class Oe{constructor(t,n){this.width=t,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,n,a,s){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let n=new ne;for(let a=0;a<this.height;a++){const s=this.getRow(a,t);for(let l=0;l<this.width;l++){const c=s[l]&255;let f;c<64?f="#":c<128?f="+":c<192?f=".":f=" ",n.append(f)}n.append(`
`)}return n.toString()}}class He extends Oe{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,n){const a=this.delegate.getRow(t,n),s=this.getWidth();for(let l=0;l<s;l++)a[l]=255-(a[l]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n);for(let s=0;s<n;s++)a[s]=255-(t[s]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,n,a,s){return new He(this.delegate.crop(t,n,a,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new He(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new He(this.delegate.rotateCounterClockwise45())}}class Ye extends Oe{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Ye.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const n=t.getContext("2d").getImageData(0,0,t.width,t.height);return Ye.toGrayscaleBuffer(n.data,t.width,t.height)}static toGrayscaleBuffer(t,n,a){const s=new Uint8ClampedArray(n*a);for(let l=0,c=0,f=t.length;l<f;l+=4,c++){let h;if(t[l+3]===0)h=255;else{const b=t[l],C=t[l+1],S=t[l+2];h=306*b+601*C+117*S+512>>10}s[c]=h}return s}getRow(t,n){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const a=this.getWidth(),s=t*a;return n===null?n=this.buffer.slice(s,s+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(s,s+a))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,n,a,s){return super.crop(t,n,a,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const n=this.getTempCanvasElement(),a=n.getContext("2d"),s=t*Ye.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*c),h=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*c);return n.width=f,n.height=h,a.translate(f/2,h/2),a.rotate(s),a.drawImage(this.canvas,l/-2,c/-2),this.buffer=Ye.makeBufferFromCanvasImageData(n),this}invert(){return new He(this)}}Ye.DEGREE_TO_RADIANS=Math.PI/180;class qe{constructor(t,n,a){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var _e=(globalThis||la||self||window||void 0)&&(globalThis||la||self||window||void 0).__awaiter||function(E,t,n,a){function s(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(b){try{x(a.next(b))}catch(C){c(C)}}function h(b){try{x(a.throw(b))}catch(C){c(C)}}function x(b){b.done?l(b.value):s(b.value).then(f,h)}x((a=a.apply(E,t||[])).next())})};class Ze{constructor(t,n=500,a){this.reader=t,this.timeBetweenScansMillis=n,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return _e(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const a of t){const s=a.kind==="video"?"videoinput":a.kind;if(s!=="videoinput")continue;const l=a.deviceId||a.id,c=a.label||`Video device ${n.length+1}`,f=a.groupId,h={deviceId:l,label:c,kind:s,groupId:f};n.push(h)}return n})}getVideoInputDevices(){return _e(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new qe(n.deviceId,n.label))})}findDeviceById(t){return _e(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,n){return _e(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,n)})}decodeOnceFromVideoDevice(t,n){return _e(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const s={video:a};return yield this.decodeOnceFromConstraints(s,n)})}decodeOnceFromConstraints(t,n){return _e(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,n)})}decodeOnceFromStream(t,n){return _e(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,n);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,n,a){return _e(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,n,a)})}decodeFromVideoDevice(t,n,a){return _e(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,n,a)})}decodeFromConstraints(t,n,a){return _e(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,n,a)})}decodeFromStream(t,n,a){return _e(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,n);return yield this.decodeContinuously(s,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,n){return _e(this,void 0,void 0,function*(){const a=this.prepareVideoElement(n);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((n,a)=>this.playVideoOnLoad(t,()=>n()))}playVideoOnLoad(t,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return _e(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,n){const a=document.getElementById(t);if(!a)throw new v(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==n.toLowerCase())throw new v(`element with id '${t}' must be an ${n} element`);return a}decodeFromImage(t,n){if(!t&&!n)throw new v("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)}decodeFromVideo(t,n){if(!t&&!n)throw new v("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,n,a){if(t===void 0&&n===void 0)throw new v("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new v("An image element must be provided.");this.reset();const n=this.prepareImageElement(t);this.imageElement=n;let a;return this.isImageLoaded(n)?a=this.decodeOnce(n,!1,!0):a=this._decodeOnLoadImage(n),a}decodeFromVideoElement(t){const n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(t,n){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,n)}_decodeFromVideoElementSetup(t){if(!t)throw new v("A video element must be provided.");this.reset();const n=this.prepareVideoElement(t);return this.videoElement=n,n}decodeFromImageUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const a=this._decodeOnLoadImage(n);return n.src=t,a}decodeFromVideoUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),a=this.decodeFromVideoElement(n);return n.src=t,a}decodeFromVideoUrlContinuously(t,n){if(!t)throw new v("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(a,n);return a.src=t,s}_decodeOnLoadImage(t){return new Promise((n,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(n,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return _e(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,n){return _e(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,n)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let n;return typeof t>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n}prepareVideoElement(t){let n;return!t&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(t,n=!0,a=!0){this._stopAsyncDecode=!1;const s=(l,c)=>{if(this._stopAsyncDecode){c(new R("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const h=n&&f instanceof R,b=(f instanceof O||f instanceof B)&&a;if(h||b)return setTimeout(s,this._timeBetweenDecodingAttempts,l,c);c(f)}};return new Promise((l,c)=>s(l,c))}decodeContinuously(t,n){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);n(s,null),setTimeout(a,this.timeBetweenScansMillis)}catch(s){n(null,s);const l=s instanceof O||s instanceof B,c=s instanceof R;(l||c)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const n=this.createBinaryBitmap(t);return this.decodeBitmap(n)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,n,a){n||(n={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(t,n,a=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const n=this.getCaptureCanvas(t),a=new Ye(n),s=new se(a);return new T(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let a,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),n.style.width=a+"px",n.style.height=s+"px",n.width=a,n.height=s,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ze{constructor(t,n,a=n==null?0:8*n.length,s,l,c=D.currentTimeMillis()){this.text=t,this.rawBytes=n,this.numBits=a,this.resultPoints=s,this.format=l,this.timestamp=c,this.text=t,this.rawBytes=n,a==null?this.numBits=n==null?0:8*n.length:this.numBits=a,this.resultPoints=s,this.format=l,this.resultMetadata=null,c==null?this.timestamp=D.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(n.length+t.length);D.arraycopy(n,0,a,0,n.length),D.arraycopy(t,0,a,n.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var nt;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(nt||(nt={}));var ue=nt,st;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(st||(st={}));var tt=st;class it{constructor(t,n,a,s,l=-1,c=-1){this.rawBytes=t,this.text=n,this.byteSegments=a,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class at{exp(t){return this.expTable[t]}log(t){if(t===0)throw new A;return this.logTable[t]}static addOrSubtract(t,n){return t^n}}class Te{constructor(t,n){if(n.length===0)throw new A;this.field=t;const a=n.length;if(a>1&&n[0]===0){let s=1;for(;s<a&&n[s]===0;)s++;s===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-s),D.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const n=this.coefficients;let a;if(t===1){a=0;for(let c=0,f=n.length;c!==f;c++){const h=n[c];a=at.addOrSubtract(a,h)}return a}a=n[0];const s=n.length,l=this.field;for(let c=1;c<s;c++)a=at.addOrSubtract(l.multiply(t,a),n[c]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let n=this.coefficients,a=t.coefficients;if(n.length>a.length){const c=n;n=a,a=c}let s=new Int32Array(a.length);const l=a.length-n.length;D.arraycopy(a,0,s,0,l);for(let c=l;c<a.length;c++)s[c]=at.addOrSubtract(n[c-l],a[c]);return new Te(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const n=this.coefficients,a=n.length,s=t.coefficients,l=s.length,c=new Int32Array(a+l-1),f=this.field;for(let h=0;h<a;h++){const x=n[h];for(let b=0;b<l;b++)c[h+b]=at.addOrSubtract(c[h+b],f.multiply(x,s[b]))}return new Te(f,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const n=this.coefficients.length,a=this.field,s=new Int32Array(n),l=this.coefficients;for(let c=0;c<n;c++)s[c]=a.multiply(l[c],t);return new Te(a,s)}multiplyByMonomial(t,n){if(t<0)throw new A;if(n===0)return this.field.getZero();const a=this.coefficients,s=a.length,l=new Int32Array(s+t),c=this.field;for(let f=0;f<s;f++)l[f]=c.multiply(a[f],n);return new Te(c,l)}divide(t){if(!this.field.equals(t.field))throw new A("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new A("Divide by 0");const n=this.field;let a=n.getZero(),s=this;const l=t.getCoefficient(t.getDegree()),c=n.inverse(l);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const f=s.getDegree()-t.getDegree(),h=n.multiply(s.getCoefficient(s.getDegree()),c),x=t.multiplyByMonomial(f,h),b=n.buildMonomial(f,h);a=a.addOrSubtract(b),s=s.addOrSubtract(x)}return[a,s]}toString(){let t="";for(let n=this.getDegree();n>=0;n--){let a=this.getCoefficient(n);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),n===0||a!==1){const s=this.field.log(a);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t}}class Xe extends p{}Xe.kind="ArithmeticException";class Le extends at{constructor(t,n,a){super(),this.primitive=t,this.size=n,this.generatorBase=a;const s=new Int32Array(n);let l=1;for(let f=0;f<n;f++)s[f]=l,l*=2,l>=n&&(l^=t,l&=n-1);this.expTable=s;const c=new Int32Array(n);for(let f=0;f<n-1;f++)c[s[f]]=f;this.logTable=c,this.zero=new Te(this,Int32Array.from([0])),this.one=new Te(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,n){if(t<0)throw new A;if(n===0)return this.zero;const a=new Int32Array(t+1);return a[0]=n,new Te(this,a)}inverse(t){if(t===0)throw new Xe;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Le.AZTEC_DATA_12=new Le(4201,4096,1),Le.AZTEC_DATA_10=new Le(1033,1024,1),Le.AZTEC_DATA_6=new Le(67,64,1),Le.AZTEC_PARAM=new Le(19,16,1),Le.QR_CODE_FIELD_256=new Le(285,256,0),Le.DATA_MATRIX_FIELD_256=new Le(301,256,1),Le.AZTEC_DATA_8=Le.DATA_MATRIX_FIELD_256,Le.MAXICODE_FIELD_64=Le.AZTEC_DATA_6;class dt extends p{}dt.kind="ReedSolomonException";class be extends p{}be.kind="IllegalStateException";class Ie{constructor(t){this.field=t}decode(t,n){const a=this.field,s=new Te(a,t),l=new Int32Array(n);let c=!0;for(let M=0;M<n;M++){const F=s.evaluateAt(a.exp(M+a.getGeneratorBase()));l[l.length-1-M]=F,F!==0&&(c=!1)}if(c)return;const f=new Te(a,l),h=this.runEuclideanAlgorithm(a.buildMonomial(n,1),f,n),x=h[0],b=h[1],C=this.findErrorLocations(x),S=this.findErrorMagnitudes(b,C);for(let M=0;M<C.length;M++){const F=t.length-1-a.log(C[M]);if(F<0)throw new dt("Bad error location");t[F]=Le.addOrSubtract(t[F],S[M])}}runEuclideanAlgorithm(t,n,a){if(t.getDegree()<n.getDegree()){const M=t;t=n,n=M}const s=this.field;let l=t,c=n,f=s.getZero(),h=s.getOne();for(;c.getDegree()>=(a/2|0);){let M=l,F=f;if(l=c,f=h,l.isZero())throw new dt("r_{i-1} was zero");c=M;let j=s.getZero();const G=l.getCoefficient(l.getDegree()),Q=s.inverse(G);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const ve=c.getDegree()-l.getDegree(),we=s.multiply(c.getCoefficient(c.getDegree()),Q);j=j.addOrSubtract(s.buildMonomial(ve,we)),c=c.addOrSubtract(l.multiplyByMonomial(ve,we))}if(h=j.multiply(f).addOrSubtract(F),c.getDegree()>=l.getDegree())throw new be("Division algorithm failed to reduce polynomial?")}const x=h.getCoefficient(0);if(x===0)throw new dt("sigmaTilde(0) was zero");const b=s.inverse(x),C=h.multiplyScalar(b),S=c.multiplyScalar(b);return[C,S]}findErrorLocations(t){const n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(n);let s=0;const l=this.field;for(let c=1;c<l.getSize()&&s<n;c++)t.evaluateAt(c)===0&&(a[s]=l.inverse(c),s++);if(s!==n)throw new dt("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,n){const a=n.length,s=new Int32Array(a),l=this.field;for(let c=0;c<a;c++){const f=l.inverse(n[c]);let h=1;for(let x=0;x<a;x++)if(c!==x){const b=l.multiply(n[x],f),C=b&1?b&-2:b|1;h=l.multiply(h,C)}s[c]=l.multiply(t.evaluateAt(f),l.inverse(h)),l.getGeneratorBase()!==0&&(s[c]=l.multiply(s[c],f))}return s}}var Ge;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(Ge||(Ge={}));class Ue{decode(t){this.ddata=t;let n=t.getBits(),a=this.extractBits(n),s=this.correctBits(a),l=Ue.convertBoolArrayToByteArray(s),c=Ue.getEncodedData(s),f=new it(l,c,null,null);return f.setNumBits(s.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let n=t.length,a=Ge.UPPER,s=Ge.UPPER,l="",c=0;for(;c<n;)if(s===Ge.BINARY){if(n-c<5)break;let f=Ue.readCode(t,c,5);if(c+=5,f===0){if(n-c<11)break;f=Ue.readCode(t,c,11)+31,c+=11}for(let h=0;h<f;h++){if(n-c<8){c=n;break}const x=Ue.readCode(t,c,8);l+=re.castAsNonUtf8Char(x),c+=8}s=a}else{let f=s===Ge.DIGIT?4:5;if(n-c<f)break;let h=Ue.readCode(t,c,f);c+=f;let x=Ue.getCharacter(s,h);x.startsWith("CTRL_")?(a=s,s=Ue.getTable(x.charAt(5)),x.charAt(6)==="L"&&(a=s)):(l+=x,s=a)}return l}static getTable(t){switch(t){case"L":return Ge.LOWER;case"P":return Ge.PUNCT;case"M":return Ge.MIXED;case"D":return Ge.DIGIT;case"B":return Ge.BINARY;case"U":default:return Ge.UPPER}}static getCharacter(t,n){switch(t){case Ge.UPPER:return Ue.UPPER_TABLE[n];case Ge.LOWER:return Ue.LOWER_TABLE[n];case Ge.MIXED:return Ue.MIXED_TABLE[n];case Ge.PUNCT:return Ue.PUNCT_TABLE[n];case Ge.DIGIT:return Ue.DIGIT_TABLE[n];default:throw new be("Bad table")}}correctBits(t){let n,a;this.ddata.getNbLayers()<=2?(a=6,n=Le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,n=Le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,n=Le.AZTEC_DATA_10):(a=12,n=Le.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=t.length/a;if(l<s)throw new B;let c=t.length%a,f=new Int32Array(l);for(let S=0;S<l;S++,c+=a)f[S]=Ue.readCode(t,c,a);try{new Ie(n).decode(f,l-s)}catch(S){throw new B(S)}let h=(1<<a)-1,x=0;for(let S=0;S<s;S++){let M=f[S];if(M===0||M===h)throw new B;(M===1||M===h-1)&&x++}let b=new Array(s*a-x),C=0;for(let S=0;S<s;S++){let M=f[S];if(M===1||M===h-1)b.fill(M>1,C,C+a-1),C+=a-1;else for(let F=a-1;F>=0;--F)b[C++]=(M&1<<F)!==0}return b}extractBits(t){let n=this.ddata.isCompact(),a=this.ddata.getNbLayers(),s=(n?11:14)+a*4,l=new Int32Array(s),c=new Array(this.totalBitsInLayer(a,n));if(n)for(let f=0;f<l.length;f++)l[f]=f;else{let f=s+1+2*L.truncDivision(L.truncDivision(s,2)-1,15),h=s/2,x=L.truncDivision(f,2);for(let b=0;b<h;b++){let C=b+L.truncDivision(b,15);l[h-b-1]=x-C-1,l[h+b]=x+C+1}}for(let f=0,h=0;f<a;f++){let x=(a-f)*4+(n?9:12),b=f*2,C=s-1-b;for(let S=0;S<x;S++){let M=S*2;for(let F=0;F<2;F++)c[h+M+F]=t.get(l[b+F],l[b+S]),c[h+2*x+M+F]=t.get(l[b+S],l[C-F]),c[h+4*x+M+F]=t.get(l[C-F],l[C-S]),c[h+6*x+M+F]=t.get(l[C-S],l[b+F])}h+=x*8}return c}static readCode(t,n,a){let s=0;for(let l=n;l<n+a;l++)s<<=1,t[l]&&(s|=1);return s}static readByte(t,n){let a=t.length-n;return a>=8?Ue.readCode(t,n,8):Ue.readCode(t,n,a)<<8-a}static convertBoolArrayToByteArray(t){let n=new Uint8Array((t.length+7)/8);for(let a=0;a<n.length;a++)n[a]=Ue.readByte(t,8*a);return n}totalBitsInLayer(t,n){return((n?88:112)+16*t)*t}}Ue.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ue.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ue.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ve{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,n,a,s){const l=t-a,c=n-s;return Math.sqrt(l*l+c*c)}static sum(t){let n=0;for(let a=0,s=t.length;a!==s;a++){const l=t[a];n+=l}return n}}class Re{static floatToIntBits(t){return t}}Re.MAX_VALUE=Number.MAX_SAFE_INTEGER;class he{constructor(t,n){this.x=t,this.y=n}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof he){const n=t;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Re.floatToIntBits(this.x)+Re.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const n=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let l,c,f;if(a>=n&&a>=s?(c=t[0],l=t[1],f=t[2]):s>=a&&s>=n?(c=t[1],l=t[0],f=t[2]):(c=t[2],l=t[0],f=t[1]),this.crossProductZ(l,c,f)<0){const h=l;l=f,f=h}t[0]=l,t[1]=c,t[2]=f}static distance(t,n){return Ve.distance(t.x,t.y,n.x,n.y)}static crossProductZ(t,n,a){const s=n.x,l=n.y;return(a.x-s)*(t.y-l)-(a.y-l)*(t.x-s)}}class Ee{constructor(t,n){this.bits=t,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Fe extends Ee{constructor(t,n,a,s,l){super(t,n),this.compact=a,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qe{constructor(t,n,a,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=Qe.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const l=n/2|0;if(this.leftInit=a-l,this.rightInit=a+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new R}detect(){let t=this.leftInit,n=this.rightInit,a=this.upInit,s=this.downInit,l=!1,c=!0,f=!1,h=!1,x=!1,b=!1,C=!1;const S=this.width,M=this.height;for(;c;){c=!1;let F=!0;for(;(F||!h)&&n<S;)F=this.containsBlackPoint(a,s,n,!1),F?(n++,c=!0,h=!0):h||n++;if(n>=S){l=!0;break}let j=!0;for(;(j||!x)&&s<M;)j=this.containsBlackPoint(t,n,s,!0),j?(s++,c=!0,x=!0):x||s++;if(s>=M){l=!0;break}let G=!0;for(;(G||!b)&&t>=0;)G=this.containsBlackPoint(a,s,t,!1),G?(t--,c=!0,b=!0):b||t--;if(t<0){l=!0;break}let Q=!0;for(;(Q||!C)&&a>=0;)Q=this.containsBlackPoint(t,n,a,!0),Q?(a--,c=!0,C=!0):C||a--;if(a<0){l=!0;break}c&&(f=!0)}if(!l&&f){const F=n-t;let j=null;for(let we=1;j===null&&we<F;we++)j=this.getBlackPointOnSegment(t,s-we,t+we,s);if(j==null)throw new R;let G=null;for(let we=1;G===null&&we<F;we++)G=this.getBlackPointOnSegment(t,a+we,t+we,a);if(G==null)throw new R;let Q=null;for(let we=1;Q===null&&we<F;we++)Q=this.getBlackPointOnSegment(n,a+we,n-we,a);if(Q==null)throw new R;let ve=null;for(let we=1;ve===null&&we<F;we++)ve=this.getBlackPointOnSegment(n,s-we,n-we,s);if(ve==null)throw new R;return this.centerEdges(ve,j,Q,G)}else throw new R}getBlackPointOnSegment(t,n,a,s){const l=Ve.round(Ve.distance(t,n,a,s)),c=(a-t)/l,f=(s-n)/l,h=this.image;for(let x=0;x<l;x++){const b=Ve.round(t+x*c),C=Ve.round(n+x*f);if(h.get(b,C))return new he(b,C)}return null}centerEdges(t,n,a,s){const l=t.getX(),c=t.getY(),f=n.getX(),h=n.getY(),x=a.getX(),b=a.getY(),C=s.getX(),S=s.getY(),M=Qe.CORR;return l<this.width/2?[new he(C-M,S+M),new he(f+M,h+M),new he(x-M,b-M),new he(l+M,c-M)]:[new he(C+M,S+M),new he(f+M,h-M),new he(x-M,b+M),new he(l-M,c-M)]}containsBlackPoint(t,n,a,s){const l=this.image;if(s){for(let c=t;c<=n;c++)if(l.get(c,a))return!0}else for(let c=t;c<=n;c++)if(l.get(a,c))return!0;return!1}}Qe.INIT_SIZE=10,Qe.CORR=1;class J{static checkAndNudgePoints(t,n){const a=t.getWidth(),s=t.getHeight();let l=!0;for(let c=0;c<n.length&&l;c+=2){const f=Math.floor(n[c]),h=Math.floor(n[c+1]);if(f<-1||f>a||h<-1||h>s)throw new R;l=!1,f===-1?(n[c]=0,l=!0):f===a&&(n[c]=a-1,l=!0),h===-1?(n[c+1]=0,l=!0):h===s&&(n[c+1]=s-1,l=!0)}l=!0;for(let c=n.length-2;c>=0&&l;c-=2){const f=Math.floor(n[c]),h=Math.floor(n[c+1]);if(f<-1||f>a||h<-1||h>s)throw new R;l=!1,f===-1?(n[c]=0,l=!0):f===a&&(n[c]=a-1,l=!0),h===-1?(n[c+1]=0,l=!0):h===s&&(n[c+1]=s-1,l=!0)}}}class me{constructor(t,n,a,s,l,c,f,h,x){this.a11=t,this.a21=n,this.a31=a,this.a12=s,this.a22=l,this.a32=c,this.a13=f,this.a23=h,this.a33=x}static quadrilateralToQuadrilateral(t,n,a,s,l,c,f,h,x,b,C,S,M,F,j,G){const Q=me.quadrilateralToSquare(t,n,a,s,l,c,f,h);return me.squareToQuadrilateral(x,b,C,S,M,F,j,G).times(Q)}transformPoints(t){const n=t.length,a=this.a11,s=this.a12,l=this.a13,c=this.a21,f=this.a22,h=this.a23,x=this.a31,b=this.a32,C=this.a33;for(let S=0;S<n;S+=2){const M=t[S],F=t[S+1],j=l*M+h*F+C;t[S]=(a*M+c*F+x)/j,t[S+1]=(s*M+f*F+b)/j}}transformPointsWithValues(t,n){const a=this.a11,s=this.a12,l=this.a13,c=this.a21,f=this.a22,h=this.a23,x=this.a31,b=this.a32,C=this.a33,S=t.length;for(let M=0;M<S;M++){const F=t[M],j=n[M],G=l*F+h*j+C;t[M]=(a*F+c*j+x)/G,n[M]=(s*F+f*j+b)/G}}static squareToQuadrilateral(t,n,a,s,l,c,f,h){const x=t-a+l-f,b=n-s+c-h;if(x===0&&b===0)return new me(a-t,l-a,t,s-n,c-s,n,0,0,1);{const C=a-l,S=f-l,M=s-c,F=h-c,j=C*F-S*M,G=(x*F-S*b)/j,Q=(C*b-x*M)/j;return new me(a-t+G*a,f-t+Q*f,t,s-n+G*s,h-n+Q*h,n,G,Q,1)}}static quadrilateralToSquare(t,n,a,s,l,c,f,h){return me.squareToQuadrilateral(t,n,a,s,l,c,f,h).buildAdjoint()}buildAdjoint(){return new me(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new me(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Mt extends J{sampleGrid(t,n,a,s,l,c,f,h,x,b,C,S,M,F,j,G,Q,ve,we){const xe=me.quadrilateralToQuadrilateral(s,l,c,f,h,x,b,C,S,M,F,j,G,Q,ve,we);return this.sampleGridWithTransform(t,n,a,xe)}sampleGridWithTransform(t,n,a,s){if(n<=0||a<=0)throw new R;const l=new ce(n,a),c=new Float32Array(2*n);for(let f=0;f<a;f++){const h=c.length,x=f+.5;for(let b=0;b<h;b+=2)c[b]=b/2+.5,c[b+1]=x;s.transformPoints(c),J.checkAndNudgePoints(t,c);try{for(let b=0;b<h;b+=2)t.get(Math.floor(c[b]),Math.floor(c[b+1]))&&l.set(b/2,f)}catch{throw new R}}return l}}class St{static setGridSampler(t){St.gridSampler=t}static getInstance(){return St.gridSampler}}St.gridSampler=new Mt;class It{constructor(t,n){this.x=t,this.y=n}toResultPoint(){return new he(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ae{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let n=this.getMatrixCenter(),a=this.getBullsEyeCorners(n);if(t){let c=a[0];a[0]=a[2],a[2]=c}this.extractParameters(a);let s=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),l=this.getMatrixCornerPoints(a);return new Fe(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new R;let n=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(a,n);let s=0;for(let c=0;c<4;c++){let f=a[(this.shift+c)%4];this.compact?(s<<=7,s+=f>>1&127):(s<<=10,s+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,n){let a=0;t.forEach((s,l,c)=>{let f=(s>>n-2<<1)+(s&1);a=(a<<3)+f}),a=((a&1)<<11)+(a>>1);for(let s=0;s<4;s++)if(L.bitCount(a^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new R}getCorrectedParameterData(t,n){let a,s;n?(a=7,s=2):(a=10,s=4);let l=a-s,c=new Int32Array(a);for(let h=a-1;h>=0;--h)c[h]=t&15,t>>=4;try{new Ie(Le.AZTEC_PARAM).decode(c,l)}catch{throw new R}let f=0;for(let h=0;h<s;h++)f=(f<<4)+c[h];return f}getBullsEyeCorners(t){let n=t,a=t,s=t,l=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(n,c,1,-1),S=this.getFirstDifferent(a,c,1,1),M=this.getFirstDifferent(s,c,-1,1),F=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(F,C)*this.nbCenterLayers/(this.distancePoint(l,n)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(C,S,M,F))break}n=C,a=S,s=M,l=F,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new R;this.compact=this.nbCenterLayers===5;let f=new he(n.getX()+.5,n.getY()-.5),h=new he(a.getX()+.5,a.getY()+.5),x=new he(s.getX()-.5,s.getY()+.5),b=new he(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,h,x,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,n,a,s;try{let f=new Qe(this.image).detect();t=f[0],n=f[1],a=f[2],s=f[3]}catch{let h=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new It(h+7,x-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new It(h+7,x+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new It(h-7,x+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new It(h-7,x-7),!1,-1,-1).toResultPoint()}let l=Ve.round((t.getX()+s.getX()+n.getX()+a.getX())/4),c=Ve.round((t.getY()+s.getY()+n.getY()+a.getY())/4);try{let f=new Qe(this.image,15,l,c).detect();t=f[0],n=f[1],a=f[2],s=f[3]}catch{t=this.getFirstDifferent(new It(l+7,c-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new It(l+7,c+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new It(l-7,c+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new It(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Ve.round((t.getX()+s.getX()+n.getX()+a.getX())/4),c=Ve.round((t.getY()+s.getY()+n.getY()+a.getY())/4),new It(l,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,n,a,s,l){let c=St.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,x=f/2+this.nbCenterLayers;return c.sampleGrid(t,f,f,h,h,x,h,x,x,h,x,n.getX(),n.getY(),a.getX(),a.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(t,n,a){let s=0,l=this.distanceResultPoint(t,n),c=l/a,f=t.getX(),h=t.getY(),x=c*(n.getX()-t.getX())/l,b=c*(n.getY()-t.getY())/l;for(let C=0;C<a;C++)this.image.get(Ve.round(f+C*x),Ve.round(h+C*b))&&(s|=1<<a-C-1);return s}isWhiteOrBlackRectangle(t,n,a,s){let l=3;t=new It(t.getX()-l,t.getY()+l),n=new It(n.getX()-l,n.getY()-l),a=new It(a.getX()+l,a.getY()-l),s=new It(s.getX()+l,s.getY()+l);let c=this.getColor(s,t);if(c===0)return!1;let f=this.getColor(t,n);return f!==c||(f=this.getColor(n,a),f!==c)?!1:(f=this.getColor(a,s),f===c)}getColor(t,n){let a=this.distancePoint(t,n),s=(n.getX()-t.getX())/a,l=(n.getY()-t.getY())/a,c=0,f=t.getX(),h=t.getY(),x=this.image.get(t.getX(),t.getY()),b=Math.ceil(a);for(let S=0;S<b;S++)f+=s,h+=l,this.image.get(Ve.round(f),Ve.round(h))!==x&&c++;let C=c/a;return C>.1&&C<.9?0:C<=.1===x?1:-1}getFirstDifferent(t,n,a,s){let l=t.getX()+a,c=t.getY()+s;for(;this.isValid(l,c)&&this.image.get(l,c)===n;)l+=a,c+=s;for(l-=a,c-=s;this.isValid(l,c)&&this.image.get(l,c)===n;)l+=a;for(l-=a;this.isValid(l,c)&&this.image.get(l,c)===n;)c+=s;return c-=s,new It(l,c)}expandSquare(t,n,a){let s=a/(2*n),l=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,x=new he(f+s*l,h+s*c),b=new he(f-s*l,h-s*c);l=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let C=new he(f+s*l,h+s*c),S=new he(f-s*l,h-s*c);return[x,C,b,S]}isValid(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(t){let n=Ve.round(t.getX()),a=Ve.round(t.getY());return this.isValid(n,a)}distancePoint(t,n){return Ve.distance(t.getX(),t.getY(),n.getX(),n.getY())}distanceResultPoint(t,n){return Ve.distance(t.getX(),t.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class de{decode(t,n=null){let a=null,s=new Ae(t.getBlackMatrix()),l=null,c=null;try{let b=s.detectMirror(!1);l=b.getPoints(),this.reportFoundResultPoints(n,l),c=new Ue().decode(b)}catch(b){a=b}if(c==null)try{let b=s.detectMirror(!0);l=b.getPoints(),this.reportFoundResultPoints(n,l),c=new Ue().decode(b)}catch(b){throw a??b}let f=new ze(c.getText(),c.getRawBytes(),c.getNumBits(),l,ue.AZTEC,D.currentTimeMillis()),h=c.getByteSegments();h!=null&&f.putMetadata(tt.BYTE_SEGMENTS,h);let x=c.getECLevel();return x!=null&&f.putMetadata(tt.ERROR_CORRECTION_LEVEL,x),f}reportFoundResultPoints(t,n){if(t!=null){let a=t.get(Y.NEED_RESULT_POINT_CALLBACK);a!=null&&n.forEach((s,l,c)=>{a.foundPossibleResultPoint(s)})}}reset(){}}class De extends Ze{constructor(t=500){super(new de,t)}}class gt{decode(t,n){try{return this.doDecode(t,n)}catch{if(n&&n.get(Y.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),c=this.doDecode(l,n),f=c.getResultMetadata();let h=270;f!==null&&f.get(tt.ORIENTATION)===!0&&(h=h+f.get(tt.ORIENTATION)%360),c.putMetadata(tt.ORIENTATION,h);const x=c.getResultPoints();if(x!==null){const b=l.getHeight();for(let C=0;C<x.length;C++)x[C]=new he(b-x[C].getY()-1,x[C].getX())}return c}else throw new R}}reset(){}doDecode(t,n){const a=t.getWidth(),s=t.getHeight();let l=new V(a);const c=n&&n.get(Y.TRY_HARDER)===!0,f=Math.max(1,s>>(c?8:5));let h;c?h=s:h=15;const x=Math.trunc(s/2);for(let b=0;b<h;b++){const C=Math.trunc((b+1)/2),S=(b&1)===0,M=x+f*(S?C:-C);if(M<0||M>=s)break;try{l=t.getBlackRow(M,l)}catch{continue}for(let F=0;F<2;F++){if(F===1&&(l.reverse(),n&&n.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;n.forEach((G,Q)=>j.set(Q,G)),j.delete(Y.NEED_RESULT_POINT_CALLBACK),n=j}try{const j=this.decodeRow(M,l,n);if(F===1){j.putMetadata(tt.ORIENTATION,180);const G=j.getResultPoints();G!==null&&(G[0]=new he(a-G[0].getX()-1,G[0].getY()),G[1]=new he(a-G[1].getX()-1,G[1].getY()))}return j}catch{}}}throw new R}static recordPattern(t,n,a){const s=a.length;for(let x=0;x<s;x++)a[x]=0;const l=t.getSize();if(n>=l)throw new R;let c=!t.get(n),f=0,h=n;for(;h<l;){if(t.get(h)!==c)a[f]++;else{if(++f===s)break;a[f]=1,c=!c}h++}if(!(f===s||f===s-1&&h===l))throw new R}static recordPatternInReverse(t,n,a){let s=a.length,l=t.get(n);for(;n>0&&s>=0;)t.get(--n)!==l&&(s--,l=!l);if(s>=0)throw new R;gt.recordPattern(t,n+1,a)}static patternMatchVariance(t,n,a){const s=t.length;let l=0,c=0;for(let x=0;x<s;x++)l+=t[x],c+=n[x];if(l<c)return Number.POSITIVE_INFINITY;const f=l/c;a*=f;let h=0;for(let x=0;x<s;x++){const b=t[x],C=n[x]*f,S=b>C?b-C:C-b;if(S>a)return Number.POSITIVE_INFINITY;h+=S}return h/l}}class ie extends gt{static findStartPattern(t){const n=t.getSize(),a=t.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),c=a,f=!1;const h=6;for(let x=a;x<n;x++)if(t.get(x)!==f)l[s]++;else{if(s===h-1){let b=ie.MAX_AVG_VARIANCE,C=-1;for(let S=ie.CODE_START_A;S<=ie.CODE_START_C;S++){const M=gt.patternMatchVariance(l,ie.CODE_PATTERNS[S],ie.MAX_INDIVIDUAL_VARIANCE);M<b&&(b=M,C=S)}if(C>=0&&t.isRange(Math.max(0,c-(x-c)/2),c,!1))return Int32Array.from([c,x,C]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,f=!f}throw new R}static decodeCode(t,n,a){gt.recordPattern(t,a,n);let s=ie.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<ie.CODE_PATTERNS.length;c++){const f=ie.CODE_PATTERNS[c],h=this.patternMatchVariance(n,f,ie.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,l=c)}if(l>=0)return l;throw new R}decodeRow(t,n,a){const s=a&&a.get(Y.ASSUME_GS1)===!0,l=ie.findStartPattern(n),c=l[2];let f=0;const h=new Uint8Array(20);h[f++]=c;let x;switch(c){case ie.CODE_START_A:x=ie.CODE_CODE_A;break;case ie.CODE_START_B:x=ie.CODE_CODE_B;break;case ie.CODE_START_C:x=ie.CODE_CODE_C;break;default:throw new B}let b=!1,C=!1,S="",M=l[0],F=l[1];const j=Int32Array.from([0,0,0,0,0,0]);let G=0,Q=0,ve=c,we=0,xe=!0,bt=!1,ct=!1;for(;!b;){const ja=C;switch(C=!1,G=Q,Q=ie.decodeCode(n,j,F),h[f++]=Q,Q!==ie.CODE_STOP&&(xe=!0),Q!==ie.CODE_STOP&&(we++,ve+=we*Q),M=F,F+=j.reduce((zg,Vg)=>zg+Vg,0),Q){case ie.CODE_START_A:case ie.CODE_START_B:case ie.CODE_START_C:throw new B}switch(x){case ie.CODE_CODE_A:if(Q<64)ct===bt?S+=String.fromCharCode(32+Q):S+=String.fromCharCode(32+Q+128),ct=!1;else if(Q<96)ct===bt?S+=String.fromCharCode(Q-64):S+=String.fromCharCode(Q+64),ct=!1;else switch(Q!==ie.CODE_STOP&&(xe=!1),Q){case ie.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_A:!bt&&ct?(bt=!0,ct=!1):bt&&ct?(bt=!1,ct=!1):ct=!0;break;case ie.CODE_SHIFT:C=!0,x=ie.CODE_CODE_B;break;case ie.CODE_CODE_B:x=ie.CODE_CODE_B;break;case ie.CODE_CODE_C:x=ie.CODE_CODE_C;break;case ie.CODE_STOP:b=!0;break}break;case ie.CODE_CODE_B:if(Q<96)ct===bt?S+=String.fromCharCode(32+Q):S+=String.fromCharCode(32+Q+128),ct=!1;else switch(Q!==ie.CODE_STOP&&(xe=!1),Q){case ie.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_B:!bt&&ct?(bt=!0,ct=!1):bt&&ct?(bt=!1,ct=!1):ct=!0;break;case ie.CODE_SHIFT:C=!0,x=ie.CODE_CODE_A;break;case ie.CODE_CODE_A:x=ie.CODE_CODE_A;break;case ie.CODE_CODE_C:x=ie.CODE_CODE_C;break;case ie.CODE_STOP:b=!0;break}break;case ie.CODE_CODE_C:if(Q<100)Q<10&&(S+="0"),S+=Q;else switch(Q!==ie.CODE_STOP&&(xe=!1),Q){case ie.CODE_FNC_1:s&&(S.length===0?S+="]C1":S+="");break;case ie.CODE_CODE_A:x=ie.CODE_CODE_A;break;case ie.CODE_CODE_B:x=ie.CODE_CODE_B;break;case ie.CODE_STOP:b=!0;break}break}ja&&(x=x===ie.CODE_CODE_A?ie.CODE_CODE_B:ie.CODE_CODE_A)}const Yr=F-M;if(F=n.getNextUnset(F),!n.isRange(F,Math.min(n.getSize(),F+(F-M)/2),!1))throw new R;if(ve-=we*G,ve%103!==G)throw new O;const Mn=S.length;if(Mn===0)throw new R;Mn>0&&xe&&(x===ie.CODE_CODE_C?S=S.substring(0,Mn-2):S=S.substring(0,Mn-1));const qr=(l[1]+l[0])/2,Ut=M+Yr/2,Sr=h.length,nn=new Uint8Array(Sr);for(let ja=0;ja<Sr;ja++)nn[ja]=h[ja];const Ua=[new he(qr,t),new he(Ut,t)];return new ze(S,nn,0,Ua,ue.CODE_128,new Date().getTime())}}ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ie.MAX_AVG_VARIANCE=.25,ie.MAX_INDIVIDUAL_VARIANCE=.7,ie.CODE_SHIFT=98,ie.CODE_CODE_C=99,ie.CODE_CODE_B=100,ie.CODE_CODE_A=101,ie.CODE_FNC_1=102,ie.CODE_FNC_2=97,ie.CODE_FNC_3=96,ie.CODE_FNC_4_A=101,ie.CODE_FNC_4_B=100,ie.CODE_START_A=103,ie.CODE_START_B=104,ie.CODE_START_C=105,ie.CODE_STOP=106;class mt extends gt{constructor(t=!1,n=!1){super(),this.usingCheckDigit=t,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,n,a){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=mt.findAsteriskPattern(n,s),c=n.getNextSet(l[1]),f=n.getSize(),h,x;do{mt.recordPattern(n,c,s);let j=mt.toNarrowWidePattern(s);if(j<0)throw new R;h=mt.patternToChar(j),this.decodeRowResult+=h,x=c;for(let G of s)c+=G;c=n.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let j of s)b+=j;let C=c-x-b;if(c!==f&&C*2<b)throw new R;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,G=0;for(let Q=0;Q<j;Q++)G+=mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(j)!==mt.ALPHABET_STRING.charAt(G%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new R;let S;this.extendedMode?S=mt.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let M=(l[1]+l[0])/2,F=x+b/2;return new ze(S,null,0,[new he(M,t),new he(F,t)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(t,n){let a=t.getSize(),s=t.getNextSet(0),l=0,c=s,f=!1,h=n.length;for(let x=s;x<a;x++)if(t.get(x)!==f)n[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(n)===mt.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((x-c)/2)),c,!1))return[c,x];c+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,f=!f}throw new R}static toNarrowWidePattern(t){let n=t.length,a=0,s;do{let l=2147483647;for(let h of t)h<l&&h>a&&(l=h);a=l,s=0;let c=0,f=0;for(let h=0;h<n;h++){let x=t[h];x>a&&(f|=1<<n-1-h,s++,c+=x)}if(s===3){for(let h=0;h<n&&s>0;h++){let x=t[h];if(x>a&&(s--,x*2>=c))return-1}return f}}while(s>3);return-1}static patternToChar(t){for(let n=0;n<mt.CHARACTER_ENCODINGS.length;n++)if(mt.CHARACTER_ENCODINGS[n]===t)return mt.ALPHABET_STRING.charAt(n);if(t===mt.ASTERISK_ENCODING)return"*";throw new R}static decodeExtended(t){let n=t.length,a="";for(let s=0;s<n;s++){let l=t.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=t.charAt(s+1),f="\0";switch(l){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new B;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new B;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new B;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new B;break}a+=f,s++}else a+=l}return a}}mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],mt.ASTERISK_ENCODING=148;class lt extends gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,n,a){let s=this.decodeStart(n),l=this.decodeEnd(n),c=new ne;lt.decodeMiddle(n,s[1],l[0],c);let f=c.toString(),h=null;a!=null&&(h=a.get(Y.ALLOWED_LENGTHS)),h==null&&(h=lt.DEFAULT_ALLOWED_LENGTHS);let x=f.length,b=!1,C=0;for(let F of h){if(x===F){b=!0;break}F>C&&(C=F)}if(!b&&x>C&&(b=!0),!b)throw new B;const S=[new he(s[1],t),new he(l[0],t)];return new ze(f,null,0,S,ue.ITF,new Date().getTime())}static decodeMiddle(t,n,a,s){let l=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),c.fill(0),f.fill(0);n<a;){gt.recordPattern(t,n,l);for(let x=0;x<5;x++){let b=2*x;c[x]=l[b],f[x]=l[b+1]}let h=lt.decodeDigit(c);s.append(h.toString()),h=this.decodeDigit(f),s.append(h.toString()),l.forEach(function(x){n+=x})}}decodeStart(t){let n=lt.skipWhiteSpace(t),a=lt.findGuardPattern(t,n,lt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,n){let a=this.narrowLineWidth*10;a=a<n?a:n;for(let s=n-1;a>0&&s>=0&&!t.get(s);s--)a--;if(a!==0)throw new R}static skipWhiteSpace(t){const n=t.getSize(),a=t.getNextSet(0);if(a===n)throw new R;return a}decodeEnd(t){t.reverse();try{let n=lt.skipWhiteSpace(t),a;try{a=lt.findGuardPattern(t,n,lt.END_PATTERN_REVERSED[0])}catch(l){l instanceof R&&(a=lt.findGuardPattern(t,n,lt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let s=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-s,a}finally{t.reverse()}}static findGuardPattern(t,n,a){let s=a.length,l=new Int32Array(s),c=t.getSize(),f=!1,h=0,x=n;l.fill(0);for(let b=n;b<c;b++)if(t.get(b)!==f)l[h]++;else{if(h===s-1){if(gt.patternMatchVariance(l,a,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return[x,b];x+=l[0]+l[1],D.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new R}static decodeDigit(t){let n=lt.MAX_AVG_VARIANCE,a=-1,s=lt.PATTERNS.length;for(let l=0;l<s;l++){let c=lt.PATTERNS[l],f=gt.patternMatchVariance(t,c,lt.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,a=l):f===n&&(a=-1)}if(a>=0)return a%10;throw new R}}lt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],lt.MAX_AVG_VARIANCE=.38,lt.MAX_INDIVIDUAL_VARIANCE=.5,lt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],lt.START_PATTERN=Int32Array.from([1,1,1,1]),lt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class vt extends gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let n=!1,a,s=0,l=Int32Array.from([0,0,0]);for(;!n;){l=Int32Array.from([0,0,0]),a=vt.findGuardPattern(t,s,!1,this.START_END_PATTERN,l);let c=a[0];s=a[1];let f=c-(s-c);f>=0&&(n=t.isRange(f,c,!1))}return a}static checkChecksum(t){return vt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let n=t.length;if(n===0)return!1;let a=parseInt(t.charAt(n-1),10);return vt.getStandardUPCEANChecksum(t.substring(0,n-1))===a}static getStandardUPCEANChecksum(t){let n=t.length,a=0;for(let s=n-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new B;a+=l}a*=3;for(let s=n-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new B;a+=l}return(1e3-a)%10}static decodeEnd(t,n){return vt.findGuardPattern(t,n,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,n,a,s){return this.findGuardPattern(t,n,a,s,new Int32Array(s.length))}static findGuardPattern(t,n,a,s,l){let c=t.getSize();n=a?t.getNextUnset(n):t.getNextSet(n);let f=0,h=n,x=s.length,b=a;for(let C=n;C<c;C++)if(t.get(C)!==b)l[f]++;else{if(f===x-1){if(gt.patternMatchVariance(l,s,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let S=l.slice(2,l.length-1);for(let M=0;M<f-1;M++)l[M]=S[M];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,b=!b}throw new R}static decodeDigit(t,n,a,s){this.recordPattern(t,a,n);let l=this.MAX_AVG_VARIANCE,c=-1,f=s.length;for(let h=0;h<f;h++){let x=s[h],b=gt.patternMatchVariance(n,x,vt.MAX_INDIVIDUAL_VARIANCE);b<l&&(l=b,c=h)}if(c>=0)return c;throw new R}}vt.MAX_AVG_VARIANCE=.48,vt.MAX_INDIVIDUAL_VARIANCE=.7,vt.START_END_PATTERN=Int32Array.from([1,1,1]),vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ar{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,n,a){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(n,a,s),c=s.toString(),f=Ar.parseExtensionString(c),h=[new he((a[0]+a[1])/2,t),new he(l,t)],x=new ze(c,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(t,n,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=n[1],f=0;for(let x=0;x<5&&c<l;x++){let b=vt.decodeDigit(t,s,c,vt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let C of s)c+=C;b>=10&&(f|=1<<4-x),x!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(a.length!==5)throw new R;let h=this.determineCheckDigit(f);if(Ar.extensionChecksum(a.toString())!==h)throw new R;return c}static extensionChecksum(t){let n=t.length,a=0;for(let s=n-2;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;a*=3;for(let s=n-1;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new R}static parseExtensionString(t){if(t.length!==5)return null;let n=Ar.parseExtension5String(t);return n==null?null:new Map([[tt.SUGGESTED_PRICE,n]])}static parseExtension5String(t){let n;switch(t.charAt(0)){case"0":n="Â£";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let a=parseInt(t.substring(1)),s=(a/100).toString(),l=a%100,c=l<10?"0"+l:l.toString();return n+s+"."+c}}class pn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,n,a){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(n,a,s),c=s.toString(),f=pn.parseExtensionString(c),h=[new he((a[0]+a[1])/2,t),new he(l,t)],x=new ze(c,null,0,h,ue.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(t,n,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=n[1],f=0;for(let h=0;h<2&&c<l;h++){let x=vt.decodeDigit(t,s,c,vt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let b of s)c+=b;x>=10&&(f|=1<<1-h),h!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(a.length!==2)throw new R;if(parseInt(a.toString())%4!==f)throw new R;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[tt.ISSUE_NUMBER,parseInt(t)]])}}class Tn{static decodeRow(t,n,a){let s=vt.findGuardPattern(n,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ar().decodeRow(t,n,s)}catch{return new pn().decodeRow(t,n,s)}}}Tn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ft extends vt{constructor(){super(),this.decodeRowStringBuffer="",ft.L_AND_G_PATTERNS=ft.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let n=ft.L_PATTERNS[t-10],a=new Int32Array(n.length);for(let s=0;s<n.length;s++)a[s]=n[n.length-s-1];ft.L_AND_G_PATTERNS[t]=a}}decodeRow(t,n,a){let s=ft.findStartGuardPattern(n),l=a==null?null:a.get(Y.NEED_RESULT_POINT_CALLBACK);if(l!=null){const xe=new he((s[0]+s[1])/2,t);l.foundPossibleResultPoint(xe)}let c=this.decodeMiddle(n,s,this.decodeRowStringBuffer),f=c.rowOffset,h=c.resultString;if(l!=null){const xe=new he(f,t);l.foundPossibleResultPoint(xe)}let x=this.decodeEnd(n,f);if(l!=null){const xe=new he((x[0]+x[1])/2,t);l.foundPossibleResultPoint(xe)}let b=x[1],C=b+(b-x[0]);if(C>=n.getSize()||!n.isRange(b,C,!1))throw new R;let S=h.toString();if(S.length<8)throw new B;if(!ft.checkChecksum(S))throw new O;let M=(s[1]+s[0])/2,F=(x[1]+x[0])/2,j=this.getBarcodeFormat(),G=[new he(M,t),new he(F,t)],Q=new ze(S,null,0,G,j,new Date().getTime()),ve=0;try{let xe=Tn.decodeRow(t,n,x[1]);Q.putMetadata(tt.UPC_EAN_EXTENSION,xe.getText()),Q.putAllMetadata(xe.getResultMetadata()),Q.addResultPoints(xe.getResultPoints()),ve=xe.getText().length}catch{}let we=a==null?null:a.get(Y.ALLOWED_EAN_EXTENSIONS);if(we!=null){let xe=!1;for(let bt in we)if(ve.toString()===bt){xe=!0;break}if(!xe)throw new R}return Q}decodeEnd(t,n){return ft.findGuardPattern(t,n,!1,ft.START_END_PATTERN,new Int32Array(ft.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ft.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let n=t.length;if(n===0)return!1;let a=parseInt(t.charAt(n-1),10);return ft.getStandardUPCEANChecksum(t.substring(0,n-1))===a}static getStandardUPCEANChecksum(t){let n=t.length,a=0;for(let s=n-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new B;a+=l}a*=3;for(let s=n-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new B;a+=l}return(1e3-a)%10}}class Nr extends ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,n,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=n[1],f=0;for(let x=0;x<6&&c<l;x++){let b=ft.decodeDigit(t,s,c,ft.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let C of s)c+=C;b>=10&&(f|=1<<5-x)}a=Nr.determineFirstDigit(a,f),c=ft.findGuardPattern(t,c,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&c<l;x++){let b=ft.decodeDigit(t,s,c,ft.L_PATTERNS);a+=String.fromCharCode(48+b);for(let C of s)c+=C}return{rowOffset:c,resultString:a}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(t,n){for(let a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new R}}Nr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class kn extends ft{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,n,a){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=n[1];for(let h=0;h<4&&c<l;h++){let x=ft.decodeDigit(t,s,c,ft.L_PATTERNS);a+=String.fromCharCode(48+x);for(let b of s)c+=b}c=ft.findGuardPattern(t,c,!0,ft.MIDDLE_PATTERN,new Int32Array(ft.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&c<l;h++){let x=ft.decodeDigit(t,s,c,ft.L_PATTERNS);a+=String.fromCharCode(48+x);for(let b of s)c+=b}return{rowOffset:c,resultString:a}}getBarcodeFormat(){return ue.EAN_8}}class Hn extends ft{constructor(){super(...arguments),this.ean13Reader=new Nr}getBarcodeFormat(){return ue.UPC_A}decode(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,a))}decodeMiddle(t,n,a){return this.ean13Reader.decodeMiddle(t,n,a)}maybeReturnResult(t){let n=t.getText();if(n.charAt(0)==="0"){let a=new ze(n.substring(1),null,null,t.getResultPoints(),ue.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new R}reset(){this.ean13Reader.reset()}}class ur extends ft{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,n,a){const s=this.decodeMiddleCounters.map(x=>x);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=t.getSize();let c=n[1],f=0;for(let x=0;x<6&&c<l;x++){const b=ur.decodeDigit(t,s,c,ur.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let C of s)c+=C;b>=10&&(f|=1<<5-x)}let h=ur.determineNumSysAndCheckDigit(a,f);return{rowOffset:c,resultString:h}}decodeEnd(t,n){return ur.findGuardPatternWithoutCounters(t,n,!0,ur.MIDDLE_END_PATTERN)}checkChecksum(t){return ft.checkChecksum(ur.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,n){for(let a=0;a<=1;a++)for(let s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][s]){let l=String.fromCharCode(48+a),c=String.fromCharCode(48+s);return l+t+c}throw R.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(t){const n=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),a=new ne;a.append(t.charAt(0));let s=n[5];switch(s){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(s),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(s);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}ur.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ur.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Nn extends gt{constructor(t){super();let n=t==null?null:t.get(Y.POSSIBLE_FORMATS),a=[];o(n)?(a.push(new Nr),a.push(new Hn),a.push(new kn),a.push(new ur)):(n.indexOf(ue.EAN_13)>-1&&a.push(new Nr),n.indexOf(ue.UPC_A)>-1&&a.push(new Hn),n.indexOf(ue.EAN_8)>-1&&a.push(new kn),n.indexOf(ue.UPC_E)>-1&&a.push(new ur)),this.readers=a}decodeRow(t,n,a){for(let s of this.readers)try{const l=s.decodeRow(t,n,a),c=l.getBarcodeFormat()===ue.EAN_13&&l.getText().charAt(0)==="0",f=a==null?null:a.get(Y.POSSIBLE_FORMATS),h=f==null||f.includes(ue.UPC_A);if(c&&h){const x=l.getRawBytes(),b=new ze(l.getText().substring(1),x,x?x.length:null,l.getResultPoints(),ue.UPC_A);return b.putAllMetadata(l.getResultMetadata()),b}return l}catch{}throw new R}reset(){for(let t of this.readers)t.reset()}}class Qt extends gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,n){for(let a=0;a<n.length;a++)if(gt.patternMatchVariance(t,n[a],Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return a;throw new R}static count(t){return Ve.sum(new Int32Array(t))}static increment(t,n){let a=0,s=n[0];for(let l=1;l<t.length;l++)n[l]>s&&(s=n[l],a=l);t[a]++}static decrement(t,n){let a=0,s=n[0];for(let l=1;l<t.length;l++)n[l]<s&&(s=n[l],a=l);t[a]--}static isFinderPattern(t){let n=t[0]+t[1],a=n+t[2]+t[3],s=n/a;if(s>=Qt.MIN_FINDER_PATTERN_RATIO&&s<=Qt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let f of t)f>c&&(c=f),f<l&&(l=f);return c<10*l}return!1}}Qt.MAX_AVG_VARIANCE=.2,Qt.MAX_INDIVIDUAL_VARIANCE=.45,Qt.MIN_FINDER_PATTERN_RATIO=9.5/12,Qt.MAX_FINDER_PATTERN_RATIO=12.5/14;class On{constructor(t,n){this.value=t,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof On))return!1;const n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class gi{constructor(t,n,a,s,l){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new he(a,l)),this.resultPoints.push(new he(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof gi))return!1;const n=t;return this.value===n.value}hashCode(){return this.value}}class Or{constructor(){}static getRSSvalue(t,n,a){let s=0;for(let h of t)s+=h;let l=0,c=0,f=t.length;for(let h=0;h<f-1;h++){let x;for(x=1,c|=1<<h;x<t[h];x++,c&=~(1<<h)){let b=Or.combins(s-x-1,f-h-2);if(a&&c===0&&s-x-(f-h-1)>=f-h-1&&(b-=Or.combins(s-x-(f-h),f-h-2)),f-h-1>1){let C=0;for(let S=s-x-(f-h-2);S>n;S--)C+=Or.combins(s-x-S-1,f-h-3);b-=C*(f-1-h)}else s-x>n&&b--;l+=b}s-=x}return l}static combins(t,n){let a,s;t-n>n?(s=n,a=t-n):(s=t-n,a=n);let l=1,c=1;for(let f=t;f>a;f--)l*=f,c<=s&&(l/=c,c++);for(;c<=s;)l/=c,c++;return l}}class xn{static buildBitArray(t){let n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);let a=12*n,s=new V(a),l=0,f=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&s.set(l),l++;for(let h=1;h<t.length;++h){let x=t[h],b=x.getLeftChar().getValue();for(let C=11;C>=0;--C)b&1<<C&&s.set(l),l++;if(x.getRightChar()!=null){let C=x.getRightChar().getValue();for(let S=11;S>=0;--S)C&1<<S&&s.set(l),l++}}return s}}class Fr{constructor(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ra{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class $t extends ra{constructor(t,n){super(t),this.value=n}getValue(){return this.value}isFNC1(){return this.value===$t.FNC1}}$t.FNC1="$";class rn extends ra{constructor(t,n,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Gr extends ra{constructor(t,n,a){if(super(t),n<0||n>10||a<0||a>10)throw new B;this.firstDigit=n,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Gr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Gr.FNC1}isAnyFNC1(){return this.firstDigit===Gr.FNC1||this.secondDigit===Gr.FNC1}}Gr.FNC1=10;class ke{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new R;let n=t.substring(0,2);for(let l of ke.TWO_DIGIT_DATA_LENGTH)if(l[0]===n)return l[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(2,l[2],t):ke.processFixedAI(2,l[1],t);if(t.length<3)throw new R;let a=t.substring(0,3);for(let l of ke.THREE_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(3,l[2],t):ke.processFixedAI(3,l[1],t);for(let l of ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,l[2],t):ke.processFixedAI(4,l[1],t);if(t.length<4)throw new R;let s=t.substring(0,4);for(let l of ke.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,l[2],t):ke.processFixedAI(4,l[1],t);throw new R}static processFixedAI(t,n,a){if(a.length<t)throw new R;let s=a.substring(0,t);if(a.length<t+n)throw new R;let l=a.substring(t,t+n),c=a.substring(t+n),f="("+s+")"+l,h=ke.parseFieldsInGeneralPurpose(c);return h==null?f:f+h}static processVariableAI(t,n,a){let s=a.substring(0,t),l;a.length<t+n?l=a.length:l=t+n;let c=a.substring(t,l),f=a.substring(l),h="("+s+")"+c,x=ke.parseFieldsInGeneralPurpose(f);return x==null?h:h+x}}ke.VARIABLE_LENGTH=[],ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ke.VARIABLE_LENGTH,20],["22",ke.VARIABLE_LENGTH,29],["30",ke.VARIABLE_LENGTH,8],["37",ke.VARIABLE_LENGTH,8],["90",ke.VARIABLE_LENGTH,30],["91",ke.VARIABLE_LENGTH,30],["92",ke.VARIABLE_LENGTH,30],["93",ke.VARIABLE_LENGTH,30],["94",ke.VARIABLE_LENGTH,30],["95",ke.VARIABLE_LENGTH,30],["96",ke.VARIABLE_LENGTH,30],["97",ke.VARIABLE_LENGTH,3],["98",ke.VARIABLE_LENGTH,30],["99",ke.VARIABLE_LENGTH,30]],ke.THREE_DIGIT_DATA_LENGTH=[["240",ke.VARIABLE_LENGTH,30],["241",ke.VARIABLE_LENGTH,30],["242",ke.VARIABLE_LENGTH,6],["250",ke.VARIABLE_LENGTH,30],["251",ke.VARIABLE_LENGTH,30],["253",ke.VARIABLE_LENGTH,17],["254",ke.VARIABLE_LENGTH,20],["400",ke.VARIABLE_LENGTH,30],["401",ke.VARIABLE_LENGTH,30],["402",17],["403",ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ke.VARIABLE_LENGTH,20],["421",ke.VARIABLE_LENGTH,15],["422",3],["423",ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ke.VARIABLE_LENGTH,15],["391",ke.VARIABLE_LENGTH,18],["392",ke.VARIABLE_LENGTH,15],["393",ke.VARIABLE_LENGTH,18],["703",ke.VARIABLE_LENGTH,30]],ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ke.VARIABLE_LENGTH,20],["8003",ke.VARIABLE_LENGTH,30],["8004",ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ke.VARIABLE_LENGTH,30],["8008",ke.VARIABLE_LENGTH,12],["8018",18],["8020",ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ke.VARIABLE_LENGTH,70],["8200",ke.VARIABLE_LENGTH,70]];class Ra{constructor(t){this.buffer=new ne,this.information=t}decodeAllCodes(t,n){let a=n,s=null;do{let l=this.decodeGeneralPurposeField(a,s),c=ke.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&t.append(c),l.isRemaining()?s=""+l.getRemainingValue():s=null,a===l.getNewPosition())break;a=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new Gr(this.information.getSize(),Gr.FNC1,Gr.FNC1):new Gr(this.information.getSize(),l-1,Gr.FNC1)}let n=this.extractNumericValueFromBitArray(t,7),a=(n-8)/11,s=(n-8)%11;return new Gr(t+7,a,s)}extractNumericValueFromBitArray(t,n){return Ra.extractNumericValueFromBitArray(this.information,t,n)}static extractNumericValueFromBitArray(t,n,a){let s=0;for(let l=0;l<a;++l)t.get(n+l)&&(s|=1<<a-l-1);return s}decodeGeneralPurposeField(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new rn(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new rn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,n;do{let a=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let n;return t.isSecondDigitFNC1()?n=new rn(this.current.getPosition(),this.buffer.toString()):n=new rn(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Fr(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let n=new rn(this.current.getPosition(),this.buffer.toString());return new Fr(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let n=new rn(this.current.getPosition(),this.buffer.toString());return new Fr(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let n=new rn(this.current.getPosition(),this.buffer.toString());return new Fr(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new $t(t+5,$t.FNC1);if(n>=5&&n<15)return new $t(t+5,"0"+(n-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new $t(t+7,""+(a+1));if(a>=90&&a<116)return new $t(t+7,""+(a+7));let s=this.extractNumericValueFromBitArray(t,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new B}return new $t(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new $t(t+5,$t.FNC1);if(n>=5&&n<15)return new $t(t+5,"0"+(n-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new $t(t+6,""+(a+33));let s;switch(a){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new be("Decoding invalid alphanumeric value: "+a)}return new $t(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0}}class Pl{constructor(t){this.information=t,this.generalDecoder=new Ra(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wr extends Pl{constructor(t){super(t)}encodeCompressedGtin(t,n){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,a)}encodeCompressedGtinWithoutAI(t,n,a){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Wr.appendCheckDigit(t,a)}static appendCheckDigit(t,n){let a=0;for(let s=0;s<13;s++){let l=t.charAt(s+n).charCodeAt(0)-48;a+=s&1?l:3*l}a=10-a%10,a===10&&(a=0),t.append(a)}}Wr.GTIN_SIZE=40;class Da extends Wr{constructor(t){super(t)}parseInformation(){let t=new ne;t.append("(01)");let n=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Da.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,Da.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,Da.HEADER_SIZE+44)}}Da.HEADER_SIZE=4;class mo extends Pl{constructor(t){super(t)}parseInformation(){let t=new ne;return this.getGeneralDecoder().decodeAllCodes(t,mo.HEADER_SIZE)}}mo.HEADER_SIZE=5;class yo extends Wr{constructor(t){super(t)}encodeCompressedWeight(t,n,a){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(t,s);let l=this.checkWeight(s),c=1e5;for(let f=0;f<5;++f)l/c===0&&t.append("0"),c/=10;t.append(l)}}class zn extends yo{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=zn.HEADER_SIZE+yo.GTIN_SIZE+zn.WEIGHT_SIZE)throw new R;let t=new ne;return this.encodeCompressedGtin(t,zn.HEADER_SIZE),this.encodeCompressedWeight(t,zn.HEADER_SIZE+yo.GTIN_SIZE,zn.WEIGHT_SIZE),t.toString()}}zn.HEADER_SIZE=5,zn.WEIGHT_SIZE=15;class pg extends zn{constructor(t){super(t)}addWeightCode(t,n){t.append("(3103)")}checkWeight(t){return t}}class xg extends zn{constructor(t){super(t)}addWeightCode(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Vn extends Wr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Vn.HEADER_SIZE+Wr.GTIN_SIZE)throw new R;let t=new ne;this.encodeCompressedGtin(t,Vn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Vn.HEADER_SIZE+Wr.GTIN_SIZE,Vn.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Vn.HEADER_SIZE+Wr.GTIN_SIZE+Vn.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}Vn.HEADER_SIZE=8,Vn.LAST_DIGIT_SIZE=2;class Ur extends Wr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Ur.HEADER_SIZE+Wr.GTIN_SIZE)throw new R;let t=new ne;this.encodeCompressedGtin(t,Ur.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ur.HEADER_SIZE+Wr.GTIN_SIZE,Ur.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ur.HEADER_SIZE+Wr.GTIN_SIZE+Ur.LAST_DIGIT_SIZE,Ur.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Ur.HEADER_SIZE+Wr.GTIN_SIZE+Ur.LAST_DIGIT_SIZE+Ur.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}Ur.HEADER_SIZE=8,Ur.LAST_DIGIT_SIZE=2,Ur.FIRST_THREE_DIGITS_SIZE=10;class qt extends yo{constructor(t,n,a){super(t),this.dateCode=a,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE+qt.DATE_SIZE)throw new R;let t=new ne;return this.encodeCompressedGtin(t,qt.HEADER_SIZE),this.encodeCompressedWeight(t,qt.HEADER_SIZE+qt.GTIN_SIZE,qt.WEIGHT_SIZE),this.encodeCompressedDate(t,qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,n){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,qt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=a%32;a/=32;let l=a%12+1;a/=12;let c=a;c/10==0&&t.append("0"),t.append(c),l/10==0&&t.append("0"),t.append(l),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")}checkWeight(t){return t%1e5}}qt.HEADER_SIZE=8,qt.WEIGHT_SIZE=20,qt.DATE_SIZE=16;function Ku(E){try{if(E.get(1))return new Da(E);if(!E.get(2))return new mo(E);switch(Ra.extractNumericValueFromBitArray(E,1,4)){case 4:return new pg(E);case 5:return new xg(E)}switch(Ra.extractNumericValueFromBitArray(E,1,5)){case 12:return new Vn(E);case 13:return new Ur(E)}switch(Ra.extractNumericValueFromBitArray(E,1,7)){case 56:return new qt(E,"310","11");case 57:return new qt(E,"320","11");case 58:return new qt(E,"310","13");case 59:return new qt(E,"320","13");case 60:return new qt(E,"310","15");case 61:return new qt(E,"320","15");case 62:return new qt(E,"310","17");case 63:return new qt(E,"320","17")}}catch(t){throw console.log(t),new be("unknown decoder: "+E)}}class Oi{constructor(t,n,a,s){this.leftchar=t,this.rightchar=n,this.finderpattern=a,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,n){return t instanceof Oi?Oi.equalsOrNull(t.leftchar,n.leftchar)&&Oi.equalsOrNull(t.rightchar,n.rightchar)&&Oi.equalsOrNull(t.finderpattern,n.finderpattern):!1}static equalsOrNull(t,n){return t===null?n===null:Oi.equals(t,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ll{constructor(t,n,a){this.pairs=t,this.rowNumber=n,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,n){return t instanceof Ll?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1}checkEqualitity(t,n){if(!t||!n)return;let a;return t.forEach((s,l)=>{n.forEach(c=>{s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}}class fe extends Qt{constructor(t){super(...arguments),this.pairs=new Array(fe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,n,a){this.pairs.length=0,this.startFromEven=!1;try{return fe.constructResult(this.decodeRow2pairs(t,n))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,fe.constructResult(this.decodeRow2pairs(t,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,n){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(l){if(l instanceof R){if(!this.pairs.length)throw new R;a=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new R}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),n}checkRows(t,n){for(let a=n;a<this.rows.length;a++){let s=this.rows[a];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(s.getPairs()),!fe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(s);try{return this.checkRows(l,a+1)}catch(c){this.verbose&&console.log(c)}}throw new R}static isValidSequence(t){for(let n of fe.FINDER_PATTERN_SEQUENCES){if(t.length>n.length)continue;let a=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=n[s]){a=!1;break}if(a)return!0}return!1}storeRow(t,n){let a=0,s=!1,l=!1;for(;a<this.rows.length;){let c=this.rows[a];if(c.getRowNumber()>t){l=c.isEquivalent(this.pairs);break}s=c.isEquivalent(this.pairs),a++}l||s||fe.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Ll(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,n){for(let a of n)if(a.getPairs().length!==t.length){for(let s of a.getPairs())for(let l of t)if(Oi.equals(s,l))break}}static isPartialRow(t,n){for(let a of n){let s=!0;for(let l of t){let c=!1;for(let f of a.getPairs())if(l.equals(f)){c=!0;break}if(!c){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let n=xn.buildBitArray(t),s=Ku(n).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],c[0],c[1]];return new ze(s,null,null,f,ue.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),n=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let s=a.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);s+=h.getLeftChar().getChecksumPortion(),l++;let x=h.getRightChar();x!=null&&(s+=x.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==n.getValue()}static getNextSecondBar(t,n){let a;return t.get(n)?(a=t.getNextUnset(n),a=t.getNextSet(a)):(a=t.getNextSet(n),a=t.getNextUnset(a)),a}retrieveNextPair(t,n,a){let s=n.length%2==0;this.startFromEven&&(s=!s);let l,c=!0,f=-1;do this.findNextPair(t,n,f),l=this.parseFoundFinderPattern(t,a,s),l==null?f=fe.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let h=this.decodeDataCharacter(t,l,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new R;let x;try{x=this.decodeDataCharacter(t,l,s,!1)}catch(b){x=null,this.verbose&&console.log(b)}return new Oi(h,x,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,n,a){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c;a>=0?c=a:this.isEmptyPair(n)?c=0:c=n[n.length-1].getFinderPattern().getStartEnd()[1];let f=n.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;c<l&&(h=!t.get(c),!!h);)c++;let x=0,b=c;for(let C=c;C<l;C++)if(t.get(C)!=h)s[x]++;else{if(x==3){if(f&&fe.reverseCounters(s),fe.isFinderPattern(s)){this.startEnd[0]=b,this.startEnd[1]=C;return}f&&fe.reverseCounters(s),b+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,x--}else x++;s[x]=1,h=!h}throw new R}static reverseCounters(t){let n=t.length;for(let a=0;a<n/2;++a){let s=t[a];t[a]=t[n-a-1],t[n-a-1]=s}}parseFoundFinderPattern(t,n,a){let s,l,c;if(a){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,s=this.startEnd[0]-x,l=x,c=this.startEnd[1]}else l=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),s=c-this.startEnd[1];let f=this.getDecodeFinderCounters();D.arraycopy(f,0,f,1,f.length-1),f[0]=s;let h;try{h=this.parseFinderValue(f,fe.FINDER_PATTERNS)}catch{return null}return new gi(h,[l,c],l,c,n)}decodeDataCharacter(t,n,a,s){let l=this.getDataCharacterCounters();for(let Ut=0;Ut<l.length;Ut++)l[Ut]=0;if(s)fe.recordPatternInReverse(t,n.getStartEnd()[0],l);else{fe.recordPattern(t,n.getStartEnd()[1],l);for(let Ut=0,Sr=l.length-1;Ut<Sr;Ut++,Sr--){let nn=l[Ut];l[Ut]=l[Sr],l[Sr]=nn}}let c=17,f=Ve.sum(new Int32Array(l))/c,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new R;let x=this.getOddCounts(),b=this.getEvenCounts(),C=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let Ut=0;Ut<l.length;Ut++){let Sr=1*l[Ut]/f,nn=Sr+.5;if(nn<1){if(Sr<.3)throw new R;nn=1}else if(nn>8){if(Sr>8.7)throw new R;nn=8}let Ua=Ut/2;Ut&1?(b[Ua]=nn,S[Ua]=Sr-nn):(x[Ua]=nn,C[Ua]=Sr-nn)}this.adjustOddEvenCounts(c);let M=4*n.getValue()+(a?0:2)+(s?0:1)-1,F=0,j=0;for(let Ut=x.length-1;Ut>=0;Ut--){if(fe.isNotA1left(n,a,s)){let Sr=fe.WEIGHTS[M][2*Ut];j+=x[Ut]*Sr}F+=x[Ut]}let G=0;for(let Ut=b.length-1;Ut>=0;Ut--)if(fe.isNotA1left(n,a,s)){let Sr=fe.WEIGHTS[M][2*Ut+1];G+=b[Ut]*Sr}let Q=j+G;if(F&1||F>13||F<4)throw new R;let ve=(13-F)/2,we=fe.SYMBOL_WIDEST[ve],xe=9-we,bt=Or.getRSSvalue(x,we,!0),ct=Or.getRSSvalue(b,xe,!1),Yr=fe.EVEN_TOTAL_SUBSET[ve],Mn=fe.GSUM[ve],qr=bt*Yr+ct+Mn;return new On(qr,Q)}static isNotA1left(t,n,a){return!(t.getValue()==0&&n&&a)}adjustOddEvenCounts(t){let n=Ve.sum(new Int32Array(this.getOddCounts())),a=Ve.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;n>13?l=!0:n<4&&(s=!0);let c=!1,f=!1;a>13?f=!0:a<4&&(c=!0);let h=n+a-t,x=(n&1)==1,b=(a&1)==0;if(h==1)if(x){if(b)throw new R;l=!0}else{if(!b)throw new R;f=!0}else if(h==-1)if(x){if(b)throw new R;s=!0}else{if(!b)throw new R;c=!0}else if(h==0){if(x){if(!b)throw new R;n<a?(s=!0,f=!0):(l=!0,c=!0)}else if(b)throw new R}else throw new R;if(s){if(l)throw new R;fe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&fe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new R;fe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&fe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}fe.SYMBOL_WIDEST=[7,5,4,3,1],fe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],fe.GSUM=[0,348,1388,2948,3988],fe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],fe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],fe.FINDER_PAT_A=0,fe.FINDER_PAT_B=1,fe.FINDER_PAT_C=2,fe.FINDER_PAT_D=3,fe.FINDER_PAT_E=4,fe.FINDER_PAT_F=5,fe.FINDER_PATTERN_SEQUENCES=[[fe.FINDER_PAT_A,fe.FINDER_PAT_A],[fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B],[fe.FINDER_PAT_A,fe.FINDER_PAT_C,fe.FINDER_PAT_B,fe.FINDER_PAT_D],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_C],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_D,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_D],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_E],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F]],fe.MAX_PAIRS=11;class mg extends On{constructor(t,n,a){super(t,n),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tr extends Qt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,n,a){const s=this.decodePair(n,!1,t,a);tr.addOrTally(this.possibleLeftPairs,s),n.reverse();let l=this.decodePair(n,!0,t,a);tr.addOrTally(this.possibleRightPairs,l),n.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&tr.checkChecksum(c,f))return tr.constructResult(c,f)}throw new R}static addOrTally(t,n){if(n==null)return;let a=!1;for(let s of t)if(s.getValue()===n.getValue()){s.incrementCount(),a=!0;break}a||t.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,n){let a=4537077*t.getValue()+n.getValue(),s=new String(a).toString(),l=new ne;for(let x=13-s.length;x>0;x--)l.append("0");l.append(s);let c=0;for(let x=0;x<13;x++){let b=l.charAt(x).charCodeAt(0)-48;c+=x&1?b:3*b}c=10-c%10,c===10&&(c=0),l.append(c.toString());let f=t.getFinderPattern().getResultPoints(),h=n.getFinderPattern().getResultPoints();return new ze(l.toString(),null,0,[f[0],f[1],h[0],h[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(t,n){let a=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,a===s}decodePair(t,n,a,s){try{let l=this.findFinderPattern(t,n),c=this.parseFoundFinderPattern(t,a,n,l),f=s==null?null:s.get(Y.NEED_RESULT_POINT_CALLBACK);if(f!=null){let b=(l[0]+l[1])/2;n&&(b=t.getSize()-1-b),f.foundPossibleResultPoint(new he(b,a))}let h=this.decodeDataCharacter(t,c,!0),x=this.decodeDataCharacter(t,c,!1);return new mg(1597*h.getValue()+x.getValue(),h.getChecksumPortion()+4*x.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,n,a){let s=this.getDataCharacterCounters();for(let G=0;G<s.length;G++)s[G]=0;if(a)gt.recordPatternInReverse(t,n.getStartEnd()[0],s);else{gt.recordPattern(t,n.getStartEnd()[1]+1,s);for(let G=0,Q=s.length-1;G<Q;G++,Q--){let ve=s[G];s[G]=s[Q],s[Q]=ve}}let l=a?16:15,c=Ve.sum(new Int32Array(s))/l,f=this.getOddCounts(),h=this.getEvenCounts(),x=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let G=0;G<s.length;G++){let Q=s[G]/c,ve=Math.floor(Q+.5);ve<1?ve=1:ve>8&&(ve=8);let we=Math.floor(G/2);G&1?(h[we]=ve,b[we]=Q-ve):(f[we]=ve,x[we]=Q-ve)}this.adjustOddEvenCounts(a,l);let C=0,S=0;for(let G=f.length-1;G>=0;G--)S*=9,S+=f[G],C+=f[G];let M=0,F=0;for(let G=h.length-1;G>=0;G--)M*=9,M+=h[G],F+=h[G];let j=S+3*M;if(a){if(C&1||C>12||C<4)throw new R;let G=(12-C)/2,Q=tr.OUTSIDE_ODD_WIDEST[G],ve=9-Q,we=Or.getRSSvalue(f,Q,!1),xe=Or.getRSSvalue(h,ve,!0),bt=tr.OUTSIDE_EVEN_TOTAL_SUBSET[G],ct=tr.OUTSIDE_GSUM[G];return new On(we*bt+xe+ct,j)}else{if(F&1||F>10||F<4)throw new R;let G=(10-F)/2,Q=tr.INSIDE_ODD_WIDEST[G],ve=9-Q,we=Or.getRSSvalue(f,Q,!0),xe=Or.getRSSvalue(h,ve,!1),bt=tr.INSIDE_ODD_TOTAL_SUBSET[G],ct=tr.INSIDE_GSUM[G];return new On(xe*bt+we+ct,j)}}findFinderPattern(t,n){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let s=t.getSize(),l=!1,c=0;for(;c<s&&(l=!t.get(c),n!==l);)c++;let f=0,h=c;for(let x=c;x<s;x++)if(t.get(x)!==l)a[f]++;else{if(f===3){if(Qt.isFinderPattern(a))return[h,x];h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,l=!l}throw new R}parseFoundFinderPattern(t,n,a,s){let l=t.get(s[0]),c=s[0]-1;for(;c>=0&&l!==t.get(c);)c--;c++;const f=s[0]-c,h=this.getDecodeFinderCounters(),x=new Int32Array(h.length);D.arraycopy(h,0,x,1,h.length-1),x[0]=f;const b=this.parseFinderValue(x,tr.FINDER_PATTERNS);let C=c,S=s[1];return a&&(C=t.getSize()-1-C,S=t.getSize()-1-S),new gi(b,[c,s[1]],C,S,n)}adjustOddEvenCounts(t,n){let a=Ve.sum(new Int32Array(this.getOddCounts())),s=Ve.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,f=!1,h=!1;t?(a>12?c=!0:a<4&&(l=!0),s>12?h=!0:s<4&&(f=!0)):(a>11?c=!0:a<5&&(l=!0),s>10?h=!0:s<4&&(f=!0));let x=a+s-n,b=(a&1)===(t?1:0),C=(s&1)===1;if(x===1)if(b){if(C)throw new R;c=!0}else{if(!C)throw new R;h=!0}else if(x===-1)if(b){if(C)throw new R;l=!0}else{if(!C)throw new R;f=!0}else if(x===0){if(b){if(!C)throw new R;a<s?(l=!0,h=!0):(c=!0,f=!0)}else if(C)throw new R}else throw new R;if(l){if(c)throw new R;Qt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Qt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new R;Qt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Qt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tr.OUTSIDE_GSUM=[0,161,961,2015,2715],tr.INSIDE_GSUM=[0,336,1036,1516],tr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tr.INSIDE_ODD_WIDEST=[2,4,6,8],tr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Pa extends gt{constructor(t,n){super(),this.readers=[],this.verbose=n===!0;const a=t?t.get(Y.POSSIBLE_FORMATS):null,s=t&&t.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ue.EAN_13)||a.includes(ue.UPC_A)||a.includes(ue.EAN_8)||a.includes(ue.UPC_E))&&this.readers.push(new Nn(t)),a.includes(ue.CODE_39)&&this.readers.push(new mt(s)),a.includes(ue.CODE_128)&&this.readers.push(new ie),a.includes(ue.ITF)&&this.readers.push(new lt),a.includes(ue.RSS_14)&&this.readers.push(new tr),a.includes(ue.RSS_EXPANDED)&&this.readers.push(new fe(this.verbose))):(this.readers.push(new Nn(t)),this.readers.push(new mt),this.readers.push(new Nn(t)),this.readers.push(new ie),this.readers.push(new lt),this.readers.push(new tr),this.readers.push(new fe(this.verbose)))}decodeRow(t,n,a){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,n,a)}catch{}throw new R}reset(){this.readers.forEach(t=>t.reset())}}class yg extends Ze{constructor(t=500,n){super(new Pa(n),t,n)}}class Rt{constructor(t,n,a){this.ecCodewords=t,this.ecBlocks=[n],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ot{constructor(t,n){this.count=t,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(t,n,a,s,l,c){this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=a,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=c;let f=0;const h=c.getECCodewords(),x=c.getECBlocks();for(let b of x)f+=b.getCount()*(b.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,n){if(t&1||n&1)throw new B;for(let a of _t.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===n)return a;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new _t(1,10,10,8,8,new Rt(5,new Ot(1,3))),new _t(2,12,12,10,10,new Rt(7,new Ot(1,5))),new _t(3,14,14,12,12,new Rt(10,new Ot(1,8))),new _t(4,16,16,14,14,new Rt(12,new Ot(1,12))),new _t(5,18,18,16,16,new Rt(14,new Ot(1,18))),new _t(6,20,20,18,18,new Rt(18,new Ot(1,22))),new _t(7,22,22,20,20,new Rt(20,new Ot(1,30))),new _t(8,24,24,22,22,new Rt(24,new Ot(1,36))),new _t(9,26,26,24,24,new Rt(28,new Ot(1,44))),new _t(10,32,32,14,14,new Rt(36,new Ot(1,62))),new _t(11,36,36,16,16,new Rt(42,new Ot(1,86))),new _t(12,40,40,18,18,new Rt(48,new Ot(1,114))),new _t(13,44,44,20,20,new Rt(56,new Ot(1,144))),new _t(14,48,48,22,22,new Rt(68,new Ot(1,174))),new _t(15,52,52,24,24,new Rt(42,new Ot(2,102))),new _t(16,64,64,14,14,new Rt(56,new Ot(2,140))),new _t(17,72,72,16,16,new Rt(36,new Ot(4,92))),new _t(18,80,80,18,18,new Rt(48,new Ot(4,114))),new _t(19,88,88,20,20,new Rt(56,new Ot(4,144))),new _t(20,96,96,22,22,new Rt(68,new Ot(4,174))),new _t(21,104,104,24,24,new Rt(56,new Ot(6,136))),new _t(22,120,120,18,18,new Rt(68,new Ot(6,175))),new _t(23,132,132,20,20,new Rt(62,new Ot(8,163))),new _t(24,144,144,22,22,new Rt(62,new Ot(8,156),new Ot(2,155))),new _t(25,8,18,6,16,new Rt(7,new Ot(1,5))),new _t(26,8,32,6,14,new Rt(11,new Ot(1,10))),new _t(27,12,26,10,24,new Rt(14,new Ot(1,16))),new _t(28,12,36,10,16,new Rt(18,new Ot(1,22))),new _t(29,16,36,14,16,new Rt(24,new Ot(1,32))),new _t(30,16,48,14,22,new Rt(28,new Ot(1,49)))]}}_t.VERSIONS=_t.buildVersions();class Bl{constructor(t){const n=t.getHeight();if(n<8||n>144||n&1)throw new B;this.version=Bl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const n=t.getHeight(),a=t.getWidth();return _t.getVersionForDimensions(n,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let n=0,a=4,s=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let f=!1,h=!1,x=!1,b=!1;do if(a===l&&s===0&&!f)t[n++]=this.readCorner1(l,c)&255,a-=2,s+=2,f=!0;else if(a===l-2&&s===0&&c&3&&!h)t[n++]=this.readCorner2(l,c)&255,a-=2,s+=2,h=!0;else if(a===l+4&&s===2&&!(c&7)&&!x)t[n++]=this.readCorner3(l,c)&255,a-=2,s+=2,x=!0;else if(a===l-2&&s===0&&(c&7)===4&&!b)t[n++]=this.readCorner4(l,c)&255,a-=2,s+=2,b=!0;else{do a<l&&s>=0&&!this.readMappingMatrix.get(s,a)&&(t[n++]=this.readUtah(a,s,l,c)&255),a-=2,s+=2;while(a>=0&&s<c);a+=1,s+=3;do a>=0&&s<c&&!this.readMappingMatrix.get(s,a)&&(t[n++]=this.readUtah(a,s,l,c)&255),a+=2,s-=2;while(a<l&&s>=0);a+=3,s+=1}while(a<l||s<c);if(n!==this.version.getTotalCodewords())throw new B;return t}readModule(t,n,a,s){return t<0&&(t+=a,n+=4-(a+4&7)),n<0&&(n+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)}readUtah(t,n,a,s){let l=0;return this.readModule(t-2,n-2,a,s)&&(l|=1),l<<=1,this.readModule(t-2,n-1,a,s)&&(l|=1),l<<=1,this.readModule(t-1,n-2,a,s)&&(l|=1),l<<=1,this.readModule(t-1,n-1,a,s)&&(l|=1),l<<=1,this.readModule(t-1,n,a,s)&&(l|=1),l<<=1,this.readModule(t,n-2,a,s)&&(l|=1),l<<=1,this.readModule(t,n-1,a,s)&&(l|=1),l<<=1,this.readModule(t,n,a,s)&&(l|=1),l}readCorner1(t,n){let a=0;return this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,1,t,n)&&(a|=1),a<<=1,this.readModule(t-1,2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(2,n-1,t,n)&&(a|=1),a<<=1,this.readModule(3,n-1,t,n)&&(a|=1),a}readCorner2(t,n){let a=0;return this.readModule(t-3,0,t,n)&&(a|=1),a<<=1,this.readModule(t-2,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(0,n-4,t,n)&&(a|=1),a<<=1,this.readModule(0,n-3,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a}readCorner3(t,n){let a=0;return this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(0,n-3,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-3,t,n)&&(a|=1),a<<=1,this.readModule(1,n-2,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a}readCorner4(t,n){let a=0;return this.readModule(t-3,0,t,n)&&(a|=1),a<<=1,this.readModule(t-2,0,t,n)&&(a|=1),a<<=1,this.readModule(t-1,0,t,n)&&(a|=1),a<<=1,this.readModule(0,n-2,t,n)&&(a|=1),a<<=1,this.readModule(0,n-1,t,n)&&(a|=1),a<<=1,this.readModule(1,n-1,t,n)&&(a|=1),a<<=1,this.readModule(2,n-1,t,n)&&(a|=1),a<<=1,this.readModule(3,n-1,t,n)&&(a|=1),a}extractDataRegion(t){const n=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new A("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=n/s|0,f=a/l|0,h=c*s,x=f*l,b=new ce(x,h);for(let C=0;C<c;++C){const S=C*s;for(let M=0;M<f;++M){const F=M*l;for(let j=0;j<s;++j){const G=C*(s+2)+1+j,Q=S+j;for(let ve=0;ve<l;++ve){const we=M*(l+2)+1+ve;if(t.get(we,G)){const xe=F+ve;b.set(xe,Q)}}}}}return b}}class Fl{constructor(t,n){this.numDataCodewords=t,this.codewords=n}static getDataBlocks(t,n){const a=n.getECBlocks();let s=0;const l=a.getECBlocks();for(let j of l)s+=j.getCount();const c=new Array(s);let f=0;for(let j of l)for(let G=0;G<j.getCount();G++){const Q=j.getDataCodewords(),ve=a.getECCodewords()+Q;c[f++]=new Fl(Q,new Uint8Array(ve))}const x=c[0].codewords.length-a.getECCodewords(),b=x-1;let C=0;for(let j=0;j<b;j++)for(let G=0;G<f;G++)c[G].codewords[j]=t[C++];const S=n.getVersionNumber()===24,M=S?8:f;for(let j=0;j<M;j++)c[j].codewords[x-1]=t[C++];const F=c[0].codewords.length;for(let j=x;j<F;j++)for(let G=0;G<f;G++){const Q=S?(G+8)%f:G,ve=S&&Q>7?j-1:j;c[Q].codewords[ve]=t[C++]}if(C!==t.length)throw new A;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ul{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new A(""+t);let n=0,a=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(a>0){const c=8-a,f=t<c?t:c,h=c-f,x=255>>8-f<<h;n=(l[s]&x)>>h,t-=f,a+=f,a===8&&(a=0,s++)}if(t>0){for(;t>=8;)n=n<<8|l[s]&255,s++,t-=8;if(t>0){const c=8-t,f=255>>c<<c;n=n<<t|(l[s]&f)>>c,a+=t}}return this.bitOffset=a,this.byteOffset=s,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var dr;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(dr||(dr={}));class Mi{static decode(t){const n=new Ul(t),a=new ne,s=new ne,l=new Array;let c=dr.ASCII_ENCODE;do if(c===dr.ASCII_ENCODE)c=this.decodeAsciiSegment(n,a,s);else{switch(c){case dr.C40_ENCODE:this.decodeC40Segment(n,a);break;case dr.TEXT_ENCODE:this.decodeTextSegment(n,a);break;case dr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,a);break;case dr.EDIFACT_ENCODE:this.decodeEdifactSegment(n,a);break;case dr.BASE256_ENCODE:this.decodeBase256Segment(n,a,l);break;default:throw new B}c=dr.ASCII_ENCODE}while(c!==dr.PAD_ENCODE&&n.available()>0);return s.length()>0&&a.append(s.toString()),new it(t,a.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,n,a){let s=!1;do{let l=t.readBits(8);if(l===0)throw new B;if(l<=128)return s&&(l+=128),n.append(String.fromCharCode(l-1)),dr.ASCII_ENCODE;if(l===129)return dr.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&n.append("0"),n.append(""+c)}else switch(l){case 230:return dr.C40_ENCODE;case 231:return dr.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),a.insert(0,"");break;case 237:n.append("[)>06"),a.insert(0,"");break;case 238:return dr.ANSIX12_ENCODE;case 239:return dr.TEXT_ENCODE;case 240:return dr.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new B;break}}while(t.available()>0);return dr.ASCII_ENCODE}static decodeC40Segment(t,n){let a=!1;const s=[];let l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let f=0;f<3;f++){const h=s[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[h];a?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):n.append(x)}else throw new B;break;case 1:a?(n.append(String.fromCharCode(h+128)),a=!1):n.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[h];a?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):n.append(x)}else switch(h){case 27:n.append("");break;case 30:a=!0;break;default:throw new B}l=0;break;case 3:a?(n.append(String.fromCharCode(h+224)),a=!1):n.append(String.fromCharCode(h+96)),l=0;break;default:throw new B}}}while(t.available()>0)}static decodeTextSegment(t,n){let a=!1,s=[],l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let f=0;f<3;f++){const h=s[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[h];a?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):n.append(x)}else throw new B;break;case 1:a?(n.append(String.fromCharCode(h+128)),a=!1):n.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[h];a?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):n.append(x)}else switch(h){case 27:n.append("");break;case 30:a=!0;break;default:throw new B}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[h];a?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):n.append(x),l=0}else throw new B;break;default:throw new B}}}while(t.available()>0)}static decodeAnsiX12Segment(t,n){const a=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(let l=0;l<3;l++){const c=a[l];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new B;break}}}while(t.available()>0)}static parseTwoBytes(t,n,a){let s=(t<<8)+n-1,l=Math.floor(s/1600);a[0]=l,s-=l*1600,l=Math.floor(s/40),a[1]=l,a[2]=s-l*40}static decodeEdifactSegment(t,n){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let s=t.readBits(6);if(s===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}s&32||(s|=64),n.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,n,a){let s=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),s++);let c;if(l===0?c=t.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(t.readBits(8),s++),c<0)throw new B;const f=new Uint8Array(c);for(let h=0;h<c;h++){if(t.available()<8)throw new B;f[h]=this.unrandomize255State(t.readBits(8),s++)}a.push(f);try{n.append(oe.decode(f,re.ISO88591))}catch(h){throw new be("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,n){const a=149*n%255+1,s=t-a;return s>=0?s:s+256}}Mi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Mi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Mi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Mi.TEXT_SHIFT2_SET_CHARS=Mi.C40_SHIFT2_SET_CHARS,Mi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class vg{constructor(){this.rsDecoder=new Ie(Le.DATA_MATRIX_FIELD_256)}decode(t){const n=new Bl(t),a=n.getVersion(),s=n.readCodewords(),l=Fl.getDataBlocks(s,a);let c=0;for(let x of l)c+=x.getNumDataCodewords();const f=new Uint8Array(c),h=l.length;for(let x=0;x<h;x++){const b=l[x],C=b.getCodewords(),S=b.getNumDataCodewords();this.correctErrors(C,S);for(let M=0;M<S;M++)f[M*h+x]=C[M]}return Mi.decode(f)}correctErrors(t,n){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-n)}catch{throw new O}for(let s=0;s<n;s++)t[s]=a[s]}}class ar{constructor(t){this.image=t,this.rectangleDetector=new Qe(this.image)}detect(){const t=this.rectangleDetector.detect();let n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new R;n=this.shiftToModuleCenter(n);const a=n[0],s=n[1],l=n[2],c=n[3];let f=this.transitionsBetween(a,c)+1,h=this.transitionsBetween(l,c)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let x=ar.sampleGrid(this.image,a,s,l,c,f,h);return new Ee(x,[a,s,l,c])}static shiftPoint(t,n,a){let s=(n.getX()-t.getX())/(a+1),l=(n.getY()-t.getY())/(a+1);return new he(t.getX()+s,t.getY()+l)}static moveAway(t,n,a){let s=t.getX(),l=t.getY();return s<n?s-=1:s+=1,l<a?l-=1:l+=1,new he(s,l)}detectSolid1(t){let n=t[0],a=t[1],s=t[3],l=t[2],c=this.transitionsBetween(n,a),f=this.transitionsBetween(a,s),h=this.transitionsBetween(s,l),x=this.transitionsBetween(l,n),b=c,C=[l,n,a,s];return b>f&&(b=f,C[0]=n,C[1]=a,C[2]=s,C[3]=l),b>h&&(b=h,C[0]=a,C[1]=s,C[2]=l,C[3]=n),b>x&&(C[0]=s,C[1]=l,C[2]=n,C[3]=a),C}detectSolid2(t){let n=t[0],a=t[1],s=t[2],l=t[3],c=this.transitionsBetween(n,l),f=ar.shiftPoint(a,s,(c+1)*4),h=ar.shiftPoint(s,a,(c+1)*4),x=this.transitionsBetween(f,n),b=this.transitionsBetween(h,l);return x<b?(t[0]=n,t[1]=a,t[2]=s,t[3]=l):(t[0]=a,t[1]=s,t[2]=l,t[3]=n),t}correctTopRight(t){let n=t[0],a=t[1],s=t[2],l=t[3],c=this.transitionsBetween(n,l),f=this.transitionsBetween(a,l),h=ar.shiftPoint(n,a,(f+1)*4),x=ar.shiftPoint(s,a,(c+1)*4);c=this.transitionsBetween(h,l),f=this.transitionsBetween(x,l);let b=new he(l.getX()+(s.getX()-a.getX())/(c+1),l.getY()+(s.getY()-a.getY())/(c+1)),C=new he(l.getX()+(n.getX()-a.getX())/(f+1),l.getY()+(n.getY()-a.getY())/(f+1));if(!this.isValid(b))return this.isValid(C)?C:null;if(!this.isValid(C))return b;let S=this.transitionsBetween(h,b)+this.transitionsBetween(x,b),M=this.transitionsBetween(h,C)+this.transitionsBetween(x,C);return S>M?b:C}shiftToModuleCenter(t){let n=t[0],a=t[1],s=t[2],l=t[3],c=this.transitionsBetween(n,l)+1,f=this.transitionsBetween(s,l)+1,h=ar.shiftPoint(n,a,f*4),x=ar.shiftPoint(s,a,c*4);c=this.transitionsBetween(h,l)+1,f=this.transitionsBetween(x,l)+1,(c&1)===1&&(c+=1),(f&1)===1&&(f+=1);let b=(n.getX()+a.getX()+s.getX()+l.getX())/4,C=(n.getY()+a.getY()+s.getY()+l.getY())/4;n=ar.moveAway(n,b,C),a=ar.moveAway(a,b,C),s=ar.moveAway(s,b,C),l=ar.moveAway(l,b,C);let S,M;return h=ar.shiftPoint(n,a,f*4),h=ar.shiftPoint(h,l,c*4),S=ar.shiftPoint(a,n,f*4),S=ar.shiftPoint(S,s,c*4),x=ar.shiftPoint(s,l,f*4),x=ar.shiftPoint(x,a,c*4),M=ar.shiftPoint(l,s,f*4),M=ar.shiftPoint(M,n,c*4),[h,S,x,M]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,n,a,s,l,c,f){return St.getInstance().sampleGrid(t,c,f,.5,.5,c-.5,.5,c-.5,f-.5,.5,f-.5,n.getX(),n.getY(),l.getX(),l.getY(),s.getX(),s.getY(),a.getX(),a.getY())}transitionsBetween(t,n){let a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),l=Math.trunc(n.getX()),c=Math.trunc(n.getY()),f=Math.abs(c-s)>Math.abs(l-a);if(f){let j=a;a=s,s=j,j=l,l=c,c=j}let h=Math.abs(l-a),x=Math.abs(c-s),b=-h/2,C=s<c?1:-1,S=a<l?1:-1,M=0,F=this.image.get(f?s:a,f?a:s);for(let j=a,G=s;j!==l;j+=S){let Q=this.image.get(f?G:j,f?j:G);if(Q!==F&&(M++,F=Q),b+=x,b>0){if(G===c)break;G+=C,b-=h}}return M}}class Ri{constructor(){this.decoder=new vg}decode(t,n=null){let a,s;if(n!=null&&n.has(Y.PURE_BARCODE)){const x=Ri.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(x),s=Ri.NO_POINTS}else{const x=new ar(t.getBlackMatrix()).detect();a=this.decoder.decode(x.getBits()),s=x.getPoints()}const l=a.getRawBytes(),c=new ze(a.getText(),l,8*l.length,s,ue.DATA_MATRIX,D.currentTimeMillis()),f=a.getByteSegments();f!=null&&c.putMetadata(tt.BYTE_SEGMENTS,f);const h=a.getECLevel();return h!=null&&c.putMetadata(tt.ERROR_CORRECTION_LEVEL,h),c}reset(){}static extractPureBits(t){const n=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(n==null||a==null)throw new R;const s=this.moduleSize(n,t);let l=n[1];const c=a[1];let f=n[0];const x=(a[0]-f+1)/s,b=(c-l+1)/s;if(x<=0||b<=0)throw new R;const C=s/2;l+=C,f+=C;const S=new ce(x,b);for(let M=0;M<b;M++){const F=l+M*s;for(let j=0;j<x;j++)t.get(f+j*s,F)&&S.set(j,M)}return S}static moduleSize(t,n){const a=n.getWidth();let s=t[0];const l=t[1];for(;s<a&&n.get(s,l);)s++;if(s===a)throw new R;const c=s-t[0];if(c===0)throw new R;return c}}Ri.NO_POINTS=[];class bg extends Ze{constructor(t=500){super(new Ri,t)}}var La;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(La||(La={}));class jt{constructor(t,n,a){this.value=t,this.stringValue=n,this.bits=a,jt.FOR_BITS.set(a,this),jt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return jt.L;case"M":return jt.M;case"Q":return jt.Q;case"H":return jt.H;default:throw new v(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof jt))return!1;const n=t;return this.value===n.value}static forBits(t){if(t<0||t>=jt.FOR_BITS.size)throw new A;return jt.FOR_BITS.get(t)}}jt.FOR_BITS=new Map,jt.FOR_VALUE=new Map,jt.L=new jt(La.L,"L",1),jt.M=new jt(La.M,"M",0),jt.Q=new jt(La.Q,"Q",3),jt.H=new jt(La.H,"H",2);class Mr{constructor(t){this.errorCorrectionLevel=jt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,n){return L.bitCount(t^n)}static decodeFormatInformation(t,n){const a=Mr.doDecodeFormatInformation(t,n);return a!==null?a:Mr.doDecodeFormatInformation(t^Mr.FORMAT_INFO_MASK_QR,n^Mr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,n){let a=Number.MAX_SAFE_INTEGER,s=0;for(const l of Mr.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===t||c===n)return new Mr(l[1]);let f=Mr.numBitsDiffering(t,c);f<a&&(s=l[1],a=f),t!==n&&(f=Mr.numBitsDiffering(n,c),f<a&&(s=l[1],a=f))}return a<=3?new Mr(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Mr))return!1;const n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Mr.FORMAT_INFO_MASK_QR=21522,Mr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(t,...n){this.ecCodewordsPerBlock=t,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const n=this.ecBlocks;for(const a of n)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class N{constructor(t,n){this.count=t,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(t,n,...a){this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=a;let s=0;const l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();for(const f of c)s+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new B;try{return this.getVersionForNumber((t-17)/4)}catch{throw new B}}static getVersionForNumber(t){if(t<1||t>40)throw new A;return We.VERSIONS[t-1]}static decodeVersionInformation(t){let n=Number.MAX_SAFE_INTEGER,a=0;for(let s=0;s<We.VERSION_DECODE_INFO.length;s++){const l=We.VERSION_DECODE_INFO[s];if(l===t)return We.getVersionForNumber(s+7);const c=Mr.numBitsDiffering(t,l);c<n&&(a=s+7,n=c)}return n<=3?We.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),n=new ce(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let s=0;s<a;s++){const l=this.alignmentPatternCenters[s]-2;for(let c=0;c<a;c++)s===0&&(c===0||c===a-1)||s===a-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n}toString(){return""+this.versionNumber}}We.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),We.VERSIONS=[new We(1,new Int32Array(0),new X(7,new N(1,19)),new X(10,new N(1,16)),new X(13,new N(1,13)),new X(17,new N(1,9))),new We(2,Int32Array.from([6,18]),new X(10,new N(1,34)),new X(16,new N(1,28)),new X(22,new N(1,22)),new X(28,new N(1,16))),new We(3,Int32Array.from([6,22]),new X(15,new N(1,55)),new X(26,new N(1,44)),new X(18,new N(2,17)),new X(22,new N(2,13))),new We(4,Int32Array.from([6,26]),new X(20,new N(1,80)),new X(18,new N(2,32)),new X(26,new N(2,24)),new X(16,new N(4,9))),new We(5,Int32Array.from([6,30]),new X(26,new N(1,108)),new X(24,new N(2,43)),new X(18,new N(2,15),new N(2,16)),new X(22,new N(2,11),new N(2,12))),new We(6,Int32Array.from([6,34]),new X(18,new N(2,68)),new X(16,new N(4,27)),new X(24,new N(4,19)),new X(28,new N(4,15))),new We(7,Int32Array.from([6,22,38]),new X(20,new N(2,78)),new X(18,new N(4,31)),new X(18,new N(2,14),new N(4,15)),new X(26,new N(4,13),new N(1,14))),new We(8,Int32Array.from([6,24,42]),new X(24,new N(2,97)),new X(22,new N(2,38),new N(2,39)),new X(22,new N(4,18),new N(2,19)),new X(26,new N(4,14),new N(2,15))),new We(9,Int32Array.from([6,26,46]),new X(30,new N(2,116)),new X(22,new N(3,36),new N(2,37)),new X(20,new N(4,16),new N(4,17)),new X(24,new N(4,12),new N(4,13))),new We(10,Int32Array.from([6,28,50]),new X(18,new N(2,68),new N(2,69)),new X(26,new N(4,43),new N(1,44)),new X(24,new N(6,19),new N(2,20)),new X(28,new N(6,15),new N(2,16))),new We(11,Int32Array.from([6,30,54]),new X(20,new N(4,81)),new X(30,new N(1,50),new N(4,51)),new X(28,new N(4,22),new N(4,23)),new X(24,new N(3,12),new N(8,13))),new We(12,Int32Array.from([6,32,58]),new X(24,new N(2,92),new N(2,93)),new X(22,new N(6,36),new N(2,37)),new X(26,new N(4,20),new N(6,21)),new X(28,new N(7,14),new N(4,15))),new We(13,Int32Array.from([6,34,62]),new X(26,new N(4,107)),new X(22,new N(8,37),new N(1,38)),new X(24,new N(8,20),new N(4,21)),new X(22,new N(12,11),new N(4,12))),new We(14,Int32Array.from([6,26,46,66]),new X(30,new N(3,115),new N(1,116)),new X(24,new N(4,40),new N(5,41)),new X(20,new N(11,16),new N(5,17)),new X(24,new N(11,12),new N(5,13))),new We(15,Int32Array.from([6,26,48,70]),new X(22,new N(5,87),new N(1,88)),new X(24,new N(5,41),new N(5,42)),new X(30,new N(5,24),new N(7,25)),new X(24,new N(11,12),new N(7,13))),new We(16,Int32Array.from([6,26,50,74]),new X(24,new N(5,98),new N(1,99)),new X(28,new N(7,45),new N(3,46)),new X(24,new N(15,19),new N(2,20)),new X(30,new N(3,15),new N(13,16))),new We(17,Int32Array.from([6,30,54,78]),new X(28,new N(1,107),new N(5,108)),new X(28,new N(10,46),new N(1,47)),new X(28,new N(1,22),new N(15,23)),new X(28,new N(2,14),new N(17,15))),new We(18,Int32Array.from([6,30,56,82]),new X(30,new N(5,120),new N(1,121)),new X(26,new N(9,43),new N(4,44)),new X(28,new N(17,22),new N(1,23)),new X(28,new N(2,14),new N(19,15))),new We(19,Int32Array.from([6,30,58,86]),new X(28,new N(3,113),new N(4,114)),new X(26,new N(3,44),new N(11,45)),new X(26,new N(17,21),new N(4,22)),new X(26,new N(9,13),new N(16,14))),new We(20,Int32Array.from([6,34,62,90]),new X(28,new N(3,107),new N(5,108)),new X(26,new N(3,41),new N(13,42)),new X(30,new N(15,24),new N(5,25)),new X(28,new N(15,15),new N(10,16))),new We(21,Int32Array.from([6,28,50,72,94]),new X(28,new N(4,116),new N(4,117)),new X(26,new N(17,42)),new X(28,new N(17,22),new N(6,23)),new X(30,new N(19,16),new N(6,17))),new We(22,Int32Array.from([6,26,50,74,98]),new X(28,new N(2,111),new N(7,112)),new X(28,new N(17,46)),new X(30,new N(7,24),new N(16,25)),new X(24,new N(34,13))),new We(23,Int32Array.from([6,30,54,78,102]),new X(30,new N(4,121),new N(5,122)),new X(28,new N(4,47),new N(14,48)),new X(30,new N(11,24),new N(14,25)),new X(30,new N(16,15),new N(14,16))),new We(24,Int32Array.from([6,28,54,80,106]),new X(30,new N(6,117),new N(4,118)),new X(28,new N(6,45),new N(14,46)),new X(30,new N(11,24),new N(16,25)),new X(30,new N(30,16),new N(2,17))),new We(25,Int32Array.from([6,32,58,84,110]),new X(26,new N(8,106),new N(4,107)),new X(28,new N(8,47),new N(13,48)),new X(30,new N(7,24),new N(22,25)),new X(30,new N(22,15),new N(13,16))),new We(26,Int32Array.from([6,30,58,86,114]),new X(28,new N(10,114),new N(2,115)),new X(28,new N(19,46),new N(4,47)),new X(28,new N(28,22),new N(6,23)),new X(30,new N(33,16),new N(4,17))),new We(27,Int32Array.from([6,34,62,90,118]),new X(30,new N(8,122),new N(4,123)),new X(28,new N(22,45),new N(3,46)),new X(30,new N(8,23),new N(26,24)),new X(30,new N(12,15),new N(28,16))),new We(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new N(3,117),new N(10,118)),new X(28,new N(3,45),new N(23,46)),new X(30,new N(4,24),new N(31,25)),new X(30,new N(11,15),new N(31,16))),new We(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new N(7,116),new N(7,117)),new X(28,new N(21,45),new N(7,46)),new X(30,new N(1,23),new N(37,24)),new X(30,new N(19,15),new N(26,16))),new We(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new N(5,115),new N(10,116)),new X(28,new N(19,47),new N(10,48)),new X(30,new N(15,24),new N(25,25)),new X(30,new N(23,15),new N(25,16))),new We(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new N(13,115),new N(3,116)),new X(28,new N(2,46),new N(29,47)),new X(30,new N(42,24),new N(1,25)),new X(30,new N(23,15),new N(28,16))),new We(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new N(17,115)),new X(28,new N(10,46),new N(23,47)),new X(30,new N(10,24),new N(35,25)),new X(30,new N(19,15),new N(35,16))),new We(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new N(17,115),new N(1,116)),new X(28,new N(14,46),new N(21,47)),new X(30,new N(29,24),new N(19,25)),new X(30,new N(11,15),new N(46,16))),new We(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new N(13,115),new N(6,116)),new X(28,new N(14,46),new N(23,47)),new X(30,new N(44,24),new N(7,25)),new X(30,new N(59,16),new N(1,17))),new We(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new N(12,121),new N(7,122)),new X(28,new N(12,47),new N(26,48)),new X(30,new N(39,24),new N(14,25)),new X(30,new N(22,15),new N(41,16))),new We(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new N(6,121),new N(14,122)),new X(28,new N(6,47),new N(34,48)),new X(30,new N(46,24),new N(10,25)),new X(30,new N(2,15),new N(64,16))),new We(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new N(17,122),new N(4,123)),new X(28,new N(29,46),new N(14,47)),new X(30,new N(49,24),new N(10,25)),new X(30,new N(24,15),new N(46,16))),new We(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new N(4,122),new N(18,123)),new X(28,new N(13,46),new N(32,47)),new X(30,new N(48,24),new N(14,25)),new X(30,new N(42,15),new N(32,16))),new We(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new N(20,117),new N(4,118)),new X(28,new N(40,47),new N(7,48)),new X(30,new N(43,24),new N(22,25)),new X(30,new N(10,15),new N(67,16))),new We(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new N(19,118),new N(6,119)),new X(28,new N(18,47),new N(31,48)),new X(30,new N(34,24),new N(34,25)),new X(30,new N(20,15),new N(61,16)))];var mr;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(mr||(mr={}));class mn{constructor(t,n){this.value=t,this.isMasked=n}unmaskBitMatrix(t,n){for(let a=0;a<n;a++)for(let s=0;s<n;s++)this.isMasked(a,s)&&t.flip(s,a)}}mn.values=new Map([[mr.DATA_MASK_000,new mn(mr.DATA_MASK_000,(E,t)=>(E+t&1)===0)],[mr.DATA_MASK_001,new mn(mr.DATA_MASK_001,(E,t)=>(E&1)===0)],[mr.DATA_MASK_010,new mn(mr.DATA_MASK_010,(E,t)=>t%3===0)],[mr.DATA_MASK_011,new mn(mr.DATA_MASK_011,(E,t)=>(E+t)%3===0)],[mr.DATA_MASK_100,new mn(mr.DATA_MASK_100,(E,t)=>(Math.floor(E/2)+Math.floor(t/3)&1)===0)],[mr.DATA_MASK_101,new mn(mr.DATA_MASK_101,(E,t)=>E*t%6===0)],[mr.DATA_MASK_110,new mn(mr.DATA_MASK_110,(E,t)=>E*t%6<3)],[mr.DATA_MASK_111,new mn(mr.DATA_MASK_111,(E,t)=>(E+t+E*t%3&1)===0)]]);class wg{constructor(t){const n=t.getHeight();if(n<21||(n&3)!==1)throw new B;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const n=this.bitMatrix.getHeight();let a=0;const s=n-7;for(let l=n-1;l>=s;l--)a=this.copyBit(8,l,a);for(let l=n-8;l<n;l++)a=this.copyBit(l,8,a);if(this.parsedFormatInfo=Mr.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return We.getVersionForNumber(n);let a=0;const s=t-11;for(let c=5;c>=0;c--)for(let f=t-9;f>=s;f--)a=this.copyBit(f,c,a);let l=We.decodeVersionInformation(a);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;a=0;for(let c=5;c>=0;c--)for(let f=t-9;f>=s;f--)a=this.copyBit(c,f,a);if(l=We.decodeVersionInformation(a),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new B}copyBit(t,n,a){return(this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),n=this.readVersion(),a=mn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,s);const l=n.buildFunctionPattern();let c=!0;const f=new Uint8Array(n.getTotalCodewords());let h=0,x=0,b=0;for(let C=s-1;C>0;C-=2){C===6&&C--;for(let S=0;S<s;S++){const M=c?s-1-S:S;for(let F=0;F<2;F++)l.get(C-F,M)||(b++,x<<=1,this.bitMatrix.get(C-F,M)&&(x|=1),b===8&&(f[h++]=x,b=0,x=0))}c=!c}if(h!==n.getTotalCodewords())throw new B;return f}remask(){if(this.parsedFormatInfo===null)return;const t=mn.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let n=0,a=t.getWidth();n<a;n++)for(let s=n+1,l=t.getHeight();s<l;s++)t.get(n,s)!==t.get(s,n)&&(t.flip(s,n),t.flip(n,s))}}class jl{constructor(t,n){this.numDataCodewords=t,this.codewords=n}static getDataBlocks(t,n,a){if(t.length!==n.getTotalCodewords())throw new A;const s=n.getECBlocksForLevel(a);let l=0;const c=s.getECBlocks();for(const F of c)l+=F.getCount();const f=new Array(l);let h=0;for(const F of c)for(let j=0;j<F.getCount();j++){const G=F.getDataCodewords(),Q=s.getECCodewordsPerBlock()+G;f[h++]=new jl(G,new Uint8Array(Q))}const x=f[0].codewords.length;let b=f.length-1;for(;b>=0&&f[b].codewords.length!==x;)b--;b++;const C=x-s.getECCodewordsPerBlock();let S=0;for(let F=0;F<C;F++)for(let j=0;j<h;j++)f[j].codewords[F]=t[S++];for(let F=b;F<h;F++)f[F].codewords[C]=t[S++];const M=f[0].codewords.length;for(let F=C;F<M;F++)for(let j=0;j<h;j++){const G=j<b?F:F+1;f[j].codewords[G]=t[S++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var yn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(yn||(yn={}));class Ke{constructor(t,n,a,s){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=a,this.bits=s,Ke.FOR_BITS.set(s,this),Ke.FOR_VALUE.set(t,this)}static forBits(t){const n=Ke.FOR_BITS.get(t);if(n===void 0)throw new A;return n}getCharacterCountBits(t){const n=t.getVersionNumber();let a;return n<=9?a=0:n<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ke))return!1;const n=t;return this.value===n.value}toString(){return this.stringValue}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.TERMINATOR=new Ke(yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ke.NUMERIC=new Ke(yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ke.ALPHANUMERIC=new Ke(yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ke.STRUCTURED_APPEND=new Ke(yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ke.BYTE=new Ke(yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ke.ECI=new Ke(yn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ke.KANJI=new Ke(yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ke.FNC1_FIRST_POSITION=new Ke(yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ke.FNC1_SECOND_POSITION=new Ke(yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ke.HANZI=new Ke(yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Jt{static decode(t,n,a,s){const l=new Ul(t);let c=new ne;const f=new Array;let h=-1,x=-1;try{let b=null,C=!1,S;do{if(l.available()<4)S=Ke.TERMINATOR;else{const M=l.readBits(4);S=Ke.forBits(M)}switch(S){case Ke.TERMINATOR:break;case Ke.FNC1_FIRST_POSITION:case Ke.FNC1_SECOND_POSITION:C=!0;break;case Ke.STRUCTURED_APPEND:if(l.available()<16)throw new B;h=l.readBits(8),x=l.readBits(8);break;case Ke.ECI:const M=Jt.parseECIValue(l);if(b=U.getCharacterSetECIByValue(M),b===null)throw new B;break;case Ke.HANZI:const F=l.readBits(4),j=l.readBits(S.getCharacterCountBits(n));F===Jt.GB2312_SUBSET&&Jt.decodeHanziSegment(l,c,j);break;default:const G=l.readBits(S.getCharacterCountBits(n));switch(S){case Ke.NUMERIC:Jt.decodeNumericSegment(l,c,G);break;case Ke.ALPHANUMERIC:Jt.decodeAlphanumericSegment(l,c,G,C);break;case Ke.BYTE:Jt.decodeByteSegment(l,c,G,b,f,s);break;case Ke.KANJI:Jt.decodeKanjiSegment(l,c,G);break;default:throw new B}break}}while(S!==Ke.TERMINATOR)}catch{throw new B}return new it(t,c.toString(),f.length===0?null:f,a===null?null:a.toString(),h,x)}static decodeHanziSegment(t,n,a){if(a*13>t.available())throw new B;const s=new Uint8Array(2*a);let l=0;for(;a>0;){const c=t.readBits(13);let f=c/96<<8&4294967295|c%96;f<959?f+=41377:f+=42657,s[l]=f>>8&255,s[l+1]=f&255,l+=2,a--}try{n.append(oe.decode(s,re.GB2312))}catch(c){throw new B(c)}}static decodeKanjiSegment(t,n,a){if(a*13>t.available())throw new B;const s=new Uint8Array(2*a);let l=0;for(;a>0;){const c=t.readBits(13);let f=c/192<<8&4294967295|c%192;f<7936?f+=33088:f+=49472,s[l]=f>>8,s[l+1]=f,l+=2,a--}try{n.append(oe.decode(s,re.SHIFT_JIS))}catch(c){throw new B(c)}}static decodeByteSegment(t,n,a,s,l,c){if(8*a>t.available())throw new B;const f=new Uint8Array(a);for(let x=0;x<a;x++)f[x]=t.readBits(8);let h;s===null?h=re.guessEncoding(f,c):h=s.getName();try{n.append(oe.decode(f,h))}catch(x){throw new B(x)}l.push(f)}static toAlphaNumericChar(t){if(t>=Jt.ALPHANUMERIC_CHARS.length)throw new B;return Jt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,n,a,s){const l=n.length();for(;a>1;){if(t.available()<11)throw new B;const c=t.readBits(11);n.append(Jt.toAlphaNumericChar(Math.floor(c/45))),n.append(Jt.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(t.available()<6)throw new B;n.append(Jt.toAlphaNumericChar(t.readBits(6)))}if(s)for(let c=l;c<n.length();c++)n.charAt(c)==="%"&&(c<n.length()-1&&n.charAt(c+1)==="%"?n.deleteCharAt(c+1):n.setCharAt(c,""))}static decodeNumericSegment(t,n,a){for(;a>=3;){if(t.available()<10)throw new B;const s=t.readBits(10);if(s>=1e3)throw new B;n.append(Jt.toAlphaNumericChar(Math.floor(s/100))),n.append(Jt.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(Jt.toAlphaNumericChar(s%10)),a-=3}if(a===2){if(t.available()<7)throw new B;const s=t.readBits(7);if(s>=100)throw new B;n.append(Jt.toAlphaNumericChar(Math.floor(s/10))),n.append(Jt.toAlphaNumericChar(s%10))}else if(a===1){if(t.available()<4)throw new B;const s=t.readBits(4);if(s>=10)throw new B;n.append(Jt.toAlphaNumericChar(s))}}static parseECIValue(t){const n=t.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const a=t.readBits(8);return(n&63)<<8&4294967295|a}if((n&224)===192){const a=t.readBits(16);return(n&31)<<16&4294967295|a}throw new B}}Jt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Jt.GB2312_SUBSET=1;class Qu{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const n=t[0];t[0]=t[2],t[2]=n}}class _g{constructor(){this.rsDecoder=new Ie(Le.QR_CODE_FIELD_256)}decodeBooleanArray(t,n){return this.decodeBitMatrix(ce.parseFromBooleanArray(t),n)}decodeBitMatrix(t,n){const a=new wg(t);let s=null;try{return this.decodeBitMatrixParser(a,n)}catch(l){s=l}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const l=this.decodeBitMatrixParser(a,n);return l.setOther(new Qu(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(t,n){const a=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),c=jl.getDataBlocks(l,a,s);let f=0;for(const b of c)f+=b.getNumDataCodewords();const h=new Uint8Array(f);let x=0;for(const b of c){const C=b.getCodewords(),S=b.getNumDataCodewords();this.correctErrors(C,S);for(let M=0;M<S;M++)h[x++]=C[M]}return Jt.decode(h,a,s,n)}correctErrors(t,n){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-n)}catch{throw new O}for(let s=0;s<n;s++)t[s]=a[s]}}class Hl extends he{constructor(t,n,a){super(t,n),this.estimatedModuleSize=a}aboutEquals(t,n,a){if(Math.abs(n-this.getY())<=t&&Math.abs(a-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,n,a){const s=(this.getX()+n)/2,l=(this.getY()+t)/2,c=(this.estimatedModuleSize+a)/2;return new Hl(s,l,c)}}class vo{constructor(t,n,a,s,l,c,f){this.image=t,this.startX=n,this.startY=a,this.width=s,this.height=l,this.moduleSize=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,n=this.height,a=this.width,s=t+a,l=this.startY+n/2,c=new Int32Array(3),f=this.image;for(let h=0;h<n;h++){const x=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));c[0]=0,c[1]=0,c[2]=0;let b=t;for(;b<s&&!f.get(b,x);)b++;let C=0;for(;b<s;){if(f.get(b,x))if(C===1)c[1]++;else if(C===2){if(this.foundPatternCross(c)){const S=this.handlePossibleCenter(c,x,b);if(S!==null)return S}c[0]=c[2],c[1]=1,c[2]=0,C=1}else c[++C]++;else C===1&&C++,c[C]++;b++}if(this.foundPatternCross(c)){const S=this.handlePossibleCenter(c,x,s);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new R}static centerFromEnd(t,n){return n-t[2]-t[1]/2}foundPatternCross(t){const n=this.moduleSize,a=n/2;for(let s=0;s<3;s++)if(Math.abs(n-t[s])>=a)return!1;return!0}crossCheckVertical(t,n,a,s){const l=this.image,c=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=t;for(;h>=0&&l.get(n,h)&&f[1]<=a;)f[1]++,h--;if(h<0||f[1]>a)return NaN;for(;h>=0&&!l.get(n,h)&&f[0]<=a;)f[0]++,h--;if(f[0]>a)return NaN;for(h=t+1;h<c&&l.get(n,h)&&f[1]<=a;)f[1]++,h++;if(h===c||f[1]>a)return NaN;for(;h<c&&!l.get(n,h)&&f[2]<=a;)f[2]++,h++;if(f[2]>a)return NaN;const x=f[0]+f[1]+f[2];return 5*Math.abs(x-s)>=2*s?NaN:this.foundPatternCross(f)?vo.centerFromEnd(f,h):NaN}handlePossibleCenter(t,n,a){const s=t[0]+t[1]+t[2],l=vo.centerFromEnd(t,a),c=this.crossCheckVertical(n,l,2*t[1],s);if(!isNaN(c)){const f=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(f,c,l))return x.combineEstimate(c,l,f);const h=new Hl(l,c,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class zl extends he{constructor(t,n,a,s){super(t,n),this.estimatedModuleSize=a,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,n,a){if(Math.abs(n-this.getY())<=t&&Math.abs(a-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,n,a){const s=this.count+1,l=(this.count*this.getX()+n)/s,c=(this.count*this.getY()+t)/s,f=(this.count*this.estimatedModuleSize+a)/s;return new zl(l,c,f,s)}}class Ag{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class yr{constructor(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const n=t!=null&&t.get(Y.TRY_HARDER)!==void 0,a=t!=null&&t.get(Y.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),c=s.getWidth();let f=Math.floor(3*l/(4*yr.MAX_MODULES));(f<yr.MIN_SKIP||n)&&(f=yr.MIN_SKIP);let h=!1;const x=new Int32Array(5);for(let C=f-1;C<l&&!h;C+=f){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let S=0;for(let M=0;M<c;M++)if(s.get(M,C))(S&1)===1&&S++,x[S]++;else if(S&1)x[S]++;else if(S===4)if(yr.foundPatternCross(x)){if(this.handlePossibleCenter(x,C,M,a)===!0)if(f=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>x[2]&&(C+=j-x[2]-f,M=c-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,S=3;continue}S=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,S=3;else x[++S]++;yr.foundPatternCross(x)&&this.handlePossibleCenter(x,C,c,a)===!0&&(f=x[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return he.orderBestPatterns(b),new Ag(b)}static centerFromEnd(t,n){return n-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let n=0;for(let l=0;l<5;l++){const c=t[l];if(c===0)return!1;n+=c}if(n<7)return!1;const a=n/7,s=a/2;return Math.abs(a-t[0])<s&&Math.abs(a-t[1])<s&&Math.abs(3*a-t[2])<3*s&&Math.abs(a-t[3])<s&&Math.abs(a-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,n,a,s){const l=this.getCrossCheckStateCount();let c=0;const f=this.image;for(;t>=c&&n>=c&&f.get(n-c,t-c);)l[2]++,c++;if(t<c||n<c)return!1;for(;t>=c&&n>=c&&!f.get(n-c,t-c)&&l[1]<=a;)l[1]++,c++;if(t<c||n<c||l[1]>a)return!1;for(;t>=c&&n>=c&&f.get(n-c,t-c)&&l[0]<=a;)l[0]++,c++;if(l[0]>a)return!1;const h=f.getHeight(),x=f.getWidth();for(c=1;t+c<h&&n+c<x&&f.get(n+c,t+c);)l[2]++,c++;if(t+c>=h||n+c>=x)return!1;for(;t+c<h&&n+c<x&&!f.get(n+c,t+c)&&l[3]<a;)l[3]++,c++;if(t+c>=h||n+c>=x||l[3]>=a)return!1;for(;t+c<h&&n+c<x&&f.get(n+c,t+c)&&l[4]<a;)l[4]++,c++;if(l[4]>=a)return!1;const b=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(b-s)<2*s&&yr.foundPatternCross(l)}crossCheckVertical(t,n,a,s){const l=this.image,c=l.getHeight(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(n,h);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(n,h)&&f[1]<=a;)f[1]++,h--;if(h<0||f[1]>a)return NaN;for(;h>=0&&l.get(n,h)&&f[0]<=a;)f[0]++,h--;if(f[0]>a)return NaN;for(h=t+1;h<c&&l.get(n,h);)f[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(n,h)&&f[3]<a;)f[3]++,h++;if(h===c||f[3]>=a)return NaN;for(;h<c&&l.get(n,h)&&f[4]<a;)f[4]++,h++;if(f[4]>=a)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-s)>=2*s?NaN:yr.foundPatternCross(f)?yr.centerFromEnd(f,h):NaN}crossCheckHorizontal(t,n,a,s){const l=this.image,c=l.getWidth(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,n);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,n)&&f[1]<=a;)f[1]++,h--;if(h<0||f[1]>a)return NaN;for(;h>=0&&l.get(h,n)&&f[0]<=a;)f[0]++,h--;if(f[0]>a)return NaN;for(h=t+1;h<c&&l.get(h,n);)f[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(h,n)&&f[3]<a;)f[3]++,h++;if(h===c||f[3]>=a)return NaN;for(;h<c&&l.get(h,n)&&f[4]<a;)f[4]++,h++;if(f[4]>=a)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-s)>=s?NaN:yr.foundPatternCross(f)?yr.centerFromEnd(f,h):NaN}handlePossibleCenter(t,n,a,s){const l=t[0]+t[1]+t[2]+t[3]+t[4];let c=yr.centerFromEnd(t,a),f=this.crossCheckVertical(n,Math.floor(c),t[2],l);if(!isNaN(f)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(f),t[2],l),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(f),Math.floor(c),t[2],l)))){const h=l/7;let x=!1;const b=this.possibleCenters;for(let C=0,S=b.length;C<S;C++){const M=b[C];if(M.aboutEquals(h,f,c)){b[C]=M.combineEstimate(f,c,h),x=!0;break}}if(!x){const C=new zl(c,f,h);b.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const a of this.possibleCenters)if(a.getCount()>=yr.CENTER_QUORUM)if(n==null)n=a;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-a.getX())-Math.abs(n.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,n=0;const a=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=yr.CENTER_QUORUM&&(t++,n+=c.getEstimatedModuleSize());if(t<3)return!1;const s=n/a;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-s);return l<=.05*n}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new R;const n=this.possibleCenters;let a;if(t>3){let s=0,l=0;for(const h of this.possibleCenters){const x=h.getEstimatedModuleSize();s+=x,l+=x*x}a=s/t;let c=Math.sqrt(l/t-a*a);n.sort((h,x)=>{const b=Math.abs(x.getEstimatedModuleSize()-a),C=Math.abs(h.getEstimatedModuleSize()-a);return b<C?-1:b>C?1:0});const f=Math.max(.2*a,c);for(let h=0;h<n.length&&n.length>3;h++){const x=n[h];Math.abs(x.getEstimatedModuleSize()-a)>f&&(n.splice(h,1),h--)}}if(n.length>3){let s=0;for(const l of n)s+=l.getEstimatedModuleSize();a=s/n.length,n.sort((l,c)=>{if(c.getCount()===l.getCount()){const f=Math.abs(c.getEstimatedModuleSize()-a),h=Math.abs(l.getEstimatedModuleSize()-a);return f<h?1:f>h?-1:0}else return c.getCount()-l.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}yr.CENTER_QUORUM=2,yr.MIN_SKIP=3,yr.MAX_MODULES=57;class Cs{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Y.NEED_RESULT_POINT_CALLBACK);const a=new yr(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const n=t.getTopLeft(),a=t.getTopRight(),s=t.getBottomLeft(),l=this.calculateModuleSize(n,a,s);if(l<1)throw new R("No pattern found in proccess finder.");const c=Cs.computeDimension(n,a,s,l),f=We.getProvisionalVersionForDimension(c),h=f.getDimensionForVersion()-7;let x=null;if(f.getAlignmentPatternCenters().length>0){const M=a.getX()-n.getX()+s.getX(),F=a.getY()-n.getY()+s.getY(),j=1-3/h,G=Math.floor(n.getX()+j*(M-n.getX())),Q=Math.floor(n.getY()+j*(F-n.getY()));for(let ve=4;ve<=16;ve<<=1)try{x=this.findAlignmentInRegion(l,G,Q,ve);break}catch(we){if(!(we instanceof R))throw we}}const b=Cs.createTransform(n,a,s,x,c),C=Cs.sampleGrid(this.image,b,c);let S;return x===null?S=[s,n,a]:S=[s,n,a,x],new Ee(C,S)}static createTransform(t,n,a,s,l){const c=l-3.5;let f,h,x,b;return s!==null?(f=s.getX(),h=s.getY(),x=c-3,b=x):(f=n.getX()-t.getX()+a.getX(),h=n.getY()-t.getY()+a.getY(),x=c,b=c),me.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,x,b,3.5,c,t.getX(),t.getY(),n.getX(),n.getY(),f,h,a.getX(),a.getY())}static sampleGrid(t,n,a){return St.getInstance().sampleGridWithTransform(t,a,a,n)}static computeDimension(t,n,a,s){const l=Ve.round(he.distance(t,n)/s),c=Ve.round(he.distance(t,a)/s);let f=Math.floor((l+c)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new R("Dimensions could be not found.")}return f}calculateModuleSize(t,n,a){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,n){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?s/7:isNaN(s)?a/7:(a+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,n,a,s){let l=this.sizeOfBlackWhiteBlackRun(t,n,a,s),c=1,f=t-(a-t);f<0?(c=t/(t-f),f=0):f>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let h=Math.floor(n-(s-n)*c);return c=1,h<0?(c=n/(n-h),h=0):h>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(h-n),h=this.image.getHeight()-1),f=Math.floor(t+(f-t)*c),l+=this.sizeOfBlackWhiteBlackRun(t,n,f,h),l-1}sizeOfBlackWhiteBlackRun(t,n,a,s){const l=Math.abs(s-n)>Math.abs(a-t);if(l){let M=t;t=n,n=M,M=a,a=s,s=M}const c=Math.abs(a-t),f=Math.abs(s-n);let h=-c/2;const x=t<a?1:-1,b=n<s?1:-1;let C=0;const S=a+x;for(let M=t,F=n;M!==S;M+=x){const j=l?F:M,G=l?M:F;if(C===1===this.image.get(j,G)){if(C===2)return Ve.distance(M,F,t,n);C++}if(h+=f,h>0){if(F===s)break;F+=b,h-=c}}return C===2?Ve.distance(a+x,s,t,n):NaN}findAlignmentInRegion(t,n,a,s){const l=Math.floor(s*t),c=Math.max(0,n-l),f=Math.min(this.image.getWidth()-1,n+l);if(f-c<t*3)throw new R("Alignment top exceeds estimated module size.");const h=Math.max(0,a-l),x=Math.min(this.image.getHeight()-1,a+l);if(x-h<t*3)throw new R("Alignment bottom exceeds estimated module size.");return new vo(this.image,c,h,f-c,x-h,t,this.resultPointCallback).find()}}class Di{constructor(){this.decoder=new _g}getDecoder(){return this.decoder}decode(t,n){let a,s;if(n!=null&&n.get(Y.PURE_BARCODE)!==void 0){const h=Di.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(h,n),s=Di.NO_POINTS}else{const h=new Cs(t.getBlackMatrix()).detect(n);a=this.decoder.decodeBitMatrix(h.getBits(),n),s=h.getPoints()}a.getOther()instanceof Qu&&a.getOther().applyMirroredCorrection(s);const l=new ze(a.getText(),a.getRawBytes(),void 0,s,ue.QR_CODE,void 0),c=a.getByteSegments();c!==null&&l.putMetadata(tt.BYTE_SEGMENTS,c);const f=a.getECLevel();return f!==null&&l.putMetadata(tt.ERROR_CORRECTION_LEVEL,f),a.hasStructuredAppend()&&(l.putMetadata(tt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),l.putMetadata(tt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const n=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(n===null||a===null)throw new R;const s=this.moduleSize(n,t);let l=n[1],c=a[1],f=n[0],h=a[0];if(f>=h||l>=c)throw new R;if(c-l!==h-f&&(h=f+(c-l),h>=t.getWidth()))throw new R;const x=Math.round((h-f+1)/s),b=Math.round((c-l+1)/s);if(x<=0||b<=0)throw new R;if(b!==x)throw new R;const C=Math.floor(s/2);l+=C,f+=C;const S=f+Math.floor((x-1)*s)-h;if(S>0){if(S>C)throw new R;f-=S}const M=l+Math.floor((b-1)*s)-c;if(M>0){if(M>C)throw new R;l-=M}const F=new ce(x,b);for(let j=0;j<b;j++){const G=l+Math.floor(j*s);for(let Q=0;Q<x;Q++)t.get(f+Math.floor(Q*s),G)&&F.set(Q,j)}return F}static moduleSize(t,n){const a=n.getHeight(),s=n.getWidth();let l=t[0],c=t[1],f=!0,h=0;for(;l<s&&c<a;){if(f!==n.get(l,c)){if(++h===5)break;f=!f}l++,c++}if(l===s||c===a)throw new R;return(l-t[0])/7}}Di.NO_POINTS=new Array;class rt{PDF417Common(){}static getBitCountSum(t){return Ve.sum(t)}static toIntArray(t){if(t==null||!t.length)return rt.EMPTY_INT_ARRAY;const n=new Int32Array(t.length);let a=0;for(const s of t)n[a++]=s;return n}static getCodeword(t){const n=W.binarySearch(rt.SYMBOL_TABLE,t&262143);return n<0?-1:(rt.CODEWORD_TABLE[n]-1)%rt.NUMBER_OF_CODEWORDS}}rt.NUMBER_OF_CODEWORDS=929,rt.MAX_CODEWORDS_IN_BARCODE=rt.NUMBER_OF_CODEWORDS-1,rt.MIN_ROWS_IN_BARCODE=3,rt.MAX_ROWS_IN_BARCODE=90,rt.MODULES_IN_CODEWORD=17,rt.MODULES_IN_STOP_PATTERN=18,rt.BARS_IN_MODULE=8,rt.EMPTY_INT_ARRAY=new Int32Array([]),rt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),rt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Eg{constructor(t,n){this.bits=t,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class pt{static detectMultiple(t,n,a){let s=t.getBlackMatrix(),l=pt.detect(a,s);return l.length||(s=s.clone(),s.rotate180(),l=pt.detect(a,s)),new Eg(s,l)}static detect(t,n){const a=new Array;let s=0,l=0,c=!1;for(;s<n.getHeight();){const f=pt.findVertices(n,s,l);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,l=0;for(const h of a)h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())));s+=pt.ROW_STEP;continue}if(c=!0,a.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),s=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY()))}return a}static findVertices(t,n,a){const s=t.getHeight(),l=t.getWidth(),c=new Array(8);return pt.copyToResult(c,pt.findRowsWithPattern(t,s,l,n,a,pt.START_PATTERN),pt.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),pt.copyToResult(c,pt.findRowsWithPattern(t,s,l,n,a,pt.STOP_PATTERN),pt.INDEXES_STOP_PATTERN),c}static copyToResult(t,n,a){for(let s=0;s<a.length;s++)t[a[s]]=n[s]}static findRowsWithPattern(t,n,a,s,l,c){const f=new Array(4);let h=!1;const x=new Int32Array(c.length);for(;s<n;s+=pt.ROW_STEP){let C=pt.findGuardPattern(t,l,s,a,!1,c,x);if(C!=null){for(;s>0;){const S=pt.findGuardPattern(t,l,--s,a,!1,c,x);if(S!=null)C=S;else{s++;break}}f[0]=new he(C[0],s),f[1]=new he(C[1],s),h=!0;break}}let b=s+1;if(h){let C=0,S=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;b<n;b++){const M=pt.findGuardPattern(t,S[0],b,a,!1,c,x);if(M!=null&&Math.abs(S[0]-M[0])<pt.MAX_PATTERN_DRIFT&&Math.abs(S[1]-M[1])<pt.MAX_PATTERN_DRIFT)S=M,C=0;else{if(C>pt.SKIPPED_ROW_COUNT_MAX)break;C++}}b-=C+1,f[2]=new he(S[0],b),f[3]=new he(S[1],b)}return b-s<pt.BARCODE_MIN_HEIGHT&&W.fill(f,null),f}static findGuardPattern(t,n,a,s,l,c,f){W.fillWithin(f,0,f.length,0);let h=n,x=0;for(;t.get(h,a)&&h>0&&x++<pt.MAX_PIXEL_DRIFT;)h--;let b=h,C=0,S=c.length;for(let M=l;b<s;b++)if(t.get(b,a)!==M)f[C]++;else{if(C===S-1){if(pt.patternMatchVariance(f,c,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return new Int32Array([h,b]);h+=f[0]+f[1],D.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,M=!M}return C===S-1&&pt.patternMatchVariance(f,c,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE?new Int32Array([h,b-1]):null}static patternMatchVariance(t,n,a){let s=t.length,l=0,c=0;for(let x=0;x<s;x++)l+=t[x],c+=n[x];if(l<c)return 1/0;let f=l/c;a*=f;let h=0;for(let x=0;x<s;x++){let b=t[x],C=n[x]*f,S=b>C?b-C:C-b;if(S>a)return 1/0;h+=S}return h/l}}pt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),pt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),pt.MAX_AVG_VARIANCE=.42,pt.MAX_INDIVIDUAL_VARIANCE=.8,pt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),pt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),pt.MAX_PIXEL_DRIFT=3,pt.MAX_PATTERN_DRIFT=5,pt.SKIPPED_ROW_COUNT_MAX=25,pt.ROW_STEP=5,pt.BARCODE_MIN_HEIGHT=10;class Er{constructor(t,n){if(n.length===0)throw new A;this.field=t;let a=n.length;if(a>1&&n[0]===0){let s=1;for(;s<a&&n[s]===0;)s++;s===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-s),D.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let n=this.coefficients[0],a=this.coefficients.length;for(let s=1;s<a;s++)n=this.field.add(this.field.multiply(t,n),this.coefficients[s]);return n}add(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let n=this.coefficients,a=t.coefficients;if(n.length>a.length){let c=n;n=a,a=c}let s=new Int32Array(a.length),l=a.length-n.length;D.arraycopy(a,0,s,0,l);for(let c=l;c<a.length;c++)s[c]=this.field.add(n[c-l],a[c]);return new Er(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Er?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Er(this.field,new Int32Array([0]));let n=this.coefficients,a=n.length,s=t.coefficients,l=s.length,c=new Int32Array(a+l-1);for(let f=0;f<a;f++){let h=n[f];for(let x=0;x<l;x++)c[f+x]=this.field.add(c[f+x],this.field.multiply(h,s[x]))}return new Er(this.field,c)}negative(){let t=this.coefficients.length,n=new Int32Array(t);for(let a=0;a<t;a++)n[a]=this.field.subtract(0,this.coefficients[a]);return new Er(this.field,n)}multiplyScalar(t){if(t===0)return new Er(this.field,new Int32Array([0]));if(t===1)return this;let n=this.coefficients.length,a=new Int32Array(n);for(let s=0;s<n;s++)a[s]=this.field.multiply(this.coefficients[s],t);return new Er(this.field,a)}multiplyByMonomial(t,n){if(t<0)throw new A;if(n===0)return new Er(this.field,new Int32Array([0]));let a=this.coefficients.length,s=new Int32Array(a+t);for(let l=0;l<a;l++)s[l]=this.field.multiply(this.coefficients[l],n);return new Er(this.field,s)}toString(){let t=new ne;for(let n=this.getDegree();n>=0;n--){let a=this.getCoefficient(n);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(n===0||a!==1)&&t.append(a),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()}}class Cg{add(t,n){return(t+n)%this.modulus}subtract(t,n){return(this.modulus+t-n)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new A;return this.logTable[t]}inverse(t){if(t===0)throw new Xe;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Vl extends Cg{constructor(t,n){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let s=0;s<t;s++)this.expTable[s]=a,a=a*n%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Er(this,new Int32Array([0])),this.one=new Er(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,n){if(t<0)throw new A;if(n===0)return this.zero;let a=new Int32Array(t+1);return a[0]=n,new Er(this,a)}}Vl.PDF417_GF=new Vl(rt.NUMBER_OF_CODEWORDS,3);class $u{constructor(){this.field=Vl.PDF417_GF}decode(t,n,a){let s=new Er(this.field,t),l=new Int32Array(n),c=!1;for(let F=n;F>0;F--){let j=s.evaluateAt(this.field.exp(F));l[n-F]=j,j!==0&&(c=!0)}if(!c)return 0;let f=this.field.getOne();if(a!=null)for(const F of a){let j=this.field.exp(t.length-1-F),G=new Er(this.field,new Int32Array([this.field.subtract(0,j),1]));f=f.multiply(G)}let h=new Er(this.field,l),x=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),h,n),b=x[0],C=x[1],S=this.findErrorLocations(b),M=this.findErrorMagnitudes(C,b,S);for(let F=0;F<S.length;F++){let j=t.length-1-this.field.log(S[F]);if(j<0)throw O.getChecksumInstance();t[j]=this.field.subtract(t[j],M[F])}return S.length}runEuclideanAlgorithm(t,n,a){if(t.getDegree()<n.getDegree()){let S=t;t=n,n=S}let s=t,l=n,c=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(a/2);){let S=s,M=c;if(s=l,c=f,s.isZero())throw O.getChecksumInstance();l=S;let F=this.field.getZero(),j=s.getCoefficient(s.getDegree()),G=this.field.inverse(j);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let Q=l.getDegree()-s.getDegree(),ve=this.field.multiply(l.getCoefficient(l.getDegree()),G);F=F.add(this.field.buildMonomial(Q,ve)),l=l.subtract(s.multiplyByMonomial(Q,ve))}f=F.multiply(c).subtract(M).negative()}let h=f.getCoefficient(0);if(h===0)throw O.getChecksumInstance();let x=this.field.inverse(h),b=f.multiply(x),C=l.multiply(x);return[b,C]}findErrorLocations(t){let n=t.getDegree(),a=new Int32Array(n),s=0;for(let l=1;l<this.field.getSize()&&s<n;l++)t.evaluateAt(l)===0&&(a[s]=this.field.inverse(l),s++);if(s!==n)throw O.getChecksumInstance();return a}findErrorMagnitudes(t,n,a){let s=n.getDegree(),l=new Int32Array(s);for(let x=1;x<=s;x++)l[s-x]=this.field.multiply(x,n.getCoefficient(x));let c=new Er(this.field,l),f=a.length,h=new Int32Array(f);for(let x=0;x<f;x++){let b=this.field.inverse(a[x]),C=this.field.subtract(0,t.evaluateAt(b)),S=this.field.inverse(c.evaluateAt(b));h[x]=this.field.multiply(C,S)}return h}}class na{constructor(t,n,a,s,l){t instanceof na?this.constructor_2(t):this.constructor_1(t,n,a,s,l)}constructor_1(t,n,a,s,l){const c=n==null||a==null,f=s==null||l==null;if(c&&f)throw new R;c?(n=new he(0,s.getY()),a=new he(0,l.getY())):f&&(s=new he(t.getWidth()-1,n.getY()),l=new he(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=n,this.bottomLeft=a,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(n.getX(),a.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(a.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,n){return t==null?n:n==null?t:new na(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(t,n,a){let s=this.topLeft,l=this.bottomLeft,c=this.topRight,f=this.bottomRight;if(t>0){let h=a?this.topLeft:this.topRight,x=Math.trunc(h.getY()-t);x<0&&(x=0);let b=new he(h.getX(),x);a?s=b:c=b}if(n>0){let h=a?this.bottomLeft:this.bottomRight,x=Math.trunc(h.getY()+n);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let b=new he(h.getX(),x);a?l=b:f=b}return new na(this.image,s,l,c,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Sg{constructor(t,n,a,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=a,this.rowCount=n+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ss{constructor(){this.buffer=""}static form(t,n){let a=-1;function s(c,f,h,x,b,C){if(c==="%%")return"%";if(n[++a]===void 0)return;c=x?parseInt(x.substr(1)):void 0;let S=b?parseInt(b.substr(1)):void 0,M;switch(C){case"s":M=n[a];break;case"c":M=n[a][0];break;case"f":M=parseFloat(n[a]).toFixed(c);break;case"p":M=parseFloat(n[a]).toPrecision(c);break;case"e":M=parseFloat(n[a]).toExponential(c);break;case"x":M=parseInt(n[a]).toString(S||16);break;case"d":M=parseFloat(parseInt(n[a],S||10).toPrecision(c)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(S);let F=parseInt(h),j=h&&h[0]+""=="0"?"0":" ";for(;M.length<F;)M=f!==void 0?M+j:j+M;return M}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}format(t,...n){this.buffer+=Ss.form(t,n)}toString(){return this.buffer}}class Is{constructor(t){this.boundingBox=new na(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let n=this.getCodeword(t);if(n!=null)return n;for(let a=1;a<Is.MAX_NEARBY_DISTANCE;a++){let s=this.imageRowToCodewordIndex(t)-a;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(t)+a,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ss;let n=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",n++);continue}t.format("%3d: %3d|%3d%n",n++,a.getRowNumber(),a.getValue())}return t.toString()}}Is.MAX_NEARBY_DISTANCE=5;class Ts{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)}getValue(){let t=-1,n=new Array;for(const[a,s]of this.values.entries()){const l={getKey:()=>a,getValue:()=>s};l.getValue()>t?(t=l.getValue(),n=[],n.push(l.getKey())):l.getValue()===t&&n.push(l.getKey())}return rt.toIntArray(n)}getConfidence(t){return this.values.get(t)}}class Ju extends Is{constructor(t,n){super(t),this._isLeft=n}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);let a=this.getBoundingBox(),s=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,x=1,b=0;for(let C=c;C<f;C++){if(n[C]==null)continue;let S=n[C],M=S.getRowNumber()-h;if(M===0)b++;else if(M===1)x=Math.max(x,b),b=1,h=S.getRowNumber();else if(M<0||S.getRowNumber()>=t.getRowCount()||M>C)n[C]=null;else{let F;x>2?F=(x-2)*M:F=M;let j=F>=C;for(let G=1;G<=F&&!j;G++)j=n[C-G]!=null;j?n[C]=null:(h=S.getRowNumber(),b=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let n=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let s=a.getRowNumber();if(s>=n.length)continue;n[s]++}return n}adjustIncompleteIndicatorColumnRowNumbers(t){let n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.getCodewords(),h=-1;for(let x=l;x<c;x++){if(f[x]==null)continue;let b=f[x];b.setRowNumberAsRowIndicatorColumn();let C=b.getRowNumber()-h;C===0||(C===1?h=b.getRowNumber():b.getRowNumber()>=t.getRowCount()?f[x]=null:h=b.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),n=new Ts,a=new Ts,s=new Ts,l=new Ts;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,x=f.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:a.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:n.setValue(h+1);break}}if(n.getValue().length===0||a.getValue().length===0||s.getValue().length===0||l.getValue().length===0||n.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<rt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>rt.MAX_ROWS_IN_BARCODE)return null;let c=new Sg(n.getValue()[0],a.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,n){for(let a=0;a<t.length;a++){let s=t[a];if(t[a]==null)continue;let l=s.getValue()%30,c=s.getRowNumber();if(c>n.getRowCount()){t[a]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==n.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(l/3)!==n.getErrorCorrectionLevel()||l%3!==n.getRowCountLowerPart())&&(t[a]=null);break;case 2:l+1!==n.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ks{constructor(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=rt.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let a=this.detectionResultColumns[n].getCodewords();for(let s=0;s<a.length;s++)a[s]!=null&&(a[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&n[a]!=null&&t[a].getRowNumber()===n[a].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[a];l!=null&&(l.setRowNumber(t[a].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<n.length;a++){if(n[a]==null)continue;let s=n[a].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let f=this.detectionResultColumns[c].getCodewords()[a];f!=null&&(l=ks.adjustRowNumberIfValid(s,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,n=this.detectionResultColumns[0].getCodewords();for(let a=0;a<n.length;a++){if(n[a]==null)continue;let s=n[a].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let f=this.detectionResultColumns[c].getCodewords()[a];f!=null&&(l=ks.adjustRowNumberIfValid(s,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,n,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),n=0):++n),n}adjustRowNumbers(t,n,a){if(!this.detectionResultColumns[t-1])return;let s=a[n],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[n],f[3]=c[n],n>0&&(f[0]=a[n-1],f[4]=l[n-1],f[5]=c[n-1]),n>1&&(f[8]=a[n-2],f[10]=l[n-2],f[11]=c[n-2]),n<a.length-1&&(f[1]=a[n+1],f[6]=l[n+1],f[7]=c[n+1]),n<a.length-2&&(f[9]=a[n+2],f[12]=l[n+2],f[13]=c[n+2]);for(let h of f)if(ks.adjustRowNumber(s,h))return}static adjustRowNumber(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,n){this.detectionResultColumns[t]=n}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Ss;for(let a=0;a<t.getCodewords().length;a++){n.format("CW %3d:",a);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[a];if(l==null){n.format("    |   ");continue}n.format(" %3d|%3d",l.getRowNumber(),l.getValue())}n.format("%n")}return n.toString()}}class Ns{constructor(t,n,a,s){this.rowNumber=Ns.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(a),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ns.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ns.BARCODE_ROW_UNKNOWN=-1;class Xr{static initialize(){for(let t=0;t<rt.SYMBOL_TABLE.length;t++){let n=rt.SYMBOL_TABLE[t],a=n&1;for(let s=0;s<rt.BARS_IN_MODULE;s++){let l=0;for(;(n&1)===a;)l+=1,n>>=1;a=n&1,Xr.RATIOS_TABLE[t]||(Xr.RATIOS_TABLE[t]=new Array(rt.BARS_IN_MODULE)),Xr.RATIOS_TABLE[t][rt.BARS_IN_MODULE-s-1]=Math.fround(l/rt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let n=Xr.getDecodedCodewordValue(Xr.sampleBitCounts(t));return n!==-1?n:Xr.getClosestDecodedValue(t)}static sampleBitCounts(t){let n=Ve.sum(t),a=new Int32Array(rt.BARS_IN_MODULE),s=0,l=0;for(let c=0;c<rt.MODULES_IN_CODEWORD;c++){let f=n/(2*rt.MODULES_IN_CODEWORD)+c*n/rt.MODULES_IN_CODEWORD;l+t[s]<=f&&(l+=t[s],s++),a[s]++}return a}static getDecodedCodewordValue(t){let n=Xr.getBitValue(t);return rt.getCodeword(n)===-1?-1:n}static getBitValue(t){let n=0;for(let a=0;a<t.length;a++)for(let s=0;s<t[a];s++)n=n<<1|(a%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(t){let n=Ve.sum(t),a=new Array(rt.BARS_IN_MODULE);if(n>1)for(let c=0;c<a.length;c++)a[c]=Math.fround(t[c]/n);let s=Re.MAX_VALUE,l=-1;this.bSymbolTableReady||Xr.initialize();for(let c=0;c<Xr.RATIOS_TABLE.length;c++){let f=0,h=Xr.RATIOS_TABLE[c];for(let x=0;x<rt.BARS_IN_MODULE;x++){let b=Math.fround(h[x]-a[x]);if(f+=Math.fround(b*b),f>=s)break}f<s&&(s=f,l=rt.SYMBOL_TABLE[c])}return l}}Xr.bSymbolTableReady=!1,Xr.RATIOS_TABLE=new Array(rt.SYMBOL_TABLE.length).map(E=>new Array(rt.BARS_IN_MODULE));class ed{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class td{static parseLong(t,n=void 0){return parseInt(t,n)}}class rd extends p{}rd.kind="NullPointerException";class Ig{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,n,a){if(t==null)throw new rd;if(n<0||n>t.length||a<0||n+a>t.length||n+a<0)throw new P;if(a===0)return;for(let s=0;s<a;s++)this.write(t[n+s])}flush(){}close(){}}class Tg extends p{}class kg extends Ig{constructor(t=32){if(super(),this.count=0,t<0)throw new A("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new Tg;a=L.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,n,a){if(n<0||n>t.length||a<0||n+a-t.length>0)throw new P;this.ensureCapacity(this.count+a),D.arraycopy(t,n,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Lt;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Lt||(Lt={}));function nd(){if(typeof window<"u")return window.BigInt||null;if(typeof la<"u")return la.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let bo;function Pi(E){if(typeof bo>"u"&&(bo=nd()),bo===null)throw new Error("BigInt is not supported!");return bo(E)}function Ng(){let E=[];E[0]=Pi(1);let t=Pi(900);E[1]=t;for(let n=2;n<16;n++)E[n]=E[n-1]*t;return E}class Z{static decode(t,n){let a=new ne(""),s=U.ISO8859_1;a.enableDecoding(s);let l=1,c=t[l++],f=new ed;for(;l<t[0];){switch(c){case Z.TEXT_COMPACTION_MODE_LATCH:l=Z.textCompaction(t,l,a);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:l=Z.byteCompaction(c,t,s,l,a);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[l++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:l=Z.numericCompaction(t,l,a);break;case Z.ECI_CHARSET:U.getCharacterSetECIByValue(t[l++]);break;case Z.ECI_GENERAL_PURPOSE:l+=2;break;case Z.ECI_USER_DEFINED:l++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=Z.decodeMacroBlock(t,l,f);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new B;default:l--,l=Z.textCompaction(t,l,a);break}if(l<t.length)c=t[l++];else throw B.getFormatInstance()}if(a.length()===0)throw B.getFormatInstance();let h=new it(null,a.toString(),null,n);return h.setOther(f),h}static decodeMacroBlock(t,n,a){if(n+Z.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw B.getFormatInstance();let s=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<Z.NUMBER_OF_SEQUENCE_CODEWORDS;f++,n++)s[f]=t[n];a.setSegmentIndex(L.parseInt(Z.decodeBase900toBase10(s,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ne;n=Z.textCompaction(t,n,l),a.setFileId(l.toString());let c=-1;for(t[n]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=n+1);n<t[0];)switch(t[n]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new ne;n=Z.textCompaction(t,n+1,f),a.setFileName(f.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new ne;n=Z.textCompaction(t,n+1,h),a.setSender(h.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new ne;n=Z.textCompaction(t,n+1,x),a.setAddressee(x.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new ne;n=Z.numericCompaction(t,n+1,b),a.setSegmentCount(L.parseInt(b.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new ne;n=Z.numericCompaction(t,n+1,C),a.setTimestamp(td.parseLong(C.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new ne;n=Z.numericCompaction(t,n+1,S),a.setChecksum(L.parseInt(S.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new ne;n=Z.numericCompaction(t,n+1,M),a.setFileSize(td.parseLong(M.toString()));break;default:throw B.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:n++,a.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(c!==-1){let f=n-c;a.isLastSegment()&&f--,a.setOptionalData(W.copyOfRange(t,c,c+f))}return n}static textCompaction(t,n,a){let s=new Int32Array((t[0]-n)*2),l=new Int32Array((t[0]-n)*2),c=0,f=!1;for(;n<t[0]&&!f;){let h=t[n++];if(h<Z.TEXT_COMPACTION_MODE_LATCH)s[c]=h/30,s[c+1]=h%30,c+=2;else switch(h){case Z.TEXT_COMPACTION_MODE_LATCH:s[c++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:n--,f=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[n++],l[c]=h,c++;break}}return Z.decodeTextCompaction(s,l,c,a),n}static decodeTextCompaction(t,n,a,s){let l=Lt.ALPHA,c=Lt.ALPHA,f=0;for(;f<a;){let h=t[f],x="";switch(l){case Lt.ALPHA:if(h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case Z.LL:l=Lt.LOWER;break;case Z.ML:l=Lt.MIXED;break;case Z.PS:c=l,l=Lt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=Lt.ALPHA;break}break;case Lt.LOWER:if(h<26)x=String.fromCharCode(97+h);else switch(h){case 26:x=" ";break;case Z.AS:c=l,l=Lt.ALPHA_SHIFT;break;case Z.ML:l=Lt.MIXED;break;case Z.PS:c=l,l=Lt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=Lt.ALPHA;break}break;case Lt.MIXED:if(h<Z.PL)x=Z.MIXED_CHARS[h];else switch(h){case Z.PL:l=Lt.PUNCT;break;case 26:x=" ";break;case Z.LL:l=Lt.LOWER;break;case Z.AL:l=Lt.ALPHA;break;case Z.PS:c=l,l=Lt.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=Lt.ALPHA;break}break;case Lt.PUNCT:if(h<Z.PAL)x=Z.PUNCT_CHARS[h];else switch(h){case Z.PAL:l=Lt.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=Lt.ALPHA;break}break;case Lt.ALPHA_SHIFT:if(l=c,h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:l=Lt.ALPHA;break}break;case Lt.PUNCT_SHIFT:if(l=c,h<Z.PAL)x=Z.PUNCT_CHARS[h];else switch(h){case Z.PAL:l=Lt.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:l=Lt.ALPHA;break}break}x!==""&&s.append(x),f++}}static byteCompaction(t,n,a,s,l){let c=new kg,f=0,h=0,x=!1;switch(t){case Z.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),C=n[s++];for(;s<n[0]&&!x;)switch(b[f++]=C,h=900*h+C,C=n[s++],C){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:s--,x=!0;break;default:if(f%5===0&&f>0){for(let S=0;S<6;++S)c.write(Number(Pi(h)>>Pi(8*(5-S))));h=0,f=0}break}s===n[0]&&C<Z.TEXT_COMPACTION_MODE_LATCH&&(b[f++]=C);for(let S=0;S<f;S++)c.write(b[S]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!x;){let S=n[s++];if(S<Z.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+S;else switch(S){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:s--,x=!0;break}if(f%5===0&&f>0){for(let M=0;M<6;++M)c.write(Number(Pi(h)>>Pi(8*(5-M))));h=0,f=0}}break}return l.append(oe.decode(c.toByteArray(),a)),s}static numericCompaction(t,n,a){let s=0,l=!1,c=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;n<t[0]&&!l;){let f=t[n++];if(n===t[0]&&(l=!0),f<Z.TEXT_COMPACTION_MODE_LATCH)c[s]=f,s++;else switch(f){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:n--,l=!0;break}(s%Z.MAX_NUMERIC_CODEWORDS===0||f===Z.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(a.append(Z.decodeBase900toBase10(c,s)),s=0)}return n}static decodeBase900toBase10(t,n){let a=Pi(0);for(let l=0;l<n;l++)a+=Z.EXP900[n-l-1]*Pi(t[l]);let s=a.toString();if(s.charAt(0)!=="1")throw new B;return s.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=nd()?Ng():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class xt{constructor(){}static decode(t,n,a,s,l,c,f){let h=new na(t,n,a,s,l),x=null,b=null,C;for(let F=!0;;F=!1){if(n!=null&&(x=xt.getRowIndicatorColumn(t,h,n,!0,c,f)),s!=null&&(b=xt.getRowIndicatorColumn(t,h,s,!1,c,f)),C=xt.merge(x,b),C==null)throw R.getNotFoundInstance();let j=C.getBoundingBox();if(F&&j!=null&&(j.getMinY()<h.getMinY()||j.getMaxY()>h.getMaxY()))h=j;else break}C.setBoundingBox(h);let S=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,x),C.setDetectionResultColumn(S,b);let M=x!=null;for(let F=1;F<=S;F++){let j=M?F:S-F;if(C.getDetectionResultColumn(j)!==void 0)continue;let G;j===0||j===S?G=new Ju(h,j===0):G=new Is(h),C.setDetectionResultColumn(j,G);let Q=-1,ve=Q;for(let we=h.getMinY();we<=h.getMaxY();we++){if(Q=xt.getStartColumn(C,j,we,M),Q<0||Q>h.getMaxX()){if(ve===-1)continue;Q=ve}let xe=xt.detectCodeword(t,h.getMinX(),h.getMaxX(),M,Q,we,c,f);xe!=null&&(G.setCodeword(we,xe),ve=Q,c=Math.min(c,xe.getWidth()),f=Math.max(f,xe.getWidth()))}}return xt.createDecoderResult(C)}static merge(t,n){if(t==null&&n==null)return null;let a=xt.getBarcodeMetadata(t,n);if(a==null)return null;let s=na.merge(xt.adjustBoundingBox(t),xt.adjustBoundingBox(n));return new ks(a,s)}static adjustBoundingBox(t){if(t==null)return null;let n=t.getRowHeights();if(n==null)return null;let a=xt.getMax(n),s=0;for(let f of n)if(s+=a-f,f>0)break;let l=t.getCodewords();for(let f=0;s>0&&l[f]==null;f++)s--;let c=0;for(let f=n.length-1;f>=0&&(c+=a-n[f],!(n[f]>0));f--);for(let f=l.length-1;c>0&&l[f]==null;f--)c--;return t.getBoundingBox().addMissingRows(s,c,t.isLeft())}static getMax(t){let n=-1;for(let a of t)n=Math.max(n,a);return n}static getBarcodeMetadata(t,n){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let s;return n==null||(s=n.getBarcodeMetadata())==null?a:a.getColumnCount()!==s.getColumnCount()&&a.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&a.getRowCount()!==s.getRowCount()?null:a}static getRowIndicatorColumn(t,n,a,s,l,c){let f=new Ju(n,s);for(let h=0;h<2;h++){let x=h===0?1:-1,b=Math.trunc(Math.trunc(a.getX()));for(let C=Math.trunc(Math.trunc(a.getY()));C<=n.getMaxY()&&C>=n.getMinY();C+=x){let S=xt.detectCodeword(t,0,t.getWidth(),s,b,C,l,c);S!=null&&(f.setCodeword(C,S),s?b=S.getStartX():b=S.getEndX())}}return f}static adjustCodewordCount(t,n){let a=n[0][1],s=a.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-xt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(l<1||l>rt.MAX_CODEWORDS_IN_BARCODE)throw R.getNotFoundInstance();a.setValue(l)}else s[0]!==l&&a.setValue(l)}static createDecoderResult(t){let n=xt.createBarcodeMatrix(t);xt.adjustCodewordCount(t,n);let a=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],c=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let x=0;x<t.getBarcodeColumnCount();x++){let b=n[h][x+1].getValue(),C=h*t.getBarcodeColumnCount()+x;b.length===0?a.push(C):b.length===1?s[C]=b[0]:(c.push(C),l.push(b))}let f=new Array(l.length);for(let h=0;h<f.length;h++)f[h]=l[h];return xt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,rt.toIntArray(a),rt.toIntArray(c),f)}static createDecoderResultFromAmbiguousValues(t,n,a,s,l){let c=new Int32Array(s.length),f=100;for(;f-- >0;){for(let h=0;h<c.length;h++)n[s[h]]=l[h][c[h]];try{return xt.decodeCodewords(n,t,a)}catch(h){if(!(h instanceof O))throw h}if(c.length===0)throw O.getChecksumInstance();for(let h=0;h<c.length;h++)if(c[h]<l[h].length-1){c[h]++;break}else if(c[h]=0,h===c.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(t){let n=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<n.length;s++)for(let l=0;l<n[s].length;l++)n[s][l]=new Ts;let a=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=n.length)continue;n[c][a].setValue(l.getValue())}}}a++}return n}static isValidBarcodeColumn(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1}static getStartColumn(t,n,a,s){let l=s?1:-1,c=null;if(xt.isValidBarcodeColumn(t,n-l)&&(c=t.getDetectionResultColumn(n-l).getCodeword(a)),c!=null)return s?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(n).getCodewordNearby(a),c!=null)return s?c.getStartX():c.getEndX();if(xt.isValidBarcodeColumn(t,n-l)&&(c=t.getDetectionResultColumn(n-l).getCodewordNearby(a)),c!=null)return s?c.getEndX():c.getStartX();let f=0;for(;xt.isValidBarcodeColumn(t,n-l);){n-=l;for(let h of t.getDetectionResultColumn(n).getCodewords())if(h!=null)return(s?h.getEndX():h.getStartX())+l*f*(h.getEndX()-h.getStartX());f++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,n,a,s,l,c,f,h){l=xt.adjustCodewordStartColumn(t,n,a,s,l,c);let x=xt.getModuleBitCount(t,n,a,s,l,c);if(x==null)return null;let b,C=Ve.sum(x);if(s)b=l+C;else{for(let F=0;F<x.length/2;F++){let j=x[F];x[F]=x[x.length-1-F],x[x.length-1-F]=j}b=l,l=b-C}if(!xt.checkCodewordSkew(C,f,h))return null;let S=Xr.getDecodedValue(x),M=rt.getCodeword(S);return M===-1?null:new Ns(l,b,xt.getCodewordBucketNumber(S),M)}static getModuleBitCount(t,n,a,s,l,c){let f=l,h=new Int32Array(8),x=0,b=s?1:-1,C=s;for(;(s?f<a:f>=n)&&x<h.length;)t.get(f,c)===C?(h[x]++,f+=b):(x++,C=!C);return x===h.length||f===(s?a:n)&&x===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,n,a,s,l,c){let f=l,h=s?-1:1;for(let x=0;x<2;x++){for(;(s?f>=n:f<a)&&s===t.get(f,c);){if(Math.abs(l-f)>xt.CODEWORD_SKEW_SIZE)return l;f+=h}h=-h,s=!s}return f}static checkCodewordSkew(t,n,a){return n-xt.CODEWORD_SKEW_SIZE<=t&&t<=a+xt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,n,a){if(t.length===0)throw B.getFormatInstance();let s=1<<n+1,l=xt.correctErrors(t,a,s);xt.verifyCodewordCount(t,s);let c=Z.decode(t,""+n);return c.setErrorsCorrected(l),c.setErasures(a.length),c}static correctErrors(t,n,a){if(n!=null&&n.length>a/2+xt.MAX_ERRORS||a<0||a>xt.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return xt.errorCorrection.decode(t,a,n)}static verifyCodewordCount(t,n){if(t.length<4)throw B.getFormatInstance();let a=t[0];if(a>t.length)throw B.getFormatInstance();if(a===0)if(n<t.length)t[0]=t.length-n;else throw B.getFormatInstance()}static getBitCountForCodeword(t){let n=new Int32Array(8),a=0,s=n.length-1;for(;!((t&1)!==a&&(a=t&1,s--,s<0));)n[s]++,t>>=1;return n}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return xt.getCodewordBucketNumber(xt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let n=new Ss;for(let a=0;a<t.length;a++){n.format("Row %2d: ",a);for(let s=0;s<t[a].length;s++){let l=t[a][s];l.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}n.format("%n")}return n.toString()}}xt.CODEWORD_SKEW_SIZE=2,xt.MAX_ERRORS=3,xt.MAX_EC_CODEWORDS=512,xt.errorCorrection=new $u;class Cr{decode(t,n=null){let a=Cr.decode(t,n,!1);if(a==null||a.length===0||a[0]==null)throw R.getNotFoundInstance();return a[0]}decodeMultiple(t,n=null){try{return Cr.decode(t,n,!0)}catch(a){throw a instanceof B||a instanceof O?R.getNotFoundInstance():a}}static decode(t,n,a){const s=new Array,l=pt.detectMultiple(t,n,a);for(const c of l.getPoints()){const f=xt.decode(l.getBits(),c[4],c[5],c[6],c[7],Cr.getMinCodewordWidth(c),Cr.getMaxCodewordWidth(c)),h=new ze(f.getText(),f.getRawBytes(),void 0,c,ue.PDF_417);h.putMetadata(tt.ERROR_CORRECTION_LEVEL,f.getECLevel());const x=f.getOther();x!=null&&h.putMetadata(tt.PDF417_EXTRA_METADATA,x),s.push(h)}return s.map(c=>c)}static getMaxWidth(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))}static getMinWidth(t,n){return t==null||n==null?L.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Cr.getMaxWidth(t[0],t[4]),Cr.getMaxWidth(t[6],t[2])*rt.MODULES_IN_CODEWORD/rt.MODULES_IN_STOP_PATTERN),Math.max(Cr.getMaxWidth(t[1],t[5]),Cr.getMaxWidth(t[7],t[3])*rt.MODULES_IN_CODEWORD/rt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Cr.getMinWidth(t[0],t[4]),Cr.getMinWidth(t[6],t[2])*rt.MODULES_IN_CODEWORD/rt.MODULES_IN_STOP_PATTERN),Math.min(Cr.getMinWidth(t[1],t[5]),Cr.getMinWidth(t[7],t[3])*rt.MODULES_IN_CODEWORD/rt.MODULES_IN_STOP_PATTERN)))}reset(){}}class wo extends p{}wo.kind="ReaderException";class id{constructor(t,n){this.verbose=t===!0,n&&this.setHints(n)}decode(t,n){return n&&this.setHints(n),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const n=!o(t)&&t.get(Y.TRY_HARDER)===!0,a=o(t)?null:t.get(Y.POSSIBLE_FORMATS),s=new Array;if(!o(a)){const l=a.some(c=>c===ue.UPC_A||c===ue.UPC_E||c===ue.EAN_13||c===ue.EAN_8||c===ue.CODABAR||c===ue.CODE_39||c===ue.CODE_93||c===ue.CODE_128||c===ue.ITF||c===ue.RSS_14||c===ue.RSS_EXPANDED);l&&!n&&s.push(new Pa(t,this.verbose)),a.includes(ue.QR_CODE)&&s.push(new Di),a.includes(ue.DATA_MATRIX)&&s.push(new Ri),a.includes(ue.AZTEC)&&s.push(new de),a.includes(ue.PDF_417)&&s.push(new Cr),l&&n&&s.push(new Pa(t,this.verbose))}s.length===0&&(n||s.push(new Pa(t,this.verbose)),s.push(new Di),s.push(new Ri),s.push(new de),s.push(new Cr),n&&s.push(new Pa(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new wo("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(t,this.hints)}catch(a){if(a instanceof wo)continue}throw new R("No MultiFormat Readers were able to detect the code.")}}class Og extends Ze{constructor(t=null,n=500){const a=new id;a.setHints(t),super(a,n)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Mg extends Ze{constructor(t=500){super(new Cr,t)}}class Rg extends Ze{constructor(t=500){super(new Di,t)}}var Gl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Gl||(Gl={}));var fr=Gl;class Wl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Te(t,Int32Array.from([1])))}buildGenerator(t){const n=this.cachedGenerators;if(t>=n.length){let a=n[n.length-1];const s=this.field;for(let l=n.length;l<=t;l++){const c=a.multiply(new Te(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));n.push(c),a=c}}return n[t]}encode(t,n){if(n===0)throw new A("No error correction bytes");const a=t.length-n;if(a<=0)throw new A("No data bytes provided");const s=this.buildGenerator(n),l=new Int32Array(a);D.arraycopy(t,0,l,0,a);let c=new Te(this.field,l);c=c.multiplyByMonomial(n,1);const h=c.divide(s)[1].getCoefficients(),x=n-h.length;for(let b=0;b<x;b++)t[a+b]=0;D.arraycopy(h,0,t,a+x,h.length)}}class rr{constructor(){}static applyMaskPenaltyRule1(t){return rr.applyMaskPenaltyRule1Internal(t,!0)+rr.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let n=0;const a=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let c=0;c<l-1;c++){const f=a[c];for(let h=0;h<s-1;h++){const x=f[h];x===f[h+1]&&x===a[c+1][h]&&x===a[c+1][h+1]&&n++}}return rr.N2*n}static applyMaskPenaltyRule3(t){let n=0;const a=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let c=0;c<l;c++)for(let f=0;f<s;f++){const h=a[c];f+6<s&&h[f]===1&&h[f+1]===0&&h[f+2]===1&&h[f+3]===1&&h[f+4]===1&&h[f+5]===0&&h[f+6]===1&&(rr.isWhiteHorizontal(h,f-4,f)||rr.isWhiteHorizontal(h,f+7,f+11))&&n++,c+6<l&&a[c][f]===1&&a[c+1][f]===0&&a[c+2][f]===1&&a[c+3][f]===1&&a[c+4][f]===1&&a[c+5][f]===0&&a[c+6][f]===1&&(rr.isWhiteVertical(a,f,c-4,c)||rr.isWhiteVertical(a,f,c+7,c+11))&&n++}return n*rr.N3}static isWhiteHorizontal(t,n,a){n=Math.max(n,0),a=Math.min(a,t.length);for(let s=n;s<a;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,n,a,s){a=Math.max(a,0),s=Math.min(s,t.length);for(let l=a;l<s;l++)if(t[l][n]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let n=0;const a=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const x=a[h];for(let b=0;b<s;b++)x[b]===1&&n++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(n*2-c)*10/c)*rr.N4}static getDataMaskBit(t,n,a){let s,l;switch(t){case 0:s=a+n&1;break;case 1:s=a&1;break;case 2:s=n%3;break;case 3:s=(a+n)%3;break;case 4:s=Math.floor(a/2)+Math.floor(n/3)&1;break;case 5:l=a*n,s=(l&1)+l%3;break;case 6:l=a*n,s=(l&1)+l%3&1;break;case 7:l=a*n,s=l%3+(a+n&1)&1;break;default:throw new A("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,n){let a=0;const s=n?t.getHeight():t.getWidth(),l=n?t.getWidth():t.getHeight(),c=t.getArray();for(let f=0;f<s;f++){let h=0,x=-1;for(let b=0;b<l;b++){const C=n?c[f][b]:c[b][f];C===x?h++:(h>=5&&(a+=rr.N1+(h-5)),h=1,x=C)}h>=5&&(a+=rr.N1+(h-5))}return a}}rr.N1=3,rr.N2=3,rr.N3=40,rr.N4=10;class _o{constructor(t,n){this.width=t,this.height=n;const a=new Array(n);for(let s=0;s!==n;s++)a[s]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,n){return this.bytes[n][t]}getArray(){return this.bytes}setNumber(t,n,a){this.bytes[n][t]=a}setBoolean(t,n,a){this.bytes[n][t]=a?1:0}clear(t){for(const n of this.bytes)W.fill(n,t)}equals(t){if(!(t instanceof _o))return!1;const n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(let a=0,s=this.height;a<s;++a){const l=this.bytes[a],c=n.bytes[a];for(let f=0,h=this.width;f<h;++f)if(l[f]!==c[f])return!1}return!0}toString(){const t=new ne;for(let n=0,a=this.height;n<a;++n){const s=this.bytes[n];for(let l=0,c=this.width;l<c;++l)switch(s[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ia{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new ne;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ia.NUM_MASK_PATTERNS}}ia.NUM_MASK_PATTERNS=8;class Ft extends p{}Ft.kind="WriterException";class Je{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,n,a,s,l){Je.clearMatrix(l),Je.embedBasicPatterns(a,l),Je.embedTypeInfo(n,s,l),Je.maybeEmbedVersionInfo(a,l),Je.embedDataBits(t,s,l)}static embedBasicPatterns(t,n){Je.embedPositionDetectionPatternsAndSeparators(n),Je.embedDarkDotAtLeftBottomCorner(n),Je.maybeEmbedPositionAdjustmentPatterns(t,n),Je.embedTimingPatterns(n)}static embedTypeInfo(t,n,a){const s=new V;Je.makeTypeInfoBits(t,n,s);for(let l=0,c=s.getSize();l<c;++l){const f=s.get(s.getSize()-1-l),h=Je.TYPE_INFO_COORDINATES[l],x=h[0],b=h[1];if(a.setBoolean(x,b,f),l<8){const C=a.getWidth()-l-1;a.setBoolean(C,8,f)}else{const S=a.getHeight()-7+(l-8);a.setBoolean(8,S,f)}}}static maybeEmbedVersionInfo(t,n){if(t.getVersionNumber()<7)return;const a=new V;Je.makeVersionInfoBits(t,a);let s=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const f=a.get(s);s--,n.setBoolean(l,n.getHeight()-11+c,f),n.setBoolean(n.getHeight()-11+c,l,f)}}static embedDataBits(t,n,a){let s=0,l=-1,c=a.getWidth()-1,f=a.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);f>=0&&f<a.getHeight();){for(let h=0;h<2;++h){const x=c-h;if(!Je.isEmpty(a.get(x,f)))continue;let b;s<t.getSize()?(b=t.get(s),++s):b=!1,n!==255&&rr.getDataMaskBit(n,x,f)&&(b=!b),a.setBoolean(x,f,b)}f+=l}l=-l,f+=l,c-=2}if(s!==t.getSize())throw new Ft("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-L.numberOfLeadingZeros(t)}static calculateBCHCode(t,n){if(n===0)throw new A("0 polynomial");const a=Je.findMSBSet(n);for(t<<=a-1;Je.findMSBSet(t)>=a;)t^=n<<Je.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,n,a){if(!ia.isValidMaskPattern(n))throw new Ft("Invalid mask pattern");const s=t.getBits()<<3|n;a.appendBits(s,5);const l=Je.calculateBCHCode(s,Je.TYPE_INFO_POLY);a.appendBits(l,10);const c=new V;if(c.appendBits(Je.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new Ft("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,n){n.appendBits(t.getVersionNumber(),6);const a=Je.calculateBCHCode(t.getVersionNumber(),Je.VERSION_INFO_POLY);if(n.appendBits(a,12),n.getSize()!==18)throw new Ft("should not happen but we got: "+n.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let n=8;n<t.getWidth()-8;++n){const a=(n+1)%2;Je.isEmpty(t.get(n,6))&&t.setNumber(n,6,a),Je.isEmpty(t.get(6,n))&&t.setNumber(6,n,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ft;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,n,a){for(let s=0;s<8;++s){if(!Je.isEmpty(a.get(t+s,n)))throw new Ft;a.setNumber(t+s,n,0)}}static embedVerticalSeparationPattern(t,n,a){for(let s=0;s<7;++s){if(!Je.isEmpty(a.get(t,n+s)))throw new Ft;a.setNumber(t,n+s,0)}}static embedPositionAdjustmentPattern(t,n,a){for(let s=0;s<5;++s){const l=Je.POSITION_ADJUSTMENT_PATTERN[s];for(let c=0;c<5;++c)a.setNumber(t+c,n+s,l[c])}}static embedPositionDetectionPattern(t,n,a){for(let s=0;s<7;++s){const l=Je.POSITION_DETECTION_PATTERN[s];for(let c=0;c<7;++c)a.setNumber(t+c,n+s,l[c])}}static embedPositionDetectionPatternsAndSeparators(t){const n=Je.POSITION_DETECTION_PATTERN[0].length;Je.embedPositionDetectionPattern(0,0,t),Je.embedPositionDetectionPattern(t.getWidth()-n,0,t),Je.embedPositionDetectionPattern(0,t.getWidth()-n,t);const a=8;Je.embedHorizontalSeparationPattern(0,a-1,t),Je.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),Je.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const s=7;Je.embedVerticalSeparationPattern(s,0,t),Je.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),Je.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,n){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,s=Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let l=0,c=s.length;l!==c;l++){const f=s[l];if(f>=0)for(let h=0;h!==c;h++){const x=s[h];x>=0&&Je.isEmpty(n.get(x,f))&&Je.embedPositionAdjustmentPattern(x-2,f-2,n)}}}}Je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Je.VERSION_INFO_POLY=7973,Je.TYPE_INFO_POLY=1335,Je.TYPE_INFO_MASK_PATTERN=21522;class Dg{constructor(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Vt{constructor(){}static calculateMaskPenalty(t){return rr.applyMaskPenaltyRule1(t)+rr.applyMaskPenaltyRule2(t)+rr.applyMaskPenaltyRule3(t)+rr.applyMaskPenaltyRule4(t)}static encode(t,n,a=null){let s=Vt.DEFAULT_BYTE_MODE_ENCODING;const l=a!==null&&a.get(fr.CHARACTER_SET)!==void 0;l&&(s=a.get(fr.CHARACTER_SET).toString());const c=this.chooseMode(t,s),f=new V;if(c===Ke.BYTE&&(l||Vt.DEFAULT_BYTE_MODE_ENCODING!==s)){const we=U.getCharacterSetECIByName(s);we!==void 0&&this.appendECI(we,f)}this.appendModeInfo(c,f);const h=new V;this.appendBytes(t,c,h,s);let x;if(a!==null&&a.get(fr.QR_VERSION)!==void 0){const we=Number.parseInt(a.get(fr.QR_VERSION).toString(),10);x=We.getVersionForNumber(we);const xe=this.calculateBitsNeeded(c,f,h,x);if(!this.willFit(xe,x,n))throw new Ft("Data too big for requested version")}else x=this.recommendVersion(n,c,f,h);const b=new V;b.appendBitArray(f);const C=c===Ke.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(C,x,c,b),b.appendBitArray(h);const S=x.getECBlocksForLevel(n),M=x.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(M,b);const F=this.interleaveWithECBytes(b,x.getTotalCodewords(),M,S.getNumBlocks()),j=new ia;j.setECLevel(n),j.setMode(c),j.setVersion(x);const G=x.getDimensionForVersion(),Q=new _o(G,G),ve=this.chooseMaskPattern(F,n,x,Q);return j.setMaskPattern(ve),Je.buildMatrix(F,n,x,ve,Q),j.setMatrix(Q),j}static recommendVersion(t,n,a,s){const l=this.calculateBitsNeeded(n,a,s,We.getVersionForNumber(1)),c=this.chooseVersion(l,t),f=this.calculateBitsNeeded(n,a,s,c);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,n,a,s){return n.getSize()+t.getCharacterCountBits(s)+a.getSize()}static getAlphanumericCode(t){return t<Vt.ALPHANUMERIC_TABLE.length?Vt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,n=null){if(U.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return Ke.KANJI;let a=!1,s=!1;for(let l=0,c=t.length;l<c;++l){const f=t.charAt(l);if(Vt.isDigit(f))a=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)s=!0;else return Ke.BYTE}return s?Ke.ALPHANUMERIC:a?Ke.NUMERIC:Ke.BYTE}static isOnlyDoubleByteKanji(t){let n;try{n=oe.encode(t,U.SJIS)}catch{return!1}const a=n.length;if(a%2!==0)return!1;for(let s=0;s<a;s+=2){const l=n[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,n,a,s){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let f=0;f<ia.NUM_MASK_PATTERNS;f++){Je.buildMatrix(t,n,a,f,s);let h=this.calculateMaskPenalty(s);h<l&&(l=h,c=f)}return c}static chooseVersion(t,n){for(let a=1;a<=40;a++){const s=We.getVersionForNumber(a);if(Vt.willFit(t,s,n))return s}throw new Ft("Data too big")}static willFit(t,n,a){const s=n.getTotalCodewords(),c=n.getECBlocksForLevel(a).getTotalECCodewords(),f=s-c,h=(t+7)/8;return f>=h}static terminateBits(t,n){const a=t*8;if(n.getSize()>a)throw new Ft("data bits cannot fit in the QR Code"+n.getSize()+" > "+a);for(let c=0;c<4&&n.getSize()<a;++c)n.appendBit(!1);const s=n.getSize()&7;if(s>0)for(let c=s;c<8;c++)n.appendBit(!1);const l=t-n.getSizeInBytes();for(let c=0;c<l;++c)n.appendBits(c&1?17:236,8);if(n.getSize()!==a)throw new Ft("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,n,a,s,l,c){if(s>=a)throw new Ft("Block ID too large");const f=t%a,h=a-f,x=Math.floor(t/a),b=x+1,C=Math.floor(n/a),S=C+1,M=x-C,F=b-S;if(M!==F)throw new Ft("EC bytes mismatch");if(a!==h+f)throw new Ft("RS blocks mismatch");if(t!==(C+M)*h+(S+F)*f)throw new Ft("Total bytes mismatch");s<h?(l[0]=C,c[0]=M):(l[0]=S,c[0]=F)}static interleaveWithECBytes(t,n,a,s){if(t.getSizeInBytes()!==a)throw new Ft("Number of bits and data bytes does not match");let l=0,c=0,f=0;const h=new Array;for(let b=0;b<s;++b){const C=new Int32Array(1),S=new Int32Array(1);Vt.getNumDataBytesAndNumECBytesForBlockID(n,a,s,b,C,S);const M=C[0],F=new Uint8Array(M);t.toBytes(8*l,F,0,M);const j=Vt.generateECBytes(F,S[0]);h.push(new Dg(F,j)),c=Math.max(c,M),f=Math.max(f,j.length),l+=C[0]}if(a!==l)throw new Ft("Data bytes does not match offset");const x=new V;for(let b=0;b<c;++b)for(const C of h){const S=C.getDataBytes();b<S.length&&x.appendBits(S[b],8)}for(let b=0;b<f;++b)for(const C of h){const S=C.getErrorCorrectionBytes();b<S.length&&x.appendBits(S[b],8)}if(n!==x.getSizeInBytes())throw new Ft("Interleaving error: "+n+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,n){const a=t.length,s=new Int32Array(a+n);for(let c=0;c<a;c++)s[c]=t[c]&255;new Wl(Le.QR_CODE_FIELD_256).encode(s,n);const l=new Uint8Array(n);for(let c=0;c<n;c++)l[c]=s[a+c];return l}static appendModeInfo(t,n){n.appendBits(t.getBits(),4)}static appendLengthInfo(t,n,a,s){const l=a.getCharacterCountBits(n);if(t>=1<<l)throw new Ft(t+" is bigger than "+((1<<l)-1));s.appendBits(t,l)}static appendBytes(t,n,a,s){switch(n){case Ke.NUMERIC:Vt.appendNumericBytes(t,a);break;case Ke.ALPHANUMERIC:Vt.appendAlphanumericBytes(t,a);break;case Ke.BYTE:Vt.append8BitBytes(t,a,s);break;case Ke.KANJI:Vt.appendKanjiBytes(t,a);break;default:throw new Ft("Invalid mode: "+n)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const n=Vt.getDigit(t);return n>=0&&n<=9}static appendNumericBytes(t,n){const a=t.length;let s=0;for(;s<a;){const l=Vt.getDigit(t.charAt(s));if(s+2<a){const c=Vt.getDigit(t.charAt(s+1)),f=Vt.getDigit(t.charAt(s+2));n.appendBits(l*100+c*10+f,10),s+=3}else if(s+1<a){const c=Vt.getDigit(t.charAt(s+1));n.appendBits(l*10+c,7),s+=2}else n.appendBits(l,4),s++}}static appendAlphanumericBytes(t,n){const a=t.length;let s=0;for(;s<a;){const l=Vt.getAlphanumericCode(t.charCodeAt(s));if(l===-1)throw new Ft;if(s+1<a){const c=Vt.getAlphanumericCode(t.charCodeAt(s+1));if(c===-1)throw new Ft;n.appendBits(l*45+c,11),s+=2}else n.appendBits(l,6),s++}}static append8BitBytes(t,n,a){let s;try{s=oe.encode(t,a)}catch(l){throw new Ft(l)}for(let l=0,c=s.length;l!==c;l++){const f=s[l];n.appendBits(f,8)}}static appendKanjiBytes(t,n){let a;try{a=oe.encode(t,U.SJIS)}catch(l){throw new Ft(l)}const s=a.length;for(let l=0;l<s;l+=2){const c=a[l]&255,f=a[l+1]&255,h=c<<8&4294967295|f;let x=-1;if(h>=33088&&h<=40956?x=h-33088:h>=57408&&h<=60351&&(x=h-49472),x===-1)throw new Ft("Invalid byte sequence");const b=(x>>8)*192+(x&255);n.appendBits(b,13)}}static appendECI(t,n){n.appendBits(Ke.ECI.getBits(),4),n.appendBits(t.getValue(),8)}}Vt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Vt.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class aa{write(t,n,a,s=null){if(t.length===0)throw new A("Found empty contents");if(n<0||a<0)throw new A("Requested dimensions are too small: "+n+"x"+a);let l=jt.L,c=aa.QUIET_ZONE_SIZE;s!==null&&(s.get(fr.ERROR_CORRECTION)!==void 0&&(l=jt.fromString(s.get(fr.ERROR_CORRECTION).toString())),s.get(fr.MARGIN)!==void 0&&(c=Number.parseInt(s.get(fr.MARGIN).toString(),10)));const f=Vt.encode(t,l,s);return this.renderResult(f,n,a,c)}writeToDom(t,n,a,s,l=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(n,a,s,l);t&&t.appendChild(c)}renderResult(t,n,a,s){const l=t.getMatrix();if(l===null)throw new be;const c=l.getWidth(),f=l.getHeight(),h=c+s*2,x=f+s*2,b=Math.max(n,h),C=Math.max(a,x),S=Math.min(Math.floor(b/h),Math.floor(C/x)),M=Math.floor((b-c*S)/2),F=Math.floor((C-f*S)/2),j=this.createSVGElement(b,C);for(let G=0,Q=F;G<f;G++,Q+=S)for(let ve=0,we=M;ve<c;ve++,we+=S)if(l.get(ve,G)===1){const xe=this.createSvgRectElement(we,Q,S,S);j.appendChild(xe)}return j}createSVGElement(t,n){const a=document.createElementNS(aa.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",n.toString()),a}createSvgRectElement(t,n,a,s){const l=document.createElementNS(aa.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"height",a.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}aa.QUIET_ZONE_SIZE=4,aa.SVG_NS="http://www.w3.org/2000/svg";class Ba{encode(t,n,a,s,l){if(t.length===0)throw new A("Found empty contents");if(n!==ue.QR_CODE)throw new A("Can only encode QR_CODE, but got "+n);if(a<0||s<0)throw new A(`Requested dimensions are too small: ${a}x${s}`);let c=jt.L,f=Ba.QUIET_ZONE_SIZE;l!==null&&(l.get(fr.ERROR_CORRECTION)!==void 0&&(c=jt.fromString(l.get(fr.ERROR_CORRECTION).toString())),l.get(fr.MARGIN)!==void 0&&(f=Number.parseInt(l.get(fr.MARGIN).toString(),10)));const h=Vt.encode(t,c,l);return Ba.renderResult(h,a,s,f)}static renderResult(t,n,a,s){const l=t.getMatrix();if(l===null)throw new be;const c=l.getWidth(),f=l.getHeight(),h=c+s*2,x=f+s*2,b=Math.max(n,h),C=Math.max(a,x),S=Math.min(Math.floor(b/h),Math.floor(C/x)),M=Math.floor((b-c*S)/2),F=Math.floor((C-f*S)/2),j=new ce(b,C);for(let G=0,Q=F;G<f;G++,Q+=S)for(let ve=0,we=M;ve<c;ve++,we+=S)l.get(ve,G)===1&&j.setRegion(we,Q,S,S);return j}}Ba.QUIET_ZONE_SIZE=4;class Pg{encode(t,n,a,s,l){let c;switch(n){case ue.QR_CODE:c=new Ba;break;default:throw new A("No encoder available for format "+n)}return c.encode(t,n,a,s,l)}}class Gn extends Oe{constructor(t,n,a,s,l,c,f,h){if(super(c,f),this.yuvData=t,this.dataWidth=n,this.dataHeight=a,this.left=s,this.top=l,s+c>n||l+f>a)throw new A("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(c,f)}getRow(t,n){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));const s=(t+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,s,n,0,a),n}getMatrix(){const t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;const a=t*n,s=new Uint8ClampedArray(a);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return D.arraycopy(this.yuvData,l,s,0,a),s;for(let c=0;c<n;c++){const f=c*t;D.arraycopy(this.yuvData,l,s,f,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,n,a,s){return new Gn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,a,s,!1)}renderThumbnail(){const t=this.getWidth()/Gn.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Gn.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*n),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<n;c++){const f=c*t;for(let h=0;h<t;h++){const x=s[l+h*Gn.THUMBNAIL_SCALE_FACTOR]&255;a[f+h]=4278190080|x*65793}l+=this.dataWidth*Gn.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Gn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Gn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,n){const a=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<n;s++,l+=this.dataWidth){const c=l+t/2;for(let f=l,h=l+t-1;f<c;f++,h--){const x=a[f];a[f]=a[h],a[h]=x}}}invert(){return new He(this)}}Gn.THUMBNAIL_SCALE_FACTOR=2;class Xl extends Oe{constructor(t,n,a,s,l,c,f){if(super(n,a),this.dataWidth=s,this.dataHeight=l,this.left=c,this.top=f,t.BYTES_PER_ELEMENT===4){const h=n*a,x=new Uint8ClampedArray(h);for(let b=0;b<h;b++){const C=t[b],S=C>>16&255,M=C>>7&510,F=C&255;x[b]=(S+M+F)/4&255}this.luminances=x}else this.luminances=t;if(s===void 0&&(this.dataWidth=n),l===void 0&&(this.dataHeight=a),c===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+a>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(t,n){if(t<0||t>=this.getHeight())throw new A("Requested row is outside the image: "+t);const a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));const s=(t+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,s,n,0,a),n}getMatrix(){const t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;const a=t*n,s=new Uint8ClampedArray(a);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return D.arraycopy(this.luminances,l,s,0,a),s;for(let c=0;c<n;c++){const f=c*t;D.arraycopy(this.luminances,l,s,f,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,n,a,s){return new Xl(this.luminances,a,s,this.dataWidth,this.dataHeight,this.left+t,this.top+n)}invert(){return new He(this)}}class ad extends U{static forName(t){return this.getCharacterSetECIByName(t)}}class Yl{}Yl.ISO_8859_1=U.ISO8859_1;class sd{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class od{static singletonList(t){return[t]}static min(t,n){return t.sort(n)[0]}}class Lg{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Fa extends Lg{constructor(t,n,a){super(t),this.value=n,this.bitCount=a}appendTo(t,n){t.appendBits(this.value,this.bitCount)}add(t,n){return new Fa(this,t,n)}addBinaryShift(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fa(this,t,n)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+L.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class ql extends Fa{constructor(t,n,a){super(t,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=a}appendTo(t,n){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+a],8)}addBinaryShift(t,n){return new ql(this,t,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Bg(E,t,n){return new ql(E,t,n)}function Os(E,t,n){return new Fa(E,t,n)}const Fg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Li=0,Ao=1,vn=2,ld=3,Wn=4,Ug=new Fa(null,0,0),Zl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function jg(E){for(let t of E)W.fill(t,-1);return E[Li][Wn]=0,E[Ao][Wn]=0,E[Ao][Li]=28,E[ld][Wn]=0,E[vn][Wn]=0,E[vn][Li]=15,E}const cd=jg(W.createInt32Array(6,6));class Xn{constructor(t,n,a,s){this.token=t,this.mode=n,this.binaryShiftByteCount=a,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,n){let a=this.bitCount,s=this.token;if(t!==this.mode){let c=Zl[this.mode][t];s=Os(s,c&65535,c>>16),a+=c>>16}let l=t===vn?4:5;return s=Os(s,n,l),new Xn(s,t,0,a+l)}shiftAndAppend(t,n){let a=this.token,s=this.mode===vn?4:5;return a=Os(a,cd[this.mode][t],s),a=Os(a,n,5),new Xn(a,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let n=this.token,a=this.mode,s=this.bitCount;if(this.mode===Wn||this.mode===vn){let f=Zl[a][Li];n=Os(n,f&65535,f>>16),s+=f>>16,a=Li}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Xn(n,a,this.binaryShiftByteCount+1,s+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Bg(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Xn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let n=this.bitCount+(Zl[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=Xn.calculateBinaryShiftCost(t)-Xn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount}toBitArray(t){let n=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())n.unshift(s);let a=new V;for(const s of n)s.appendTo(a,t);return a}toString(){return re.format("%s bits=%d bytes=%d",Fg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Xn.INITIAL_STATE=new Xn(Ug,Li,0,0);function Hg(E){const t=re.getCharCode(" "),n=re.getCharCode("."),a=re.getCharCode(",");E[Li][t]=1;const s=re.getCharCode("Z"),l=re.getCharCode("A");for(let S=l;S<=s;S++)E[Li][S]=S-l+2;E[Ao][t]=1;const c=re.getCharCode("z"),f=re.getCharCode("a");for(let S=f;S<=c;S++)E[Ao][S]=S-f+2;E[vn][t]=1;const h=re.getCharCode("9"),x=re.getCharCode("0");for(let S=x;S<=h;S++)E[vn][S]=S-x+2;E[vn][a]=12,E[vn][n]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<b.length;S++)E[ld][re.getCharCode(b[S])]=S;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<C.length;S++)re.getCharCode(C[S])>0&&(E[Wn][re.getCharCode(C[S])]=S);return E}const Kl=Hg(W.createInt32Array(5,256));class Ms{constructor(t){this.text=t}encode(){const t=re.getCharCode(" "),n=re.getCharCode(`
`);let a=od.singletonList(Xn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case re.getCharCode("\r"):c=f===n?2:0;break;case re.getCharCode("."):c=f===t?3:0;break;case re.getCharCode(","):c=f===t?4:0;break;case re.getCharCode(":"):c=f===t?5:0;break;default:c=0}c>0?(a=Ms.updateStateListForPair(a,l,c),l++):a=this.updateStateListForChar(a,l)}return od.min(a,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,n){const a=[];for(let s of t)this.updateStateForChar(s,n,a);return Ms.simplifyStates(a)}updateStateForChar(t,n,a){let s=this.text[n]&255,l=Kl[t.getMode()][s]>0,c=null;for(let f=0;f<=Wn;f++){let h=Kl[f][s];if(h>0){if(c==null&&(c=t.endBinaryShift(n)),!l||f===t.getMode()||f===vn){const x=c.latchAndAppend(f,h);a.push(x)}if(!l&&cd[t.getMode()][f]>=0){const x=c.shiftAndAppend(f,h);a.push(x)}}}if(t.getBinaryShiftByteCount()>0||Kl[t.getMode()][s]===0){let f=t.addBinaryShiftChar(n);a.push(f)}}static updateStateListForPair(t,n,a){const s=[];for(let l of t)this.updateStateForPair(l,n,a,s);return this.simplifyStates(s)}static updateStateForPair(t,n,a,s){let l=t.endBinaryShift(n);if(s.push(l.latchAndAppend(Wn,a)),t.getMode()!==Wn&&s.push(l.shiftAndAppend(Wn,a)),a===3||a===4){let c=l.latchAndAppend(vn,16-a).latchAndAppend(vn,1);s.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(c)}}static simplifyStates(t){let n=[];for(const a of t){let s=!0;for(const l of n){if(l.isBetterThanOrEqualTo(a)){s=!1;break}a.isBetterThanOrEqualTo(l)&&(n=n.filter(c=>c!==l))}s&&n.push(a)}return n}}class Tt{constructor(){}static encodeBytes(t){return Tt.encode(t,Tt.DEFAULT_EC_PERCENT,Tt.DEFAULT_AZTEC_LAYERS)}static encode(t,n,a){let s=new Ms(t).encode(),l=L.truncDivision(s.getSize()*n,100)+11,c=s.getSize()+l,f,h,x,b,C;if(a!==Tt.DEFAULT_AZTEC_LAYERS){if(f=a<0,h=Math.abs(a),h>(f?Tt.MAX_NB_BITS_COMPACT:Tt.MAX_NB_BITS))throw new A(re.format("Illegal value %s for layers",a));x=Tt.totalBitsInLayer(h,f),b=Tt.WORD_SIZE[h];let xe=x-x%b;if(C=Tt.stuffBits(s,b),C.getSize()+l>xe)throw new A("Data to large for user specified layer");if(f&&C.getSize()>b*64)throw new A("Data to large for user specified layer")}else{b=0,C=null;for(let xe=0;;xe++){if(xe>Tt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(f=xe<=3,h=f?xe+1:xe,x=Tt.totalBitsInLayer(h,f),c>x)continue;(C==null||b!==Tt.WORD_SIZE[h])&&(b=Tt.WORD_SIZE[h],C=Tt.stuffBits(s,b));let bt=x-x%b;if(!(f&&C.getSize()>b*64)&&C.getSize()+l<=bt)break}}let S=Tt.generateCheckWords(C,x,b),M=C.getSize()/b,F=Tt.generateModeMessage(f,h,M),j=(f?11:14)+h*4,G=new Int32Array(j),Q;if(f){Q=j;for(let xe=0;xe<G.length;xe++)G[xe]=xe}else{Q=j+1+2*L.truncDivision(L.truncDivision(j,2)-1,15);let xe=L.truncDivision(j,2),bt=L.truncDivision(Q,2);for(let ct=0;ct<xe;ct++){let Yr=ct+L.truncDivision(ct,15);G[xe-ct-1]=bt-Yr-1,G[xe+ct]=bt+Yr+1}}let ve=new ce(Q);for(let xe=0,bt=0;xe<h;xe++){let ct=(h-xe)*4+(f?9:12);for(let Yr=0;Yr<ct;Yr++){let Mn=Yr*2;for(let qr=0;qr<2;qr++)S.get(bt+Mn+qr)&&ve.set(G[xe*2+qr],G[xe*2+Yr]),S.get(bt+ct*2+Mn+qr)&&ve.set(G[xe*2+Yr],G[j-1-xe*2-qr]),S.get(bt+ct*4+Mn+qr)&&ve.set(G[j-1-xe*2-qr],G[j-1-xe*2-Yr]),S.get(bt+ct*6+Mn+qr)&&ve.set(G[j-1-xe*2-Yr],G[xe*2+qr])}bt+=ct*8}if(Tt.drawModeMessage(ve,f,Q,F),f)Tt.drawBullsEye(ve,L.truncDivision(Q,2),5);else{Tt.drawBullsEye(ve,L.truncDivision(Q,2),7);for(let xe=0,bt=0;xe<L.truncDivision(j,2)-1;xe+=15,bt+=16)for(let ct=L.truncDivision(Q,2)&1;ct<Q;ct+=2)ve.set(L.truncDivision(Q,2)-bt,ct),ve.set(L.truncDivision(Q,2)+bt,ct),ve.set(ct,L.truncDivision(Q,2)-bt),ve.set(ct,L.truncDivision(Q,2)+bt)}let we=new sd;return we.setCompact(f),we.setSize(Q),we.setLayers(h),we.setCodeWords(M),we.setMatrix(ve),we}static drawBullsEye(t,n,a){for(let s=0;s<a;s+=2)for(let l=n-s;l<=n+s;l++)t.set(l,n-s),t.set(l,n+s),t.set(n-s,l),t.set(n+s,l);t.set(n-a,n-a),t.set(n-a+1,n-a),t.set(n-a,n-a+1),t.set(n+a,n-a),t.set(n+a,n-a+1),t.set(n+a,n+a-1)}static generateModeMessage(t,n,a){let s=new V;return t?(s.appendBits(n-1,2),s.appendBits(a-1,6),s=Tt.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(a-1,11),s=Tt.generateCheckWords(s,40,4)),s}static drawModeMessage(t,n,a,s){let l=L.truncDivision(a,2);if(n)for(let c=0;c<7;c++){let f=l-3+c;s.get(c)&&t.set(f,l-5),s.get(c+7)&&t.set(l+5,f),s.get(20-c)&&t.set(f,l+5),s.get(27-c)&&t.set(l-5,f)}else for(let c=0;c<10;c++){let f=l-5+c+L.truncDivision(c,5);s.get(c)&&t.set(f,l-7),s.get(c+10)&&t.set(l+7,f),s.get(29-c)&&t.set(f,l+7),s.get(39-c)&&t.set(l-7,f)}}static generateCheckWords(t,n,a){let s=t.getSize()/a,l=new Wl(Tt.getGF(a)),c=L.truncDivision(n,a),f=Tt.bitsToWords(t,a,c);l.encode(f,c-s);let h=n%a,x=new V;x.appendBits(0,h);for(const b of Array.from(f))x.appendBits(b,a);return x}static bitsToWords(t,n,a){let s=new Int32Array(a),l,c;for(l=0,c=t.getSize()/n;l<c;l++){let f=0;for(let h=0;h<n;h++)f|=t.get(l*n+h)?1<<n-h-1:0;s[l]=f}return s}static getGF(t){switch(t){case 4:return Le.AZTEC_PARAM;case 6:return Le.AZTEC_DATA_6;case 8:return Le.AZTEC_DATA_8;case 10:return Le.AZTEC_DATA_10;case 12:return Le.AZTEC_DATA_12;default:throw new A("Unsupported word size "+t)}}static stuffBits(t,n){let a=new V,s=t.getSize(),l=(1<<n)-2;for(let c=0;c<s;c+=n){let f=0;for(let h=0;h<n;h++)(c+h>=s||t.get(c+h))&&(f|=1<<n-1-h);(f&l)===l?(a.appendBits(f&l,n),c--):f&l?a.appendBits(f,n):(a.appendBits(f|1,n),c--)}return a}static totalBitsInLayer(t,n){return((n?88:112)+16*t)*t}}Tt.DEFAULT_EC_PERCENT=33,Tt.DEFAULT_AZTEC_LAYERS=0,Tt.MAX_NB_BITS=32,Tt.MAX_NB_BITS_COMPACT=4,Tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Eo{encode(t,n,a,s){return this.encodeWithHints(t,n,a,s,null)}encodeWithHints(t,n,a,s,l){let c=Yl.ISO_8859_1,f=Tt.DEFAULT_EC_PERCENT,h=Tt.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(fr.CHARACTER_SET)&&(c=ad.forName(l.get(fr.CHARACTER_SET).toString())),l.has(fr.ERROR_CORRECTION)&&(f=L.parseInt(l.get(fr.ERROR_CORRECTION).toString())),l.has(fr.AZTEC_LAYERS)&&(h=L.parseInt(l.get(fr.AZTEC_LAYERS).toString()))),Eo.encodeLayers(t,n,a,s,c,f,h)}static encodeLayers(t,n,a,s,l,c,f){if(n!==ue.AZTEC)throw new A("Can only encode AZTEC, but got "+n);let h=Tt.encode(re.getBytes(t,l),c,f);return Eo.renderResult(h,a,s)}static renderResult(t,n,a){let s=t.getMatrix();if(s==null)throw new be;let l=s.getWidth(),c=s.getHeight(),f=Math.max(n,l),h=Math.max(a,c),x=Math.min(f/l,h/c),b=(f-l*x)/2,C=(h-c*x)/2,S=new ce(f,h);for(let M=0,F=C;M<c;M++,F+=x)for(let j=0,G=b;j<l;j++,G+=x)s.get(j,M)&&S.setRegion(G,F,x,x);return S}}i.AbstractExpandedDecoder=Pl,i.ArgumentException=v,i.ArithmeticException=Xe,i.AztecCode=sd,i.AztecCodeReader=de,i.AztecCodeWriter=Eo,i.AztecDecoder=Ue,i.AztecDetector=Ae,i.AztecDetectorResult=Fe,i.AztecEncoder=Tt,i.AztecHighLevelEncoder=Ms,i.AztecPoint=It,i.BarcodeFormat=ue,i.Binarizer=k,i.BinaryBitmap=T,i.BitArray=V,i.BitMatrix=ce,i.BitSource=Ul,i.BrowserAztecCodeReader=De,i.BrowserBarcodeReader=yg,i.BrowserCodeReader=Ze,i.BrowserDatamatrixCodeReader=bg,i.BrowserMultiFormatReader=Og,i.BrowserPDF417Reader=Mg,i.BrowserQRCodeReader=Rg,i.BrowserQRCodeSvgWriter=aa,i.CharacterSetECI=U,i.ChecksumException=O,i.Code128Reader=ie,i.Code39Reader=mt,i.DataMatrixDecodedBitStreamParser=Mi,i.DataMatrixReader=Ri,i.DecodeHintType=Y,i.DecoderResult=it,i.DefaultGridSampler=Mt,i.DetectorResult=Ee,i.EAN13Reader=Nr,i.EncodeHintType=fr,i.Exception=p,i.FormatException=B,i.GenericGF=Le,i.GenericGFPoly=Te,i.GlobalHistogramBinarizer=pe,i.GridSampler=J,i.GridSamplerInstance=St,i.HTMLCanvasElementLuminanceSource=Ye,i.HybridBinarizer=se,i.ITFReader=lt,i.IllegalArgumentException=A,i.IllegalStateException=be,i.InvertedLuminanceSource=He,i.LuminanceSource=Oe,i.MathUtils=Ve,i.MultiFormatOneDReader=Pa,i.MultiFormatReader=id,i.MultiFormatWriter=Pg,i.NotFoundException=R,i.OneDReader=gt,i.PDF417DecodedBitStreamParser=Z,i.PDF417DecoderErrorCorrection=$u,i.PDF417Reader=Cr,i.PDF417ResultMetadata=ed,i.PerspectiveTransform=me,i.PlanarYUVLuminanceSource=Gn,i.QRCodeByteMatrix=_o,i.QRCodeDataMask=mn,i.QRCodeDecodedBitStreamParser=Jt,i.QRCodeDecoderErrorCorrectionLevel=jt,i.QRCodeDecoderFormatInformation=Mr,i.QRCodeEncoder=Vt,i.QRCodeEncoderQRCode=ia,i.QRCodeMaskUtil=rr,i.QRCodeMatrixUtil=Je,i.QRCodeMode=Ke,i.QRCodeReader=Di,i.QRCodeVersion=We,i.QRCodeWriter=Ba,i.RGBLuminanceSource=Xl,i.RSS14Reader=tr,i.RSSExpandedReader=fe,i.ReaderException=wo,i.ReedSolomonDecoder=Ie,i.ReedSolomonEncoder=Wl,i.ReedSolomonException=dt,i.Result=ze,i.ResultMetadataType=tt,i.ResultPoint=he,i.StringUtils=re,i.UnsupportedOperationException=ge,i.VideoInputDevice=qe,i.WhiteRectangleDetector=Qe,i.WriterException=Ft,i.ZXingArrays=W,i.ZXingCharset=ad,i.ZXingInteger=L,i.ZXingStandardCharsets=Yl,i.ZXingStringBuilder=ne,i.ZXingStringEncoding=oe,i.ZXingSystem=D,i.createAbstractExpandedDecoder=Ku,Object.defineProperty(i,"__esModule",{value:!0})})})(fu,fu.exports);var Gt=fu.exports;const XC=lb(Gt),YC=Yg({__proto__:null,default:XC},[Gt]);var lf=function(){function e(r,i,o){if(this.formatMap=new Map([[Ne.QR_CODE,Gt.BarcodeFormat.QR_CODE],[Ne.AZTEC,Gt.BarcodeFormat.AZTEC],[Ne.CODABAR,Gt.BarcodeFormat.CODABAR],[Ne.CODE_39,Gt.BarcodeFormat.CODE_39],[Ne.CODE_93,Gt.BarcodeFormat.CODE_93],[Ne.CODE_128,Gt.BarcodeFormat.CODE_128],[Ne.DATA_MATRIX,Gt.BarcodeFormat.DATA_MATRIX],[Ne.MAXICODE,Gt.BarcodeFormat.MAXICODE],[Ne.ITF,Gt.BarcodeFormat.ITF],[Ne.EAN_13,Gt.BarcodeFormat.EAN_13],[Ne.EAN_8,Gt.BarcodeFormat.EAN_8],[Ne.PDF_417,Gt.BarcodeFormat.PDF_417],[Ne.RSS_14,Gt.BarcodeFormat.RSS_14],[Ne.RSS_EXPANDED,Gt.BarcodeFormat.RSS_EXPANDED],[Ne.UPC_A,Gt.BarcodeFormat.UPC_A],[Ne.UPC_E,Gt.BarcodeFormat.UPC_E],[Ne.UPC_EAN_EXTENSION,Gt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!YC)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=o;var u=this.createZXingFormats(r),d=new Map;d.set(Gt.DecodeHintType.POSSIBLE_FORMATS,u),d.set(Gt.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(r){var i=this;return new Promise(function(o,u){try{o(i.decode(r))}catch(d){u(d)}})},e.prototype.decode=function(r){var i=new Gt.MultiFormatReader(this.verbose,this.hints),o=new Gt.HTMLCanvasElementLuminanceSource(r),u=new Gt.BinaryBitmap(new Gt.HybridBinarizer(o)),d=i.decode(u);return{text:d.text,format:lg.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(i,o,u){r.set(i,o)}),r},e.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},e.prototype.createZXingFormats=function(r){for(var i=[],o=0,u=r;o<u.length;o++){var d=u[o];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),qC=function(e,r,i,o){function u(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function m(v){try{p(o.next(v))}catch(A){g(A)}}function y(v){try{p(o.throw(v))}catch(A){g(A)}}function p(v){v.done?d(v.value):u(v.value).then(m,y)}p((o=o.apply(e,r||[])).next())})},ZC=function(e,r){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(p){return function(v){return y([p,v])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(o=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){i.label=p[1];break}if(p[0]===6&&i.label<d[1]){i.label=d[1],d=p;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(p);break}d[2]&&i.ops.pop(),i.trys.pop();continue}p=r.call(e,i)}catch(v){p=[6,v],u=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},cf=function(){function e(r,i,o){if(this.formatMap=new Map([[Ne.QR_CODE,"qr_code"],[Ne.AZTEC,"aztec"],[Ne.CODABAR,"codabar"],[Ne.CODE_39,"code_39"],[Ne.CODE_93,"code_93"],[Ne.CODE_128,"code_128"],[Ne.DATA_MATRIX,"data_matrix"],[Ne.ITF,"itf"],[Ne.EAN_13,"ean_13"],[Ne.EAN_8,"ean_8"],[Ne.PDF_417,"pdf417"],[Ne.UPC_A,"upc_a"],[Ne.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=o;var u=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r<"u"},e.prototype.decodeAsync=function(r){return qC(this,void 0,void 0,function(){var i,o;return ZC(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(r)];case 1:if(i=u.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(i),[2,{text:o.rawValue,format:lg.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(r){for(var i=null,o=0,u=0,d=r;u<d.length;u++){var g=d[u],m=g.boundingBox.width*g.boundingBox.height;m>o&&(o=m,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(r){for(var i=[],o=0,u=r;o<u.length;o++){var d=u[o];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},e.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(i,o,u){r.set(i,o)}),r},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),uf=function(e,r,i,o){function u(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function m(v){try{p(o.next(v))}catch(A){g(A)}}function y(v){try{p(o.throw(v))}catch(A){g(A)}}function p(v){v.done?d(v.value):u(v.value).then(m,y)}p((o=o.apply(e,r||[])).next())})},df=function(e,r){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(p){return function(v){return y([p,v])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(o=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){i.label=p[1];break}if(p[0]===6&&i.label<d[1]){i.label=d[1],d=p;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(p);break}d[2]&&i.ops.pop(),i.trys.pop();continue}p=r.call(e,i)}catch(v){p=[6,v],u=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},KC=function(){function e(r,i,o,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,i&&cf.isSupported()?(this.primaryDecoder=new cf(r,o,u),this.secondaryDecoder=new lf(r,o,u)):this.primaryDecoder=new lf(r,o,u)}return e.prototype.decodeAsync=function(r){return uf(this,void 0,void 0,function(){var i;return df(this,function(o){switch(o.label){case 0:i=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(r){return uf(this,void 0,void 0,function(){var i,o;return df(this,function(u){switch(u.label){case 0:i=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,u.sent()];case 3:if(o=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw o;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(r){if(this.verbose){var i=performance.now()-r;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,i=0,o=this.executionResults;i<o.length;i++){var u=o[i];r+=u}var d=r/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),qu=function(){var e=function(r,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])},e(r,i)};return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function o(){this.constructor=r}r.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}(),sl=function(e,r,i,o){function u(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function m(v){try{p(o.next(v))}catch(A){g(A)}}function y(v){try{p(o.throw(v))}catch(A){g(A)}}function p(v){v.done?d(v.value):u(v.value).then(m,y)}p((o=o.apply(e,r||[])).next())})},ol=function(e,r){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(p){return function(v){return y([p,v])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(o=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){i.label=p[1];break}if(p[0]===6&&i.label<d[1]){i.label=d[1],d=p;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(p);break}d[2]&&i.ops.pop(),i.trys.pop();continue}p=r.call(e,i)}catch(v){p=[6,v],u=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},fg=function(){function e(r,i){this.name=r,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(r){var i={};i[this.name]=r;var o={advanced:[i]};return this.track.applyConstraints(o)},e.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var i=r[this.name];return i}return null},e}(),QC=function(e){qu(r,e);function r(i,o){return e.call(this,i,o)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(i){var o={};o[this.name]=i;var u={advanced:[o]};return this.track.applyConstraints(u)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),o=i[this.name];return{min:o.min,max:o.max,step:o.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r}(fg),$C=function(e){qu(r,e);function r(i){return e.call(this,"zoom",i)||this}return r}(QC),JC=function(e){qu(r,e);function r(i){return e.call(this,"torch",i)||this}return r}(fg),e8=function(){function e(r){this.track=r}return e.prototype.zoomFeature=function(){return new $C(this.track)},e.prototype.torchFeature=function(){return new JC(this.track)},e}(),t8=function(){function e(r,i,o){this.isClosed=!1,this.parentElement=r,this.mediaStream=i,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return e.prototype.createVideoElement=function(r){var i=document.createElement("video");return i.style.width="".concat(r,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var o=r.surface.clientWidth,u=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(o,u),r.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(r,i,o,u){return sl(this,void 0,void 0,function(){var d,g;return ol(this,function(m){switch(m.label){case 0:return d=new e(r,i,u),o.aspectRatio?(g={aspectRatio:o.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:m.sent(),m.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(r){this.failIfClosed();var i=this,o=function(){setTimeout(r,200),i.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(r){return sl(this,void 0,void 0,function(){return ol(this,function(i){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(i,o){var u=r.mediaStream.getVideoTracks(),d=u.length,g=0;r.mediaStream.getVideoTracks().forEach(function(m){r.mediaStream.removeTrack(m),m.stop(),++g,g>=d&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),i())})})},e.prototype.getCapabilities=function(){return new e8(this.getFirstTrackOrFail())},e}(),r8=function(){function e(r){this.mediaStream=r}return e.prototype.render=function(r,i,o){return sl(this,void 0,void 0,function(){return ol(this,function(u){return[2,t8.create(r,this.mediaStream,i,o)]})})},e.create=function(r){return sl(this,void 0,void 0,function(){var i,o;return ol(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return o=u.sent(),[2,new e(o)]}})})},e}(),ff=function(e,r,i,o){function u(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function m(v){try{p(o.next(v))}catch(A){g(A)}}function y(v){try{p(o.throw(v))}catch(A){g(A)}}function p(v){v.done?d(v.value):u(v.value).then(m,y)}p((o=o.apply(e,r||[])).next())})},hf=function(e,r){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(p){return function(v){return y([p,v])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(o=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){i.label=p[1];break}if(p[0]===6&&i.label<d[1]){i.label=d[1],d=p;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(p);break}d[2]&&i.ops.pop(),i.trys.pop();continue}p=r.call(e,i)}catch(v){p=[6,v],u=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},n8=function(){function e(){}return e.failIfNotSupported=function(){return ff(this,void 0,void 0,function(){return hf(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(r){return ff(this,void 0,void 0,function(){return hf(this,function(i){return[2,r8.create(r)]})})},e}(),i8=function(e,r,i,o){function u(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function m(v){try{p(o.next(v))}catch(A){g(A)}}function y(v){try{p(o.throw(v))}catch(A){g(A)}}function p(v){v.done?d(v.value):u(v.value).then(m,y)}p((o=o.apply(e,r||[])).next())})},a8=function(e,r){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(p){return function(v){return y([p,v])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(o=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){i.label=p[1];break}if(p[0]===6&&i.label<d[1]){i.label=d[1],d=p;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(p);break}d[2]&&i.ops.pop(),i.trys.pop();continue}p=r.call(e,i)}catch(v){p=[6,v],u=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},s8=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var r=Ka.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(r=Ka.insecureContextCameraQueryError()),Promise.reject(r)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},e.getCamerasFromMediaDevices=function(){return i8(this,void 0,void 0,function(){var r,i,o,u,d,g,m;return a8(this,function(y){switch(y.label){case 0:return r=function(p){for(var v=p.getVideoTracks(),A=0,T=v;A<T.length;A++){var O=T[A];O.enabled=!1,O.stop(),p.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=y.sent(),u=[],d=0,g=o;d<g.length;d++)m=g[d],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return r(i),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,i){var o=function(d){for(var g=[],m=0,y=d;m<y.length;m++){var p=y[m];p.kind==="video"&&g.push({id:p.id,label:p.label})}r(g)},u=MediaStreamTrack;u.getSources(o)})},e}(),ir;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ir||(ir={}));var o8=function(){function e(){this.state=ir.NOT_STARTED,this.onGoingTransactionNewState=ir.UNKNOWN}return e.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},e.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ir.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ir.UNKNOWN,this.directTransition(r)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ir.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ir.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ir.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(r){switch(this.state){case ir.UNKNOWN:throw"Transition from unknown is not allowed";case ir.NOT_STARTED:this.failIfNewStateIs(r,[ir.PAUSED]);break;case ir.SCANNING:break;case ir.PAUSED:break}},e.prototype.failIfNewStateIs=function(r,i){for(var o=0,u=i;o<u.length;o++){var d=u[o];if(r===d)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},e}(),l8=function(){function e(r){this.stateManager=r}return e.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},e.prototype.directTransition=function(r){this.stateManager.directTransition(r)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ir.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ir.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ir.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ir.PAUSED},e}(),c8=function(){function e(){}return e.create=function(){return new l8(new o8)},e}(),u8=function(){var e=function(r,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])},e(r,i)};return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function o(){this.constructor=r}r.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}(),sn=function(e){u8(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r}(Ln),d8=function(){function e(r,i){this.logger=i,this.fps=sn.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=sn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?dg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!$n(this.qrbox)},e.create=function(r,i){return new e(r,i)},e}(),gf=function(){function e(r,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var o;typeof i=="boolean"?this.verbose=i===!0:i&&(o=i,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new ug(this.verbose),this.qrcode=new KC(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=c8.create()}return e.prototype.start=function(r,i,o,u){var d=this;if(!r)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;u?g=u:g=this.verbose?this.logger.log:function(){};var m=d8.create(i,this.logger);this.clearElement();var y=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=y,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:sn.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var A=this,T=this.stateManagerProxy.startTransition(ir.SCANNING);return new Promise(function(O,k){var D=p?m.videoConstraints:A.createVideoConstraints(r);if(!D){T.cancel(),k("videoConstraints should be defined");return}var P={};(!p||m.aspectRatio)&&(P.aspectRatio=m.aspectRatio);var H={onRenderSurfaceReady:function(W,L){A.setupUi(W,L,m),A.isScanning=!0,A.foreverScan(m,o,g)}};n8.failIfNotSupported().then(function(W){W.create(D).then(function(L){return L.render(d.element,P,H).then(function(V){A.renderedCamera=V,T.execute(),O(null)}).catch(function(V){T.cancel(),k(V)})}).catch(function(L){T.cancel(),k(Ka.errorGettingUserMedia(L))})}).catch(function(W){T.cancel(),k(Ka.cameraStreamingNotSupported())})})},e.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ir.PAUSED),this.showPausedState(),($n(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,i=function(){r.stateManagerProxy.directTransition(ir.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(ir.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(r.element){var d=document.getElementById(sn.SHADED_REGION_ELEMENT_ID);d&&r.element.removeChild(d)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),o(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),i.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(r,i){return this.scanFileV2(r,i).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(r,i){var o=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($n(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,d){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(r);var g=new Image;g.onload=function(){var m=g.width,y=g.height,p=document.getElementById(o.elementId),v=p.clientWidth?p.clientWidth:sn.DEFAULT_WIDTH,A=Math.max(p.clientHeight?p.clientHeight:y,sn.FILE_SCAN_MIN_HEIGHT),T=o.computeCanvasDrawConfig(m,y,v,A);if(i){var O=o.createCanvasElement(v,A,"qr-canvas-visible");O.style.display="inline-block",p.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=v,k.canvas.height=A,k.drawImage(g,0,0,m,y,T.x,T.y,T.width,T.height)}var D=sn.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(g.width,T.width),H=Math.max(g.height,T.height),W=P+2*D,L=H+2*D,V=o.createCanvasElement(W,L);p.appendChild(V);var q=V.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=W,q.canvas.height=L,q.drawImage(g,0,0,m,y,D,D,P,H);try{o.qrcode.decodeRobustlyAsync(V).then(function(Y){u(sf.createFromQrcodeResult(Y))}).catch(d)}catch(Y){d("QR code parse error, error = ".concat(Y))}},g.onerror=d,g.onabort=d,g.onstalled=d,g.onsuspend=d,g.src=URL.createObjectURL(r)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return s8.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(r){if(r){if(!dg.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(r){var i=[Ne.QR_CODE,Ne.AZTEC,Ne.CODABAR,Ne.CODE_39,Ne.CODE_93,Ne.CODE_128,Ne.DATA_MATRIX,Ne.MAXICODE,Ne.ITF,Ne.EAN_13,Ne.EAN_8,Ne.PDF_417,Ne.RSS_14,Ne.RSS_EXPANDED,Ne.UPC_A,Ne.UPC_E,Ne.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return i;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],u=0,d=r.formatsToSupport;u<d.length;u++){var g=d[u];GC(g)?o.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(r){if($n(r))return!0;if(!$n(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if($n(r.experimentalFeatures))return!0;var i=r.experimentalFeatures;return $n(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(r,i,o){var u=this,d=o.qrbox;this.validateQrboxConfig(d);var g=this.toQrdimensions(r,i,d),m=function(p){if(p<sn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(sn.MIN_QR_BOX_SIZE,"px.")},y=function(p){return p>r&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=r),p};m(g.width),m(g.height),g.width=y(g.width)},e.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(r,i,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(r,i)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return o},e.prototype.setupUi=function(r,i,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(r,i,o);var u=$n(o.qrbox)?{width:r,height:i}:o.qrbox;this.validateQrboxConfig(u);var d=this.toQrdimensions(r,i,u);d.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=o.isShadedBoxEnabled()&&d.height<=i,m={x:0,y:0,width:r,height:i},y=g?this.getShadedRegionBounds(r,i,d):m,p=this.createCanvasElement(y.width,y.height),v={willReadFrequently:!0},A=p.getContext("2d",v);A.canvas.width=y.width,A.canvas.height=y.height,this.element.append(p),g&&this.possiblyInsertShadingElement(this.element,r,i,d),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=A,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(r){var i=document.createElement("div");i.innerText=Ka.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",r.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(r,i){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return r(u.text,sf.createFromQrcodeResult(u)),o.possiblyUpdateShaders(!0),!0}).catch(function(u){o.possiblyUpdateShaders(!1);var d=Ka.codeParseError(u);return i(d,cg.createFrom(d)),!1})},e.prototype.foreverScan=function(r,i,o){var u=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),g=d.videoWidth/d.clientWidth,m=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*g,p=this.qrRegion.height*m,v=this.qrRegion.x*g,A=this.qrRegion.y*m;this.context.drawImage(d,v,A,y,p,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(r,i,o)},u.getTimeoutFps(r.fps))};this.scanContext(i,o).then(function(O){!O&&r.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(i,o).finally(function(){T()})):T()}).catch(function(O){u.logger.logError("Error happend while scanning context",O),T()})}},e.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var i="facingMode",o="deviceId",u={user:!0,environment:!0},d="exact",g=function(k){if(k in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},m=Object.keys(r);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var y=Object.keys(r)[0];if(y!==i&&y!==o)throw"Only '".concat(i,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(y===i){var p=r.facingMode;if(typeof p=="string"){if(g(p))return{facingMode:p}}else if(typeof p=="object")if(d in p){if(g(p["".concat(d)]))return{facingMode:{exact:p["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var v=typeof p;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var A=r.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(d in A)return{deviceId:{exact:A["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var T=typeof A;throw"Invalid type of 'deviceId' = ".concat(T)}}}var O=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},e.prototype.computeCanvasDrawConfig=function(r,i,o,u){if(r<=o&&i<=u){var d=(o-r)/2,g=(u-i)/2;return{x:d,y:g,width:r,height:i}}else{var m=r,y=i;return r>o&&(i=o/r*i,r=o),i>u&&(r=u/i*r,i=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(y)+" to ".concat(r,"X").concat(i,".")),this.computeCanvasDrawConfig(r,i,o,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},e.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=r?sn.BORDER_SHADER_MATCH_COLOR:sn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(r,i,o){var u=r,d=i,g=document.createElement("canvas");return g.style.width="".concat(u,"px"),g.style.height="".concat(d,"px"),g.style.display="none",g.id=$n(o)?"qr-canvas":o,g},e.prototype.getShadedRegionBounds=function(r,i,o){if(o.width>r||o.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-o.width)/2,y:(i-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(r,i,o,u){if(!(i-u.width<1||o-u.height<1)){var d=document.createElement("div");d.style.position="absolute";var g=(i-u.width)/2,m=(o-u.height)/2;if(d.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(sn.SHADED_REGION_ELEMENT_ID),i-u.width<11||o-u.height<11)this.hasBorderShaders=!1;else{var y=5,p=40;this.insertShaderBorders(d,p,y,-y,null,0,!0),this.insertShaderBorders(d,p,y,-y,null,0,!1),this.insertShaderBorders(d,p,y,null,-y,0,!0),this.insertShaderBorders(d,p,y,null,-y,0,!1),this.insertShaderBorders(d,y,p+y,-y,null,-y,!0),this.insertShaderBorders(d,y,p+y,null,-y,-y,!0),this.insertShaderBorders(d,y,p+y,-y,null,-y,!1),this.insertShaderBorders(d,y,p+y,null,-y,-y,!1),this.hasBorderShaders=!0}r.append(d)}},e.prototype.insertShaderBorders=function(r,i,o,u,d,g,m){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=sn.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(i,"px"),y.style.height="".concat(o,"px"),u!==null&&(y.style.top="".concat(u,"px")),d!==null&&(y.style.bottom="".concat(d,"px")),m?y.style.left="".concat(g,"px"):y.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),r.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(r){return 1e3/r},e}(),Zu="data:image/svg+xml;base64,",f8=Zu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",h8=Zu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",pf=Zu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",g8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",xf=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),p8=function(){function e(){this.data=xf.createDefault();var r=localStorage.getItem(e.LOCAL_STORAGE_KEY);r?this.data=JSON.parse(r):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(r){this.data.hasPermission=r,this.flush()},e.prototype.setLastUsedCameraId=function(r){this.data.lastUsedCameraId=r,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=xf.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),x8=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(r){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=of.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var o=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(u);var d=document.createElement("a");d.innerText=of.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),r.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),m8=function(){function e(r,i){this.isShowingInfoIcon=!0,this.onTapIn=r,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(r){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=pf,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return i.onHoverIn()},this.infoIcon.onmouseout=function(o){return i.onHoverOut()},this.infoIcon.onclick=function(o){return i.onClick()},r.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=g8,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=pf,this.infoIcon.style.opacity="0.6")},e}(),y8=function(){function e(){var r=this;this.infoDiv=new x8,this.infoIcon=new m8(function(){r.infoDiv.show()},function(){r.infoDiv.hide()})}return e.prototype.renderInto=function(r){this.infoDiv.renderInto(r),this.infoIcon.renderInto(r)},e}(),v8=function(e,r,i,o){function u(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function m(v){try{p(o.next(v))}catch(A){g(A)}}function y(v){try{p(o.throw(v))}catch(A){g(A)}}function p(v){v.done?d(v.value):u(v.value).then(m,y)}p((o=o.apply(e,r||[])).next())})},b8=function(e,r){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(p){return function(v){return y([p,v])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(o=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){i.label=p[1];break}if(p[0]===6&&i.label<d[1]){i.label=d[1],d=p;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(p);break}d[2]&&i.ops.pop(),i.trys.pop();continue}p=r.call(e,i)}catch(v){p=[6,v],u=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},mf=function(){function e(){}return e.hasPermissions=function(){return v8(this,void 0,void 0,function(){var r,i,o,u;return b8(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(r=d.sent(),i=0,o=r;i<o.length;i++)if(u=o[i],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},e}(),Fi=function(){function e(r){this.supportedScanTypes=this.validateAndReturnScanTypes(r)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var r=0,i=this.supportedScanTypes;r<i.length;r++){var o=i[r];if(e.isCameraScanType(o))return!0}return!1},e.isCameraScanType=function(r){return r===Ji.SCAN_TYPE_CAMERA},e.isFileScanType=function(r){return r===Ji.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(r){if(!r||r.length===0)return Ln.DEFAULT_SUPPORTED_SCAN_TYPE;var i=Ln.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(r.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var o=0,u=r;o<u.length;o++){var d=u[o];if(!Ln.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return r},e}(),dn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),bi=function(){function e(){}return e.createElement=function(r,i){var o=document.createElement(r);return o.id=i,o.classList.add(dn.ALL_ELEMENT_CLASS),r==="button"&&o.setAttribute("type","button"),o},e}(),hg=function(e,r,i,o){function u(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function m(v){try{p(o.next(v))}catch(A){g(A)}}function y(v){try{p(o.throw(v))}catch(A){g(A)}}function p(v){v.done?d(v.value):u(v.value).then(m,y)}p((o=o.apply(e,r||[])).next())})},gg=function(e,r){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,u,d,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(p){return function(v){return y([p,v])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,p[0]&&(i=0)),i;)try{if(o=1,u&&(d=p[0]&2?u.return:p[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,p[1])).done)return d;switch(u=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){i.label=p[1];break}if(p[0]===6&&i.label<d[1]){i.label=d[1],d=p;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(p);break}d[2]&&i.ops.pop(),i.trys.pop();continue}p=r.call(e,i)}catch(v){p=[6,v],u=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},yf=function(){function e(r,i,o){this.isTorchOn=!1,this.torchCapability=r,this.buttonController=i,this.onTorchActionFailureCallback=o}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return hg(this,void 0,void 0,function(){var r,i;return gg(this,function(o){switch(o.label){case 0:this.buttonController.disable(),r=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(r)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),r),[3,4];case 3:return i=o.sent(),this.propagateFailure(r,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(r,i){r===i?(this.buttonController.setText(i?Pt.torchOffButton():Pt.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(r,i){var o=r?Pt.torchOnFailedMessage():Pt.torchOffFailedMessage();i&&(o+="; Error = "+i),this.onTorchActionFailureCallback(o)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),w8=function(){function e(r,i){this.onTorchActionFailureCallback=i,this.torchButton=bi.createElement("button",dn.TORCH_BUTTON_ID),this.torchController=new yf(r,this,i)}return e.prototype.render=function(r,i){var o=this;this.torchButton.innerText=Pt.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var u=this;this.torchButton.addEventListener("click",function(d){return hg(o,void 0,void 0,function(){return gg(this,function(g){switch(g.label){case 0:return[4,u.torchController.flipState()];case 1:return g.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(dn.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(dn.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(dn.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(dn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),r.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(r){this.torchController=new yf(r,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(r){this.torchButton.innerText=r},e.prototype.reset=function(){this.torchButton.innerText=Pt.torchOnButton(),this.torchController.reset()},e.create=function(r,i,o,u){var d=new e(i,u);return d.render(r,o),d},e}(),_8=function(){function e(r,i,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",r.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=bi.createElement("button",dn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=bi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var y=m.target;if(!(y.files&&y.files.length===0)){var p=y.files,v=p[0],A=v.name;d.setImageNameToButton(A),o(v)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(m){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var y=m.dataTransfer;if(y){var p=y.files;if(!p||p.length===0)return;for(var v=!1,A=0;A<p.length;++A){var T=p.item(A);if(T){var O=/image.*/;if(T.type.match(O)){v=!0;var k=T.name;d.setImageNameToButton(k),o(T),g.innerText=Pt.dragAndDropMessage();break}}}v||(g.innerText=Pt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var r=document.createElement("div");return r.style.textAlign="center",r.style.margin="auto",r.style.width="80%",r.style.maxWidth="600px",r.style.border=this.fileBasedScanRegionDefaultBorder(),r.style.padding="10px",r.style.marginBottom="10px",r},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var r=document.createElement("div");return r.innerText=Pt.dragAndDropMessage(),r.style.fontWeight="400",r},e.prototype.setImageNameToButton=function(r){var i=20;if(r.length>i){var o=r.substring(0,8),u=r.length,d=r.substring(u-8,u);r="".concat(o,"....").concat(d)}var g=Pt.fileSelectionChooseAnother()+" - "+r;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var r=Pt.fileSelectionChooseImage()+" - "+Pt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=r},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(r,i,o){var u=new e(r,i,o);return u},e}(),A8=function(){function e(r){this.selectElement=bi.createElement("select",dn.CAMERA_SELECTION_SELECT_ID),this.cameras=r,this.options=[]}return e.prototype.render=function(r){var i=document.createElement("span");i.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)i.style.display="none";else{var u=Pt.selectCamera();i.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var d=1,g=0,m=this.cameras;g<m.length;g++){var y=m[g],p=y.id,v=y.label==null?p:y.label;(!v||v==="")&&(v=[Pt.anonymousCameraPrefix(),d++].join(" "));var A=document.createElement("option");A.value=p,A.innerText=v,this.options.push(A),this.selectElement.appendChild(A)}i.appendChild(this.selectElement),r.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(r){for(var i=0,o=this.options;i<o.length;i++){var u=o[i];if(u.value===r)return!0}return!1},e.prototype.setValue=function(r){if(!this.hasValue(r))throw new Error("".concat(r," is not present in the camera list."));this.selectElement.value=r},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(r,i){var o=new e(i);return o.render(r),o},e}(),E8=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=bi.createElement("input",dn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(r,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",r.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var r=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(r,i,o,u){this.rangeInput.min=r.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(r){this.onChangeCallback=r},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(r,i){var o=new e;return o.render(r,i),o},e}(),on;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(on||(on={}));function C8(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function S8(e,r){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:r}}var I8=function(){function e(r,i,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=r,this.config=this.createConfig(i),this.verbose=o===!0,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.scanTypeSelector=new Fi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ug(this.verbose),this.persistedDataManager=new p8,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(r,i){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,g){if(r)r(d,g);else{if(o.lastMatchFound===d)return;o.lastMatchFound=d,o.setHeaderMessage(Pt.lastMatch(d),on.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,g){i&&i(d,g)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new gf(this.getScanRegionId(),S8(this.config,this.verbose))},e.prototype.pause=function(r){($n(r)||r!==!0)&&(r=!1),this.getHtml5QrcodeOrFail().pause(r)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var r=this,i=function(){var o=document.getElementById(r.elementId);o&&(o.innerHTML="",r.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,u){if(!r.html5Qrcode){o();return}r.html5Qrcode.isScanning?r.html5Qrcode.stop().then(function(d){if(!r.html5Qrcode){o();return}r.html5Qrcode.clear(),i(),o()}).catch(function(d){r.verbose&&r.logger.logError("Unable to stop qrcode scanner",d),u(d)}):(r.html5Qrcode.clear(),i(),o())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(r){return this.getHtml5QrcodeOrFail().applyVideoConstraints(r)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(r){return r?(r.fps||(r.fps=Ln.SCAN_DEFAULT_FPS),r.rememberLastUsedCamera!==!Ln.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(r.rememberLastUsedCamera=Ln.DEFAULT_REMEMBER_LAST_CAMERA_USED),r.supportedScanTypes||(r.supportedScanTypes=Ln.DEFAULT_SUPPORTED_SCAN_TYPE),r):{fps:Ln.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ln.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ln.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(r){r.style.position="relative",r.style.padding="0px",r.style.border="1px solid silver",this.createHeader(r);var i=document.createElement("div"),o=this.getScanRegionId();i.id=o,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",r.appendChild(i),Fi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),d=this.getDashboardId();u.id=d,u.style.width="100%",r.appendChild(u),this.setupInitialDashboard(u)},e.prototype.resetBasicLayout=function(r){r.style.border="none"},e.prototype.setupInitialDashboard=function(r){this.createSection(r),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(r){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",r.appendChild(i);var o=new y8;o.renderInto(i);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",i.appendChild(u)},e.prototype.createSection=function(r){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",r.appendChild(i)},e.prototype.createCameraListUi=function(r,i,o){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(Pt.cameraPermissionRequesting());var d=function(){o||u.createPermissionButton(r,i)};gf.getCameras().then(function(g){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),g&&g.length>0?(r.removeChild(i),u.renderCameraSelection(g)):(u.setHeaderMessage(Pt.noCameraFound(),on.STATUS_WARNING),d())}).catch(function(g){u.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:d(),u.setHeaderMessage(g,on.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(r,i){var o=this,u=bi.createElement("button",this.getCameraPermissionButtonId());u.innerText=Pt.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,o.createCameraListUi(r,i,u)}),i.appendChild(u)},e.prototype.createPermissionsUi=function(r,i){var o=this;if(Fi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){mf.hasPermissions().then(function(u){u?o.createCameraListUi(r,i):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(r,i))}).catch(function(u){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(r,i)});return}this.createPermissionButton(r,i)},e.prototype.createSectionControlPanel=function(){var r=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");r.appendChild(i);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=Fi.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(o);var u=document.createElement("div");u.style.textAlign="center",o.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,u),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(r){var i=Fi.isFileScanType(this.currentScanType),o=this,u=function(d){if(!o.html5Qrcode)throw"html5Qrcode not defined";Fi.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(Pt.loadingImage()),o.html5Qrcode.scanFileV2(d,!0).then(function(g){o.resetHeaderMessage(),o.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){o.setHeaderMessage(g,on.STATUS_WARNING),o.qrCodeErrorCallback(g,cg.createFrom(g))}))};this.fileSelectionUi=_8.create(r,i,u)},e.prototype.renderCameraSelection=function(r){var i=this,o=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var d=E8.create(u,!1),g=function(D){var P=D.zoomFeature();if(P.isSupported()){d.setOnCameraZoomValueChangeCallback(function(W){P.apply(W)});var H=1;i.config.defaultZoomValueIfSupported&&(H=i.config.defaultZoomValueIfSupported),H=WC(H,P.min(),P.max()),d.setValues(P.min(),P.max(),H,P.step()),d.show()}},m=A8.create(u,r),y=document.createElement("span"),p=bi.createElement("button",dn.CAMERA_START_BUTTON_ID);p.innerText=Pt.scanButtonStartScanningText(),y.appendChild(p);var v=bi.createElement("button",dn.CAMERA_STOP_BUTTON_ID);v.innerText=Pt.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,y.appendChild(v);var A,T=function(D){if(!D.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(D.torchFeature()):A=w8.create(y,D.torchFeature(),{display:"none",marginLeft:"5px"},function(P){o.setHeaderMessage(P,on.STATUS_WARNING)}),A.show()};u.appendChild(y);var O=function(D){D||(p.style.display="none"),p.innerText=Pt.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,D&&(p.style.display="inline-block")};if(p.addEventListener("click",function(D){p.innerText=Pt.scanButtonScanningStarting(),m.disable(),p.disabled=!0,p.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var P=m.getValue();o.persistedDataManager.setLastUsedCameraId(P),o.html5Qrcode.start(P,C8(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(H){v.disabled=!1,v.style.display="inline-block",O(!1);var W=o.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&T(W),i.config.showZoomSliderIfSupported===!0&&g(W)}).catch(function(H){o.showHideScanTypeSwapLink(!0),m.enable(),O(!0),o.setHeaderMessage(H,on.STATUS_WARNING)})}),m.hasSingleItem()&&p.click(),v.addEventListener("click",function(D){if(!o.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,o.html5Qrcode.stop().then(function(P){i.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),m.enable(),p.disabled=!1,v.style.display="none",p.style.display="inline-block",A&&(A.reset(),A.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(P){v.disabled=!1,o.setHeaderMessage(P,on.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var k=o.persistedDataManager.getLastUsedCameraId();m.hasValue(k)?(m.setValue(k),p.click()):o.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var r=this,i=Pt.textIfCameraScanSelected(),o=Pt.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var g=bi.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=Fi.isCameraScanType(this.currentScanType)?i:o,g.addEventListener("click",function(){if(!r.sectionSwapAllowed){r.verbose&&r.logger.logError("Section swap called when not allowed");return}r.resetHeaderMessage(),r.fileSelectionUi.resetValue(),r.sectionSwapAllowed=!1,Fi.isCameraScanType(r.currentScanType)?(r.clearScanRegion(),r.getCameraScanRegion().style.display="none",r.fileSelectionUi.show(),g.innerText=o,r.currentScanType=Ji.SCAN_TYPE_FILE,r.insertFileScanImageToScanRegion()):(r.clearScanRegion(),r.getCameraScanRegion().style.display="block",r.fileSelectionUi.hide(),g.innerText=i,r.currentScanType=Ji.SCAN_TYPE_CAMERA,r.insertCameraScanImageToScanRegion(),r.startCameraScanIfPermissionExistsOnSwap()),r.sectionSwapAllowed=!0}),d.appendChild(g),u.appendChild(d)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var r=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){mf.hasPermissions().then(function(o){if(o){var u=document.getElementById(i.getCameraPermissionButtonId());if(!u)throw r.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(o){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var r=document.getElementById(this.getHeaderMessageContainerId());r.style.display="none"},e.prototype.setHeaderMessage=function(r,i){i||(i=on.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=r,o.style.display="block",i){case on.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case on.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case on.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(r){this.scanTypeSelector.hasMoreThanOneScanType()&&(r!==!0&&(r=!1),this.sectionSwapAllowed=r,this.getDashboardSectionSwapLink().style.display=r?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var r=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){i.innerHTML="<br>",i.appendChild(r.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=f8,this.cameraScanImage.alt=Pt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var r=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){i.innerHTML="<br>",i.appendChild(r.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=h8,this.fileScanImage.alt=Pt.fileScanAltText()},e.prototype.clearScanRegion=function(){var r=document.getElementById(this.getScanRegionId());r.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return dn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return dn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}(),T8=ye('<button type="button" class="px-3 py-1.5 rounded-full text-[11px] font-semibold border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50/80 dark:bg-gray-900/40">Hentikan</button>'),k8=ye('<h2 class="text-sm font-semibold mb-1">Sukses check-in</h2> <p class="text-xs mb-2">Tiket valid dan telah tercatat sebagai hadir.</p>',1),N8=ye('<h2 class="text-sm font-semibold mb-1">Sudah check-in</h2> <p class="text-xs mb-2">Tiket ini sudah digunakan sebelumnya.</p>',1),O8=ye('<p> </p> <p class="text-gray-700 dark:text-gray-200"> </p> <p class="text-gray-700 dark:text-gray-200"> </p>',1),M8=ye('<p class="text-gray-500 dark:text-gray-400">Data peserta tidak tersedia</p>'),R8=ye('<div><!> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-xs mt-2"><div><p class="font-semibold mb-1">Peserta</p> <!></div> <div><p class="font-semibold mb-1">Event</p> <p> </p> <p class="text-gray-700 dark:text-gray-200"> </p></div></div></div>'),D8=ye('<div class="p-4 rounded-xl border bg-red-50 text-red-800 dark:bg-red-900/20 dark:text-red-100 text-xs"><p class="font-semibold mb-1">Verifikasi gagal</p> <p> </p></div>'),P8=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6"><div><p class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1">Gate Scan</p> <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"> </h1> <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">Halaman khusus gate operator untuk verifikasi tiket dengan QR atau input manual.</p></div> <div class="p-4 rounded-xl bg-white/80 dark:bg-gray-900/80 border border-gray-200 dark:border-gray-800 space-y-4"><div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><div><label class="block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1" for="gate_name">Nama Gate (opsional)</label> <input id="gate_name" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Gate A / Pintu Utama"/></div> <div><label class="block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1" for="gate_id">ID Gate (opsional)</label> <input id="gate_id" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="GA-01"/></div></div> <div class="space-y-2"><label class="block text-xs font-medium text-gray-600 dark:text-gray-300 mb-1" for="token">Token tiket (input manual)</label> <div class="flex gap-2"><input id="token" class="flex-1 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Tempel token dari QR"/> <button type="button" class="inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed"><!></button></div> <p class="text-[11px] text-gray-500 dark:text-gray-400">Scan QR di device lain dan paste token di sini sebagai fallback manual.</p></div> <div class="mt-4 space-y-2"><div class="flex items-center justify-between mb-1"><p class="text-xs font-medium text-gray-600 dark:text-gray-300">Scan dengan kamera</p> <div class="flex gap-2"><button type="button" class="px-3 py-1.5 rounded-full text-[11px] font-semibold border border-primary-200 dark:border-primary-800 text-primary-700 dark:text-primary-300 bg-primary-50/60 dark:bg-primary-900/20"> </button> <!></div></div> <div id="qr-reader" class="rounded-lg border border-dashed border-gray-300 dark:border-gray-700 min-h-[220px] flex items-center justify-center text-[11px] text-gray-500 dark:text-gray-400 bg-gray-50/60 dark:bg-gray-900/40"><!></div></div></div> <!> <!></div></div>',1);function L8(e,r){Xt(r,!1);let i=Pe(r,"event",8),o=Se(""),u=Se(""),d=Se(""),g=Se(!1),m=Se(null),y=Se(null),p=Se(!1),v=null;async function A(){te(g,!0),te(m,null),te(y,null);try{const be=await fetch("/scan/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:w(o),gate_name:w(u),gate_id:w(d)})}),Ie=await be.json().catch(()=>null);be.ok?te(m,Ie):te(y,Ie||{status:"error",message:"Verifikasi gagal"})}catch{te(y,{status:"network_error",message:"Tidak dapat terhubung ke server"})}finally{te(g,!1)}}function T(be){return be?be==="ok"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100":be==="already_checked_in"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100":""}function O(){if(w(p)||typeof window>"u")return;te(p,!0),te(y,null);const be={fps:10,qrbox:{width:250,height:250},aspectRatio:1};v=new I8("qr-reader",be,!1),v.render(D,P)}function k(){v&&(v.clear().catch(()=>{}),v=null,te(p,!1))}function D(be){te(o,be),k()}function P(){}gx(()=>{v&&v.clear().catch(()=>{})}),Kt();var H=P8(),W=Ct(H);Vr(W,{group:"scan"});var L=I(W,2),V=_(L),q=_(V),Y=I(_(q),2),B=_(Y),ee=I(q,2),U=_(ee),ge=_(U),oe=I(_(ge),2),re=I(ge,2),ne=I(_(re),2),ce=I(U,2),R=I(_(ce),2),pe=_(R),se=I(pe,2),Oe=_(se);{var He=be=>{var Ie=Bt("Memeriksa...");K(be,Ie)},Ye=be=>{var Ie=Bt("Verifikasi");K(be,Ie)};je(Oe,be=>{w(g)?be(He):be(Ye,!1)})}var qe=I(ce,2),_e=_(qe),Ze=I(_(_e),2),ze=_(Ze),nt=_(ze),ue=I(ze,2);{var st=be=>{var Ie=T8();Be("click",Ie,k),K(be,Ie)};je(ue,be=>{w(p)&&be(st)})}var tt=I(_e,2),it=_(tt);{var at=be=>{var Ie=Bt('Kamera belum aktif. Klik "Mulai kamera" untuk scan QR.');K(be,Ie)};je(it,be=>{w(p)||be(at)})}var Te=I(ee,2);{var Xe=be=>{var Ie=R8(),Ge=_(Ie);{var Ue=Ae=>{var de=k8();K(Ae,de)},Ve=Ae=>{var de=Dr(),De=Ct(de);{var gt=ie=>{var mt=N8();K(ie,mt)};je(De,ie=>{w(m),z(()=>w(m).status==="already_checked_in")&&ie(gt)},!0)}K(Ae,de)};je(Ge,Ae=>{w(m),z(()=>w(m).status==="ok")?Ae(Ue):Ae(Ve,!1)})}var Re=I(Ge,2),he=_(Re),Ee=I(_(he),2);{var Fe=Ae=>{var de=O8(),De=Ct(de),gt=_(De),ie=I(De,2),mt=_(ie),lt=I(ie,2),vt=_(lt);Me(()=>{ae(gt,(w(m),z(()=>w(m).participant.name))),ae(mt,(w(m),z(()=>w(m).participant.email))),ae(vt,(w(m),z(()=>w(m).participant.phone)))}),K(Ae,de)},Qe=Ae=>{var de=M8();K(Ae,de)};je(Ee,Ae=>{w(m),z(()=>w(m).participant)?Ae(Fe):Ae(Qe,!1)})}var J=I(he,2),me=I(_(J),2),Mt=_(me),St=I(me,2),It=_(St);Me(Ae=>{Si(Ie,1,Ae),ae(Mt,(w(m),z(()=>w(m).event.name))),ae(It,(w(m),z(()=>w(m).event.location)))},[()=>(w(m),z(()=>`p-4 rounded-xl border ${T(w(m).status)}`))]),K(be,Ie)};je(Te,be=>{w(m)&&be(Xe)})}var Le=I(Te,2);{var dt=be=>{var Ie=D8(),Ge=I(_(Ie),2),Ue=_(Ge);Me(()=>ae(Ue,(w(y),z(()=>w(y).message||"Tiket tidak valid atau terjadi kesalahan.")))),K(be,Ie)};je(Le,be=>{w(y)&&be(dt)})}Me(()=>{ae(B,(Ce(i()),z(()=>i().name))),se.disabled=w(g)||!w(o),ze.disabled=w(p),ae(nt,w(p)?"Kamera aktif":"Mulai kamera")}),ht(oe,()=>w(u),be=>te(u,be)),ht(ne,()=>w(d),be=>te(d,be)),ht(pe,()=>w(o),be=>te(o,be)),Be("click",se,A),Be("click",ze,O),K(e,H),Yt()}const B8=Object.freeze(Object.defineProperty({__proto__:null,default:L8},Symbol.toStringTag,{value:"Module"}));var F8=ye('<div class="mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800"> </div>'),U8=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8"><h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-6">Tambah Seat</h1> <!> <form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" for="name">Nama seat</label> <input id="name" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="Contoh: Ekonomi, VIP"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" for="price">Harga</label> <input id="price" type="number" min="0" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="0"/></div> <div class="flex items-center justify-between pt-2"><a class="text-sm text-gray-600 dark:text-gray-300 hover:underline">Kembali ke daftar</a> <button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 disabled:hover:bg-primary-600 disabled:opacity-60 disabled:cursor-not-allowed shadow-sm hover:shadow-md transition-all"><!></button></div></form></div></div>',1);function j8(e,r){Xt(r,!1);let i=Pe(r,"event",8),o=Se(""),u=Se(""),d=Se(""),g=Se(!1);function m(U){if(U.preventDefault(),w(g))return;te(d,"");const ge=Number(w(u));if(!w(o)||Number.isNaN(ge)||ge<0){te(d,"Nama seat dan harga (>= 0) wajib diisi.");return}te(g,!0),er.post(`/events/${i().id}/seats`,{name:w(o),price:ge},{onFinish:()=>{te(g,!1)}})}Kt();var y=U8(),p=Ct(y);Vr(p,{group:"events"});var v=I(p,2),A=_(v),T=I(_(A),2);{var O=U=>{var ge=F8(),oe=_(ge);Me(()=>ae(oe,w(d))),K(U,ge)};je(T,U=>{w(d)&&U(O)})}var k=I(T,2),D=_(k),P=I(_(D),2),H=I(D,2),W=I(_(H),2),L=I(H,2),V=_(L),q=I(V,2),Y=_(q);{var B=U=>{var ge=Bt("Menyimpan...");K(U,ge)},ee=U=>{var ge=Bt("Simpan Seat");K(U,ge)};je(Y,U=>{w(g)?U(B):U(ee,!1)})}Me(()=>{kt(V,"href",(Ce(i()),z(()=>`/events/${i().id}/seats`))),q.disabled=w(g)}),ht(P,()=>w(o),U=>te(o,U)),ht(W,()=>w(u),U=>te(u,U)),Be("submit",k,Sn(m)),K(e,y),Yt()}const H8=Object.freeze(Object.defineProperty({__proto__:null,default:j8},Symbol.toStringTag,{value:"Module"}));var z8=ye('<div class="mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800"> </div>'),V8=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8"><h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-6">Edit Seat</h1> <!> <form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" for="name">Nama seat</label> <input id="name" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1" for="price">Harga</label> <input id="price" type="number" min="0" class="w-full rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"/></div> <div class="flex items-center justify-between pt-2"><a class="text-sm text-gray-600 dark:text-gray-300 hover:underline">Kembali ke daftar</a> <button type="submit" class="inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 shadow-sm hover:shadow-md transition-all">Simpan Perubahan</button></div></form></div></div>',1);function G8(e,r){var q,Y;Xt(r,!1);let i=Pe(r,"event",8),o=Pe(r,"seat",8),u=Se(((q=o())==null?void 0:q.name)||""),d=Se(((Y=o())==null?void 0:Y.price)!=null?String(o().price):""),g=Se("");function m(B){B.preventDefault(),te(g,"");const ee=Number(w(d));if(!w(u)||Number.isNaN(ee)||ee<0){te(g,"Nama seat dan harga (>= 0) wajib diisi.");return}er.post(`/events/${i().id}/seats/${o().id}`,{name:w(u),price:ee})}Kt();var y=V8(),p=Ct(y);Vr(p,{group:"events"});var v=I(p,2),A=_(v),T=I(_(A),2);{var O=B=>{var ee=z8(),U=_(ee);Me(()=>ae(U,w(g))),K(B,ee)};je(T,B=>{w(g)&&B(O)})}var k=I(T,2),D=_(k),P=I(_(D),2),H=I(D,2),W=I(_(H),2),L=I(H,2),V=_(L);Me(()=>kt(V,"href",(Ce(i()),z(()=>`/events/${i().id}/seats`)))),ht(P,()=>w(u),B=>te(u,B)),ht(W,()=>w(d),B=>te(d,B)),Be("submit",k,Sn(m)),K(e,y),Yt()}const W8=Object.freeze(Object.defineProperty({__proto__:null,default:G8},Symbol.toStringTag,{value:"Module"}));var X8=ye('<tr><td colspan="3" class="px-4 py-8 text-center text-gray-500 dark:text-gray-400">Belum ada seat. Tambahkan kategori seat seperti Ekonomi, VIP, dll.</td></tr>'),Y8=ye('<tr class="border-t border-gray-100 dark:border-gray-800 hover:bg-gray-50/60 dark:hover:bg-gray-800/60"><td class="px-4 py-3"><div class="font-medium text-gray-900 dark:text-gray-50"> </div></td><td class="px-4 py-3 text-xs text-gray-700 dark:text-gray-200"> </td><td class="px-4 py-3 text-right space-x-2"><a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-primary-700 dark:text-primary-300 border border-primary-100 dark:border-primary-900 hover:bg-primary-50/80 dark:hover:bg-primary-900/30">Edit</a> <button type="button" class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold text-red-700 dark:text-red-300 border border-red-100 dark:border-red-900 hover:bg-red-50/80 dark:hover:bg-red-900/30 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-transparent"><!></button></td></tr>'),q8=ye('<!> <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-950 pt-24 pb-8 sm:pt-28 sm:pb-12"><div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"><div><p class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-1">Seat</p> <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"> </h1> <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">Kelola kategori seat dan harga untuk event ini.</p></div> <div class="flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-end"><a class="inline-flex items-center px-3 py-1.5 rounded-lg text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 hover:bg-gray-50/80 dark:hover:bg-gray-800/40">Peserta</a> <button type="button" class="inline-flex items-center justify-center px-4 py-2 rounded-lg text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 shadow-sm hover:shadow-md transition-all">+ Tambah Seat</button></div></div> <div class="overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/70 shadow-sm"><table class="min-w-full text-sm"><thead class="bg-gray-50 dark:bg-gray-800/80"><tr><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Nama</th><th class="px-4 py-3 text-left font-semibold text-gray-600 dark:text-gray-300">Harga</th><th class="px-4 py-3 text-right font-semibold text-gray-600 dark:text-gray-300">Aksi</th></tr></thead><tbody><!></tbody></table></div></div></div>',1);function Z8(e,r){Xt(r,!1);let i=Pe(r,"event",8),o=Pe(r,"seats",28,()=>[]),u=Se(null);function d(U){if(U==null)return"-";const ge=Number(U);return Number.isNaN(ge)?"-":`Rp ${ge.toLocaleString("id-ID")}`}function g(){er.get(`/events/${i().id}/seats/create`)}async function m(U){if(!(!U||!U.id||!confirm(`Hapus seat "${U.name}"? Peserta yang memakai seat ini akan tetap tersimpan, tetapi tanpa seat.`))){te(u,U.id);try{const oe=await fetch(`/events/${i().id}/seats/${U.id}`,{method:"DELETE",headers:{"X-Inertia":"true",Accept:"application/json"}});!oe.ok&&oe.status!==204?console.error("Failed to delete seat",await oe.text()):o(o().filter(re=>re.id!==U.id))}catch(oe){console.error("Seat delete error",oe)}finally{te(u,null)}}}Kt();var y=q8(),p=Ct(y);Vr(p,{group:"events"});var v=I(p,2),A=_(v),T=_(A),O=_(T),k=I(_(O),2),D=_(k),P=I(O,2),H=_(P),W=I(H,2),L=I(T,2),V=_(L),q=I(_(V)),Y=_(q);{var B=U=>{var ge=X8();K(U,ge)},ee=U=>{var ge=Dr(),oe=Ct(ge);cr(oe,1,o,xr,(re,ne)=>{var ce=Y8(),R=_(ce),pe=_(R),se=_(pe),Oe=I(R),He=_(Oe),Ye=I(Oe),qe=_(Ye),_e=I(qe,2),Ze=_(_e);{var ze=ue=>{var st=Bt("Menghapus...");K(ue,st)},nt=ue=>{var st=Bt("Delete");K(ue,st)};je(Ze,ue=>{w(u),w(ne),z(()=>w(u)===w(ne).id)?ue(ze):ue(nt,!1)})}Me(ue=>{ae(se,(w(ne),z(()=>w(ne).name))),ae(He,ue),kt(qe,"href",(Ce(i()),w(ne),z(()=>`/events/${i().id}/seats/${w(ne).id}/edit`))),_e.disabled=(w(u),w(ne),z(()=>w(u)===w(ne).id))},[()=>(w(ne),z(()=>d(w(ne).price)))]),Be("click",_e,()=>m(w(ne))),K(re,ce)}),K(U,ge)};je(Y,U=>{Ce(o()),z(()=>o().length===0)?U(B):U(ee,!1)})}Me(()=>{ae(D,(Ce(i()),z(()=>i().name))),kt(H,"href",(Ce(i()),z(()=>`/events/${i().id}/participants`)))}),Be("click",W,g),K(e,y),Yt()}const K8=Object.freeze(Object.defineProperty({__proto__:null,default:Z8},Symbol.toStringTag,{value:"Module"}));DE({resolve:e=>Object.assign({"./Pages/auth/forgot-password.svelte":jE,"./Pages/auth/login.svelte":GE,"./Pages/auth/register.svelte":qE,"./Pages/auth/reset-password.svelte":$E,"./Pages/dashboard.svelte":E4,"./Pages/events/checkout.svelte":O4,"./Pages/events/checkout_success.svelte":U4,"./Pages/events/create.svelte":V4,"./Pages/events/edit.svelte":Y4,"./Pages/events/index.svelte":nC,"./Pages/events/report.svelte":uC,"./Pages/home.svelte":bC,"./Pages/participants/create.svelte":CC,"./Pages/participants/index.svelte":LC,"./Pages/profile.svelte":VC,"./Pages/scan/index.svelte":B8,"./Pages/seats/create.svelte":H8,"./Pages/seats/edit.svelte":W8,"./Pages/seats/index.svelte":K8})[`./Pages/${e}.svelte`],setup({el:e,App:r,props:i}){e.classList.add("dark:bg-gray-900","min-h-screen"),dx(r,{target:e,props:i})}});const Q8=window.matchMedia("(prefers-color-scheme: dark)").matches,vf=localStorage.getItem("darkMode");let $8=vf===null?Q8:vf==="true";$8?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")});export default J8();
