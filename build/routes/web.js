"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const AuthController_1 = __importDefault(require("../app/controllers/AuthController"));
const auth_1 = __importDefault(require("../app/middlewares/auth"));
const EventController_1 = __importDefault(require("../app/controllers/EventController"));
const DashboardController_1 = __importDefault(require("../app/controllers/DashboardController"));
const ParticipantController_1 = __importDefault(require("../app/controllers/ParticipantController"));
const TicketController_1 = __importDefault(require("../app/controllers/TicketController"));
const ScanController_1 = __importDefault(require("../app/controllers/ScanController"));
const role_1 = __importDefault(require("../app/middlewares/role"));
const HomeController_1 = __importDefault(require("../app/controllers/HomeController"));
const AssetController_1 = __importDefault(require("../app/controllers/AssetController"));
const S3Controller_1 = __importDefault(require("../app/controllers/S3Controller"));
const hyper_express_1 = __importDefault(require("hyper-express"));
const SeatController_1 = __importDefault(require("../app/controllers/SeatController"));
const CheckoutController_1 = __importDefault(require("../app/controllers/CheckoutController"));
const Route = new hyper_express_1.default.Router();
Route.get("/", HomeController_1.default.index);
Route.get("/events/:id/checkout", CheckoutController_1.default.form);
Route.post("/events/:id/checkout", CheckoutController_1.default.submit);
Route.get("/checkout/:token/success", CheckoutController_1.default.success);
Route.post("/api/s3/signed-url", [auth_1.default], S3Controller_1.default.getSignedUrl);
Route.get("/api/s3/public-url/:fileKey", S3Controller_1.default.getPublicUrl);
Route.get("/api/s3/health", S3Controller_1.default.health);
Route.get("/login", AuthController_1.default.loginPage);
Route.post("/login", AuthController_1.default.processLogin);
Route.get("/register", AuthController_1.default.registerPage);
Route.post("/register", AuthController_1.default.processRegister);
Route.post("/logout", AuthController_1.default.logout);
Route.get("/google/redirect", AuthController_1.default.redirect);
Route.get("/google/callback", AuthController_1.default.googleCallback);
Route.get("/forgot-password", AuthController_1.default.forgotPasswordPage);
Route.post("/forgot-password", AuthController_1.default.sendResetPassword);
Route.get("/reset-password/:id", AuthController_1.default.resetPasswordPage);
Route.post("/reset-password", AuthController_1.default.resetPassword);
Route.get("/tickets/:token", TicketController_1.default.download);
Route.post("/scan/verify", [auth_1.default, (0, role_1.default)(["gate_operator", "super_admin"])], TicketController_1.default.verify);
Route.get("/dashboard", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], DashboardController_1.default.index);
Route.get("/home", [auth_1.default], AuthController_1.default.homePage);
Route.get("/profile", [auth_1.default], AuthController_1.default.profilePage);
Route.post("/change-profile", [auth_1.default], AuthController_1.default.changeProfile);
Route.post("/change-password", [auth_1.default], AuthController_1.default.changePassword);
Route.delete("/users", [auth_1.default], AuthController_1.default.deleteUsers);
Route.get("/events", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], EventController_1.default.index);
Route.get("/events/create", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], EventController_1.default.create);
Route.post("/events", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], EventController_1.default.store);
Route.get("/events/:id/edit", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], EventController_1.default.edit);
Route.post("/events/:id", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], EventController_1.default.update);
Route.post("/events/:id/status", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], EventController_1.default.changeStatus);
Route.delete("/events/:id", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], EventController_1.default.destroy);
Route.get("/events/:id/report", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], EventController_1.default.report);
Route.get("/events/:eventId/participants", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], ParticipantController_1.default.index);
Route.get("/events/:eventId/participants/create", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], ParticipantController_1.default.create);
Route.post("/events/:eventId/participants", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], ParticipantController_1.default.store);
Route.delete("/events/:eventId/participants/:participantId", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], ParticipantController_1.default.destroy);
Route.get("/events/:eventId/seats", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], SeatController_1.default.index);
Route.get("/events/:eventId/seats/create", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], SeatController_1.default.create);
Route.post("/events/:eventId/seats", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], SeatController_1.default.store);
Route.get("/events/:eventId/seats/:seatId/edit", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], SeatController_1.default.edit);
Route.post("/events/:eventId/seats/:seatId", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], SeatController_1.default.update);
Route.delete("/events/:eventId/seats/:seatId", [auth_1.default, (0, role_1.default)(["super_admin", "organizer"])], SeatController_1.default.destroy);
Route.get("/events/:eventId/scan", [auth_1.default, (0, role_1.default)(["gate_operator", "super_admin"])], ScanController_1.default.page);
Route.get("/assets/:file", AssetController_1.default.distFolder);
Route.get("/public/*", AssetController_1.default.publicFolder);
exports.default = Route;
//# sourceMappingURL=web.js.map